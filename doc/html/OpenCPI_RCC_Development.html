<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN" "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><!--This file was converted to xhtml by LibreOffice - see http://cgit.freedesktop.org/libreoffice/core/tree/filter/source/xslt for the code.--><head profile="http://dublincore.org/documents/dcmi-terms/"><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><title xml:lang="en-US">OpenCPI RCC Development</title><meta name="DCTERMS.title" content="OpenCPI RCC Development" xml:lang="en-US"/><meta name="DCTERMS.language" content="en-US" scheme="DCTERMS.RFC4646"/><meta name="DCTERMS.source" content="http://xml.openoffice.org/odf2xhtml"/><meta name="DCTERMS.creator" content="James Kulp"/><meta name="DCTERMS.issued" content="2014-12-13T12:37:04.602691000" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.contributor" content="James Kulp"/><meta name="DCTERMS.modified" content="2018-08-29T09:43:13.735906012" scheme="DCTERMS.W3CDTF"/><meta name="DCTERMS.provenance" content="" xml:lang="en-US"/><meta name="DCTERMS.subject" content="," xml:lang="en-US"/><link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" hreflang="en"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/" hreflang="en"/><link rel="schema.DCTYPE" href="http://purl.org/dc/dcmitype/" hreflang="en"/><link rel="schema.DCAM" href="http://purl.org/dc/dcam/" hreflang="en"/><style type="text/css">
    @page {  }
    table { border-collapse:collapse; border-spacing:0; empty-cells:show }
    td, th { vertical-align:top; font-size:12pt;}
    h1, h2, h3, h4, h5, h6 { clear:both;}
    ol, ul { margin:0; padding:0;}
    li { list-style: none; margin:0; padding:0;}
    /* "li span.odfLiEnd" - IE 7 issue*/
    li span. { clear: both; line-height:0; width:0; height:0; margin:0; padding:0; }
    span.footnodeNumber { padding-right:1em; }
    span.annotation_style_by_filter { font-size:95%; font-family:Arial; background-color:#fff000;  margin:0; border:0; padding:0;  }
    span.heading_numbering { margin-right: 0.8rem; }* { margin:0;}
    .Body { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .Code { font-size:11pt; margin-bottom:0in; margin-top:0.0417in; text-align:left ! important; font-family:Courier New; writing-mode:lr-tb; margin-left:0.25in; margin-right:0in; text-indent:0in; font-weight:bold; }
    .Contents_20_1 { font-size:12pt; margin-bottom:0in; margin-top:0.0835in; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; font-weight:bold; }
    .Contents_20_2 { font-size:11pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; margin-left:0.1665in; margin-right:0in; text-indent:0in; font-weight:bold; }
    .Contents_20_3 { font-size:11pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; margin-left:0.3335in; margin-right:0in; text-indent:0in; }
    .Contents_20_4 { font-size:10pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; margin-left:0.5in; margin-right:0in; text-indent:0in; }
    .Contents_20_5 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0.6665in; margin-right:0in; text-indent:0in; }
    .Contents_20_6 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0.8335in; margin-right:0in; text-indent:0in; }
    .Contents_20_7 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:1in; margin-right:0in; text-indent:0in; }
    .Contents_20_8 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:1.1665in; margin-right:0in; text-indent:0in; }
    .Contents_20_9 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:1.3335in; margin-right:0in; text-indent:0in; }
    .Contents_20_Heading { font-size:12pt; margin-bottom:0.0835in; margin-top:0.1665in; text-align:center ! important; font-family:Liberation Sans; writing-mode:lr-tb; font-weight:bold; }
    .Footer { font-size:12pt; margin-bottom:0in; margin-top:0.0555in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .Heading_20_1 { font-size:14pt; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-weight:bold; }
    .Heading_20_2 { font-size:12pt; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-style:italic; font-weight:bold; }
    .Heading_20_3 { font-size:12pt; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-style:italic; }
    .Heading_20_4 { font-size:12pt; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-style:italic; }
    .List_20_Bullet { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0.4in; margin-right:0in; text-indent:-0.2in; }
    .List_20_Number { font-size:12pt; margin-bottom:0.05in; margin-top:0.05in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0.4in; margin-right:0.4in; text-indent:-0.2in; }
    .Numbering_20_1 { font-size:12pt; line-height:120%; margin-bottom:0.0972in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P1 { font-size:14pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; }
    .P10 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P100 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P101 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P102 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P103 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P104 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P105 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; font-weight:bold; }
    .P106 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P107_borderStart { font-size:12pt; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-bottom:0.0598in;  border-bottom-style:none; }
    .P107 { font-size:12pt; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-bottom:0.0598in; padding-top:0.0799in;  border-top-style:none; border-bottom-style:none; }
    .P107_borderEnd { font-size:12pt; margin-bottom:0.0598in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-top:0.0799in;  border-top-style:none;}
    .P108_borderStart { font-size:12pt; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-bottom:0.0598in;  border-bottom-style:none; }
    .P108 { font-size:12pt; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-bottom:0.0598in; padding-top:0.0799in;  border-top-style:none; border-bottom-style:none; }
    .P108_borderEnd { font-size:12pt; margin-bottom:0.0598in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-top:0.0799in;  border-top-style:none;}
    .P109_borderStart { font-size:12pt; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-bottom:0.0598in;  border-bottom-style:none; }
    .P109 { font-size:12pt; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-bottom:0.0598in; padding-top:0.0799in;  border-top-style:none; border-bottom-style:none; }
    .P109_borderEnd { font-size:12pt; margin-bottom:0.0598in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; background-color:transparent; padding-top:0.0799in;  border-top-style:none;}
    .P11 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P110 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P111 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P112 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P113 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P114 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P115 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P116 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P117 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P118 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P119 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P12 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P120 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P121 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P122 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P123 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P124 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P125 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P126 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P127 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P128 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P129 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P13 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P130 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P131 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P132 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P133 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P134 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P135 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P136 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P137 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P138 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P139 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P14 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P140 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P141 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P142 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P143 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P144 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P145 { font-size:10pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P146 { font-size:10pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P147 { font-size:10pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P148 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P149 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P15 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P150 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P151 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P152 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P153 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P154 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P155 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P156 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P157 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P158 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P159 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P16 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P160 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P161 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P162 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P163 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P164 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P165 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P166 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P167 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P168 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P169 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P17 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P170 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P171 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P172 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P173 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P174 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P175 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P176 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P177 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P178 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P179 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P18 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P180 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P181 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P182 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P183 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P184 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P185 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P186 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P187 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P188 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P189 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P19 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P190 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P191 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P192 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P193 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P194 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P195 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P196 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P197 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P198 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P199 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P2 { font-size:14pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P20 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P200 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P201 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P202 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P203 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P204 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P205 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P206 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P207 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P208 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P209 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P21 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P210 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P211 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P212 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P213 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P214 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P215 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P216 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P217 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P218 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P219 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P22 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P220 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P221 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P222 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P223 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P224 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P225 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P226 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P227 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P228 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P229 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P23 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P230 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P231 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P232 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P233 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P234 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P235 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P236 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P237 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P238 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P239 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P24 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P240 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P241 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P242 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P243 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P244 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P245 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P246 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P247 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P248 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P249 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P25 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P250 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P251 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P252 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P253 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P254 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P255 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P256 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P257 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P258 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P259 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P26 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P260 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P261 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P262 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P263 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P264 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P265 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P266 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P267 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P268 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P269 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P27 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P270 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P271 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-weight:normal; }
    .P272 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-weight:normal; }
    .P273 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P274 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P275 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P276 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P277 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P278 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P279 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P28 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P280 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P281 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P282 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P283 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P284 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P285 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P286 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P287 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P288 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P289 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P29 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P290 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P291 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P292 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P293 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P294 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P295 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P296 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P297 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P298 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P299 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P3 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; color:#ff0000; font-weight:bold; }
    .P30 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P300 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P301 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P302 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P303 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-style:normal; }
    .P304 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P305 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P306 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P307 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P308 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P309 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P31 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P310 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P311 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P312 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P313 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P314 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P315 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P316 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P317 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P318 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P319 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P32 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P320 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P321 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P322 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P323 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P324 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P325 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P326 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P327 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P328 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P329 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P33 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P330 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P331 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P332 { font-size:12pt; line-height:120%; margin-bottom:0.0972in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P333 { font-size:12pt; line-height:120%; margin-bottom:0.0972in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; font-weight:normal; }
    .P334 { font-size:12pt; line-height:120%; margin-bottom:0.0972in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P335 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P336 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; font-style:normal; }
    .P337 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; font-style:normal; }
    .P338 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P339 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P34 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P340 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P341 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P342 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P343 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P344 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P345 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P346 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P347 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P348 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P349 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P35 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P350 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P351 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; line-height:0.1409in; }
    .P352 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P353 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P354 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P355 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P356_borderStart { border-style:none; font-size:12pt; font-style:italic; margin-top:0.1in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in;  border-bottom-style:none; }
    .P356 { border-style:none; font-size:12pt; font-style:italic; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in; padding-top:0.1in;  border-top-style:none; border-bottom-style:none; }
    .P356_borderEnd { border-style:none; font-size:12pt; font-style:italic; margin-bottom:0.15in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-top:0.1in;  border-top-style:none;}
    .P357_borderStart { border-style:none; font-size:12pt; font-style:italic; margin-top:0.1in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in;  border-bottom-style:none; }
    .P357 { border-style:none; font-size:12pt; font-style:italic; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in; padding-top:0.1in;  border-top-style:none; border-bottom-style:none; }
    .P357_borderEnd { border-style:none; font-size:12pt; font-style:italic; margin-bottom:0.15in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-top:0.1in;  border-top-style:none;}
    .P358_borderStart { border-style:none; font-size:12pt; font-style:italic; margin-top:0.1in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in;  border-bottom-style:none; }
    .P358 { border-style:none; font-size:12pt; font-style:italic; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in; padding-top:0.1in;  border-top-style:none; border-bottom-style:none; }
    .P358_borderEnd { border-style:none; font-size:12pt; font-style:italic; margin-bottom:0.15in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-top:0.1in;  border-top-style:none;}
    .P359 { font-size:12pt; margin-bottom:0.05in; margin-left:0.4in; margin-right:0.4in; margin-top:0.05in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P36 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P360 { font-size:12pt; margin-bottom:0.05in; margin-left:0.4in; margin-right:0.4in; margin-top:0.05in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P361 { font-size:12pt; margin-bottom:0.05in; margin-left:0.4in; margin-right:0.4in; margin-top:0.05in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P362 { font-size:14pt; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P363 { font-size:14pt; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P364 { font-size:14pt; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P365_borderStart { font-size:14pt; font-weight:bold; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; background-color:transparent; padding-bottom:0.0417in;  border-bottom-style:none; }
    .P365 { font-size:14pt; font-weight:bold; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; background-color:transparent; padding-bottom:0.0417in; padding-top:0.1665in;  border-top-style:none; border-bottom-style:none; }
    .P365_borderEnd { font-size:14pt; font-weight:bold; margin-bottom:0.0417in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; background-color:transparent; padding-top:0.1665in;  border-top-style:none;}
    .P366 { font-size:14pt; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P367 { font-size:14pt; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P368 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P369 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P37 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P370 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P371 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P372 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P373 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P374 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P375 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P376 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P377 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P378 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P379 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P38 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P380 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P381 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P382 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P383 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P384 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P385 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P386 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P387 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P388 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P389 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P39 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P390 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P391 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P392 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P393 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P394 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P395 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P396 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P397 { font-size:12pt; font-style:italic; margin-bottom:0.0598in; margin-left:0.5in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.25in; font-family:Arial; writing-mode:lr-tb; }
    .P398 { font-size:11pt; margin-bottom:0in; margin-left:0.3335in; margin-right:0in; margin-top:0in; text-align:left ! important; text-indent:0in; font-family:Calibri; writing-mode:lr-tb; }
    .P399 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.1665in; margin-right:0in; margin-top:0in; text-align:left ! important; text-indent:0in; font-family:Calibri; writing-mode:lr-tb; }
    .P4 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; color:#ff0000; font-weight:bold; }
    .P40 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P400 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P401 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P402 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P403 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P404 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P405 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P406 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P407 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P408 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P409 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P41 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P410 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P411 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P412 { font-size:12pt; font-style:italic; font-weight:bold; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P413 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P414 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P415 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P416 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P417 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P418 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P419 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P42 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P420 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P421 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P422 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P423 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P424 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P425 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P426 { font-size:12pt; margin-bottom:0.0598in; margin-left:0.4in; margin-right:0in; margin-top:0.0799in; text-align:left ! important; text-indent:-0.2in; font-family:Arial; writing-mode:lr-tb; }
    .P427 { font-size:12pt; margin-bottom:0.0555in; margin-left:0.25in; margin-right:0in; margin-top:0.0693in; text-align:left ! important; text-indent:-0.25in; font-family:Arial; writing-mode:lr-tb; vertical-align:top; }
    .P428 { font-size:12pt; font-weight:bold; margin-bottom:0in; margin-top:0.0835in; text-align:left ! important; font-family:Calibri; writing-mode:lr-tb; }
    .P429 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; }
    .P43 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P430 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P431 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P432 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P433 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P434 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P435 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P436 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P437 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P438 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P439 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P44 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P440 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P441 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P442 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P443 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P444 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P445 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P446 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P447 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P448 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P449 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P45 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P450 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P451 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P452 { font-size:12pt; font-style:italic; margin-bottom:0.0417in; margin-top:0.1665in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P46 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P47 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P48 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P49 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P5 { font-size:22pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; color:#ff0000; font-weight:bold; }
    .P50 { font-size:7pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P51 { font-size:12pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P52 { font-size:12pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P53 { font-size:12pt; margin-bottom:0in; margin-top:0in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P54 { font-size:12pt; margin-bottom:0in; margin-top:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; font-style:italic; }
    .P55 { font-size:12pt; font-weight:bold; margin-bottom:0in; margin-top:0.0835in; text-align:center ! important; font-family:Calibri; writing-mode:lr-tb; }
    .P56 { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0.25in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .P57 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P58 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P59 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P6 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P60 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P61 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P62 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P63 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; line-height:0.1409in; }
    .P64 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; line-height:0.1409in; }
    .P65 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; line-height:0.1409in; }
    .P66 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; line-height:0.1409in; }
    .P67 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P68 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P69 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P7 { font-size:8pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; font-weight:bold; }
    .P70 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P71 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P72 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P73 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P74 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P75 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P76 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; color:#0000ff; text-decoration:underline; }
    .P77 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P78 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P79 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P8 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P80 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P81 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P82 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P83 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P84 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P85 { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P86 { font-size:12pt; font-weight:bold; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P87 { font-size:11pt; font-weight:bold; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P88 { font-size:11pt; font-weight:bold; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; line-height:100%; }
    .P89 { font-size:11pt; font-weight:bold; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; line-height:100%; }
    .P9 { font-size:12pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P90 { font-size:11pt; font-weight:bold; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .P91 { font-size:11pt; font-weight:bold; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; line-height:100%; }
    .P92 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; font-weight:bold; }
    .P93 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; font-weight:bold; }
    .P94 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; font-weight:bold; }
    .P95 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P96 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P97 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P98 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .P99 { font-size:11pt; margin-bottom:0.0555in; margin-top:0.0693in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; margin-left:0in; margin-right:0in; text-indent:0in; vertical-align:top; }
    .Standard { font-size:12pt; font-family:Arial; writing-mode:lr-tb; margin-top:0.0799in; margin-bottom:0.0598in; text-align:left ! important; }
    .Table_20_Caption_20__28_before_29__borderStart { border-style:none; font-size:12pt; font-style:italic; margin-top:0.1in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in;  border-bottom-style:none; }
    .Table_20_Caption_20__28_before_29_ { border-style:none; font-size:12pt; font-style:italic; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-bottom:0.15in; padding-top:0.1in;  border-top-style:none; border-bottom-style:none; }
    .Table_20_Caption_20__28_before_29__borderEnd { border-style:none; font-size:12pt; font-style:italic; margin-bottom:0.15in; padding:0in; text-align:center ! important; font-family:Arial; writing-mode:lr-tb; padding-top:0.1in;  border-top-style:none;}
    .Table_20_Code { font-size:11pt; font-weight:bold; margin-bottom:0in; margin-left:0in; margin-right:0in; margin-top:0.0417in; text-align:left ! important; text-indent:0in; font-family:Courier New; writing-mode:lr-tb; }
    .Table_20_Contents { font-size:11pt; margin-bottom:0.0598in; margin-top:0.0799in; text-align:left ! important; font-family:Arial; writing-mode:lr-tb; }
    .Table1 { width:6.4972in; margin-left:-0.0181in; margin-top:0in; margin-bottom:0in; margin-right:auto;writing-mode:lr-tb; }
    .Table10 { width:6.0799in; margin-left:0in; margin-top:0in; margin-bottom:0in; margin-right:auto;writing-mode:lr-tb; }
    .Table11 { width:6.5042in; margin-left:0in; margin-top:0in; margin-bottom:0in; margin-right:auto;writing-mode:lr-tb; }
    .Table12 { width:6.5in; float:none; writing-mode:lr-tb; }
    .Table2 { width:6.5in; margin-left:-0.0125in; margin-top:0in; margin-bottom:0in; margin-right:auto;writing-mode:lr-tb; }
    .Table3 { width:6.5785in; margin-left:0in; margin-top:0in; margin-bottom:0in; margin-right:auto;writing-mode:lr-tb; }
    .Table4 { width:6.5in; float:none; writing-mode:lr-tb; }
    .Table5 { width:5.991in; margin-left:0.009in; margin-top:0in; margin-bottom:0in; margin-right:auto;writing-mode:lr-tb; }
    .Table6 { width:6.5in; margin-top:0in; margin-bottom:0in; float:none; writing-mode:lr-tb; }
    .Table7 { width:6.5in; float:none; writing-mode:lr-tb; }
    .Table8 { width:6.5in; margin-top:0in; margin-bottom:0in; float:none; writing-mode:lr-tb; }
    .Table9 { width:6.5in; float:none; writing-mode:lr-tb; }
    .Table1_A1 { padding-left:0.0833in; padding-right:0.0799in; padding-top:0in; padding-bottom:0in; border-width:0.0176cm; border-style:solid; border-color:#00000a; }
    .Table1_A3 { padding-left:0.0833in; padding-right:0.0799in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#00000a; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#00000a; border-top-style:none; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#00000a; }
    .Table10_A1 { vertical-align:top; padding:0in; border-width:0.0176cm; border-style:solid; border-color:#000001; }
    .Table10_A4 { vertical-align:top; padding:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-style:none; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; }
    .Table11_A1 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-width:0.0176cm; border-style:solid; border-color:#000001; writing-mode:lr-tb; }
    .Table11_A3 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-style:none; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table12_A1 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-left-width:0.0133cm; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:0.0133cm; border-top-style:solid; border-top-color:#000000; border-bottom-width:0.0133cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table12_A2 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-left-width:0.0133cm; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:0.0133cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table12_B1 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-width:0.0133cm; border-style:solid; border-color:#000000; }
    .Table12_B2 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-left-width:0.0133cm; border-left-style:solid; border-left-color:#000000; border-right-width:0.0133cm; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:0.0133cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table2_A1 { vertical-align:middle; padding:0in; border-width:0.0176cm; border-style:solid; border-color:#000001; }
    .Table2_A3 { vertical-align:middle; padding:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-style:none; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; }
    .Table3_A1 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.0176cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.1058cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table3_A2 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.1058cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table3_A3 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-width:0.0176cm; border-style:solid; border-color:#000001; writing-mode:lr-tb; }
    .Table4_A1 { padding:0.05in; border-left-width:0.0353cm; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:0.0353cm; border-top-style:solid; border-top-color:#000000; border-bottom-width:0.0353cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table4_A2 { padding:0.05in; border-left-width:0.0353cm; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:0.0353cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table4_D1 { padding:0.05in; border-width:0.0353cm; border-style:solid; border-color:#000000; }
    .Table4_D2 { padding:0.05in; border-left-width:0.0353cm; border-left-style:solid; border-left-color:#000000; border-right-width:0.0353cm; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:0.0353cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table5_A1 { vertical-align:middle; padding:0.05in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-style:none; border-top-width:0.0176cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.1058cm; border-bottom-style:solid; border-bottom-color:#000001; }
    .Table5_A2 { vertical-align:top; padding:0.05in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-style:none; border-top-width:0.1058cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; }
    .Table5_A3 { vertical-align:top; padding:0.05in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-style:none; border-top-width:0.0176cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; }
    .Table5_B1 { vertical-align:middle; padding:0.05in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.0176cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.1058cm; border-bottom-style:solid; border-bottom-color:#000001; }
    .Table5_B2 { vertical-align:top; padding:0.05in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.1058cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; }
    .Table5_B3 { vertical-align:top; padding:0.05in; border-width:0.0176cm; border-style:solid; border-color:#000001; }
    .Table6_A1 { vertical-align:top; background-color:transparent; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.0176cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.1058cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table6_A2 { vertical-align:top; background-color:transparent; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.1058cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table6_A3 { vertical-align:top; background-color:transparent; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-width:0.0176cm; border-style:solid; border-color:#000001; writing-mode:lr-tb; }
    .Table7_A1 { padding:0.0382in; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:thin; border-top-style:solid; border-top-color:#000000; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table7_A2 { padding:0.0382in; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table7_C1 { padding:0.0382in; border-width:thin; border-style:solid; border-color:#000000; }
    .Table7_C2 { padding:0.0382in; border-left-width:thin; border-left-style:solid; border-left-color:#000000; border-right-width:thin; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:thin; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table8_A1 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.0176cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.1058cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table8_A2 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-width:0.1058cm; border-top-style:solid; border-top-color:#000001; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table8_A3 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-width:0.0176cm; border-style:solid; border-color:#000001; writing-mode:lr-tb; }
    .Table8_A5 { vertical-align:top; padding-left:0.075in; padding-right:0.075in; padding-top:0in; padding-bottom:0in; border-left-width:0.0176cm; border-left-style:solid; border-left-color:#000001; border-right-width:0.0176cm; border-right-style:solid; border-right-color:#000001; border-top-style:none; border-bottom-width:0.0176cm; border-bottom-style:solid; border-bottom-color:#000001; writing-mode:lr-tb; }
    .Table9_A1 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-left-width:0.0133cm; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-width:0.0133cm; border-top-style:solid; border-top-color:#000000; border-bottom-width:0.0133cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table9_A2 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-left-width:0.0133cm; border-left-style:solid; border-left-color:#000000; border-right-style:none; border-top-style:none; border-bottom-width:0.0133cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table9_C1 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-width:0.0133cm; border-style:solid; border-color:#000000; }
    .Table9_C2 { padding-left:0.0097in; padding-right:0.0097in; padding-top:0in; padding-bottom:0in; border-left-width:0.0133cm; border-left-style:solid; border-left-color:#000000; border-right-width:0.0133cm; border-right-style:solid; border-right-color:#000000; border-top-style:none; border-bottom-width:0.0133cm; border-bottom-style:solid; border-bottom-color:#000000; }
    .Table1_A { width:0.6424in; }
    .Table1_B { width:4.8604in; }
    .Table1_C { width:0.9944in; }
    .Table10_A { width:1.2472in; }
    .Table10_B { width:4.8326in; }
    .Table11_A { width:2.3139in; }
    .Table11_B { width:4.1903in; }
    .Table12_A { width:1.9396in; }
    .Table12_B { width:4.5604in; }
    .Table2_A { width:1.5in; }
    .Table2_B { width:1.0604in; }
    .Table2_C { width:3.9396in; }
    .Table3_A { width:1in; }
    .Table3_B { width:1.1903in; }
    .Table3_C { width:4.3882in; }
    .Table4_A { width:1.4361in; }
    .Table4_B { width:1.4993in; }
    .Table4_C { width:0.7549in; }
    .Table4_D { width:2.8097in; }
    .Table5_A { width:1.7549in; }
    .Table5_B { width:4.2361in; }
    .Table6_A { width:1in; }
    .Table6_B { width:1.7549in; }
    .Table6_C { width:0.7451in; }
    .Table6_D { width:3in; }
    .Table7_A { width:1.3736in; }
    .Table7_B { width:1.566in; }
    .Table7_C { width:3.5604in; }
    .Table8_A { width:1.691in; }
    .Table8_B { width:4.809in; }
    .Table9_A { width:1.309in; }
    .Table9_B { width:1.6299in; }
    .Table9_C { width:3.5611in; }
    .Bullet_20_Symbols { font-family:OpenSymbol; }
    .Code { font-family:Courier New; font-size:12pt; font-weight:bold; background-color:transparent; }
    .FirstEmphasis { font-family:Arial; font-size:12pt; font-style:italic; font-weight:bold; }
    .Internet_20_link { font-size:12pt; font-family:Arial; color:#0000ff; text-decoration:underline; }
    .T10 { font-weight:bold; }
    .T100 { font-size:11pt; }
    .T101 { font-family:Arial; font-size:12pt; }
    .T102 { font-family:Arial; font-size:12pt; }
    .T103 { font-family:Arial; font-size:12pt; }
    .T104 { font-family:Arial; font-size:12pt; }
    .T105 { font-family:Arial; font-size:12pt; }
    .T106 { font-family:Arial; font-size:12pt; font-weight:bold; }
    .T107 { font-family:Arial; font-size:12pt; font-weight:bold; }
    .T108 { font-family:Arial; font-size:12pt; font-style:normal; }
    .T11 { font-weight:bold; }
    .T110 { color:#0000ff; font-family:Arial; font-size:11pt; text-decoration:underline; }
    .T112 { color:#0000ff; font-family:Arial; font-size:11pt; text-decoration:underline; }
    .T116 { font-size:12pt; }
    .T117 { font-size:12pt; }
    .T118 { font-size:12pt; }
    .T119 { font-size:12pt; }
    .T12 { font-weight:bold; }
    .T120 { font-size:12pt; }
    .T121 { font-size:12pt; }
    .T122 { font-size:12pt; }
    .T123 { font-size:12pt; }
    .T124 { font-size:12pt; }
    .T125 { font-size:12pt; }
    .T126 { font-size:12pt; }
    .T127 { font-size:12pt; }
    .T128 { font-size:12pt; }
    .T129 { font-size:12pt; }
    .T13 { font-weight:bold; }
    .T130 { font-size:12pt; }
    .T131 { font-size:12pt; }
    .T132 { font-size:12pt; }
    .T133 { font-size:12pt; }
    .T134 { font-size:12pt; }
    .T135 { font-size:12pt; }
    .T136 { font-size:12pt; }
    .T137 { font-size:12pt; }
    .T138 { font-size:12pt; }
    .T139 { font-size:12pt; }
    .T14 { font-weight:bold; }
    .T140 { font-size:12pt; }
    .T141 { font-size:12pt; }
    .T142 { font-size:12pt; }
    .T143 { font-size:12pt; }
    .T144 { font-size:12pt; }
    .T145 { font-size:12pt; }
    .T146 { font-size:12pt; }
    .T147 { font-size:12pt; }
    .T148 { font-size:12pt; }
    .T149 { font-size:12pt; font-style:italic; }
    .T15 { font-weight:bold; }
    .T150 { font-size:12pt; font-style:italic; }
    .T151 { font-size:12pt; font-style:italic; }
    .T152 { font-size:12pt; font-style:italic; }
    .T153 { font-size:12pt; font-style:italic; font-weight:bold; }
    .T154 { font-size:12pt; font-style:italic; font-weight:bold; }
    .T155 { font-size:12pt; font-weight:bold; }
    .T156 { font-size:12pt; background-color:transparent; }
    .T157 { font-size:12pt; background-color:transparent; }
    .T158 { font-size:12pt; background-color:transparent; }
    .T159 { font-size:12pt; font-style:normal; }
    .T16 { font-weight:bold; }
    .T160 { font-size:12pt; font-style:normal; }
    .T161 { font-size:12pt; font-style:normal; }
    .T162 { font-size:12pt; font-style:normal; }
    .T163 { font-size:12pt; font-style:normal; }
    .T164 { font-size:12pt; font-style:normal; }
    .T165 { font-size:12pt; font-style:normal; }
    .T17 { font-weight:bold; }
    .T18 { font-weight:bold; }
    .T184 { font-family:Courier New; font-style:italic; font-weight:bold; }
    .T19 { font-weight:bold; }
    .T20 { font-weight:bold; }
    .T205 { font-family:Arial; font-size:12pt; }
    .T206 { font-family:Arial; font-size:12pt; }
    .T207 { font-family:Arial; font-size:12pt; }
    .T208 { font-family:Arial; font-size:12pt; }
    .T209 { font-family:Arial; font-size:12pt; }
    .T21 { font-weight:bold; }
    .T210 { font-family:Arial; font-size:12pt; }
    .T211 { font-family:Arial; font-size:12pt; }
    .T212 { font-family:Arial; font-size:12pt; }
    .T213 { font-family:Arial; font-size:12pt; }
    .T214 { font-family:Arial; font-size:12pt; }
    .T215 { font-family:Arial; font-size:12pt; }
    .T216 { font-family:Arial; font-size:12pt; }
    .T217 { font-family:Arial; font-size:12pt; }
    .T218 { font-family:Arial; font-size:12pt; font-style:italic; font-weight:bold; }
    .T219 { font-family:Arial; font-size:12pt; font-style:italic; font-weight:bold; }
    .T22 { font-weight:bold; }
    .T220 { font-family:Arial; font-size:12pt; font-style:italic; font-weight:bold; }
    .T221 { font-family:Arial; font-size:12pt; font-style:italic; font-weight:bold; }
    .T222 { font-family:Arial; font-size:12pt; font-weight:bold; }
    .T23 { font-weight:bold; }
    .T24 { font-weight:bold; }
    .T25 { color:#000000; font-family:Arial; font-size:12pt; background-color:transparent; }
    .T26 { color:#000000; }
    .T260 { font-family:Courier; font-size:10pt; }
    .T261 { font-family:Courier; font-size:10pt; }
    .T262 { font-family:Courier; font-size:10pt; }
    .T263 { font-family:Courier; font-size:10pt; }
    .T264 { font-family:Courier; font-size:10pt; font-style:italic; }
    .T265 { font-family:Courier; font-size:10pt; font-style:italic; font-weight:bold; }
    .T266 { font-family:Courier; font-size:10pt; font-style:italic; font-weight:bold; }
    .T267 { font-family:Courier; font-size:10pt; font-style:italic; font-weight:bold; }
    .T268 { font-family:Courier; font-size:10pt; font-weight:bold; }
    .T27 { color:#000000; }
    .T28 { font-size:28pt; font-weight:bold; }
    .T280 { font-family:Courier New; font-weight:bold; }
    .T29 { font-size:28pt; font-weight:bold; }
    .T3 { font-weight:bold; }
    .T30 { font-size:28pt; font-weight:bold; }
    .T31 { font-style:italic; }
    .T32 { font-style:italic; }
    .T33 { font-style:italic; }
    .T34 { font-style:italic; }
    .T35 { font-style:italic; }
    .T36 { font-style:italic; }
    .T37 { font-style:italic; }
    .T371 { text-decoration:underline; }
    .T372 { text-decoration:underline; }
    .T38 { font-style:italic; }
    .T39 { font-style:italic; }
    .T4 { font-weight:bold; }
    .T40 { font-style:italic; }
    .T41 { font-style:italic; }
    .T410 { font-family:Courier New; font-size:12pt; font-weight:bold; }
    .T411 { font-family:Courier New; font-size:12pt; font-weight:bold; }
    .T413 { font-family:Courier New; font-size:12pt; font-weight:bold; }
    .T414 { font-family:Courier New; font-size:12pt; font-weight:bold; }
    .T42 { font-style:italic; }
    .T43 { font-style:italic; }
    .T44 { font-style:italic; }
    .T45 { font-style:italic; }
    .T459 { font-size:10pt; }
    .T46 { font-style:italic; }
    .T460 { font-size:10pt; }
    .T461 { font-size:10pt; }
    .T462 { font-size:10pt; }
    .T463 { font-size:10pt; }
    .T464 { font-size:10pt; }
    .T465 { font-size:10pt; }
    .T467 { font-family:Courier New; font-size:10pt; }
    .T47 { font-style:italic; }
    .T48 { font-style:italic; }
    .T49 { font-style:italic; }
    .T5 { font-weight:bold; }
    .T50 { font-style:italic; }
    .T505 { font-family:Symbol; }
    .T51 { font-style:italic; }
    .T52 { font-style:italic; }
    .T53 { font-style:italic; }
    .T54 { font-style:italic; }
    .T55 { font-style:italic; }
    .T555 { text-decoration:none ! important; }
    .T556 { text-decoration:none ! important; }
    .T557 { text-decoration:none ! important; }
    .T56 { font-style:italic; }
    .T57 { font-style:italic; }
    .T58 { font-style:italic; font-weight:bold; }
    .T59 { font-style:italic; font-weight:bold; }
    .T6 { font-weight:bold; }
    .T60 { font-style:italic; font-weight:bold; }
    .T61 { font-style:italic; font-weight:bold; }
    .T62 { font-style:italic; font-weight:bold; }
    .T63 { font-style:italic; font-weight:bold; }
    .T64 { font-style:italic; font-weight:bold; }
    .T65 { font-style:italic; font-weight:bold; }
    .T66 { font-style:italic; font-weight:bold; }
    .T67 { font-style:italic; font-weight:bold; }
    .T68 { font-style:italic; }
    .T69 { font-style:italic; font-weight:normal; }
    .T7 { font-weight:bold; }
    .T70 { font-style:italic; font-weight:normal; }
    .T71 { font-size:7pt; }
    .T72 { font-size:7pt; }
    .T73 { font-size:7pt; }
    .T74 { font-style:normal; }
    .T75 { font-style:normal; }
    .T76 { font-style:normal; }
    .T77 { font-style:normal; }
    .T78 { font-style:normal; }
    .T79 { font-style:normal; }
    .T8 { font-weight:bold; }
    .T80 { font-style:normal; font-weight:normal; }
    .T81 { font-style:normal; font-weight:normal; }
    .T82 { font-style:normal; font-weight:normal; }
    .T83 { font-style:normal; font-weight:normal; }
    .T84 { font-style:normal; font-weight:normal; }
    .T85 { font-style:normal; font-weight:normal; }
    .T86 { font-style:normal; }
    .T87 { font-style:normal; }
    .T88 { font-style:normal; }
    .T89 { font-style:normal; }
    .T9 { font-weight:bold; }
    .T90 { font-style:normal; }
    .T91 { font-style:normal; }
    .T92 { font-style:normal; }
    .T93 { font-size:11pt; font-weight:bold; }
    .T94 { font-size:11pt; font-weight:bold; }
    .T95 { font-size:11pt; }
    .T96 { font-size:11pt; }
    .T97 { font-size:11pt; }
    .T98 { font-size:11pt; }
    /* ODF styles with no properties representable as CSS */
    .Sect1 .Table1.1 .Table1.10 .Table1.2 .Table10.1 .Table11.1 .Table2.1 .Table3.1 .Table5.1 .Table6.1 .Table8.1 .Index_20_Link .ListLabel_20_1 .Numbering_20_Symbols .T1 .T109 .T113 .T114 .T115 .T166 .T167 .T168 .T169 .T170 .T171 .T172 .T173 .T174 .T175 .T176 .T177 .T178 .T179 .T180 .T181 .T182 .T183 .T185 .T186 .T187 .T188 .T189 .T190 .T191 .T192 .T193 .T194 .T195 .T196 .T197 .T198 .T199 .T200 .T201 .T202 .T203 .T204 .T223 .T224 .T225 .T226 .T227 .T228 .T229 .T230 .T231 .T232 .T233 .T234 .T235 .T236 .T237 .T238 .T239 .T240 .T241 .T242 .T243 .T244 .T245 .T246 .T247 .T248 .T249 .T250 .T251 .T252 .T253 .T254 .T255 .T256 .T257 .T258 .T259 .T269 .T270 .T271 .T272 .T273 .T274 .T275 .T276 .T277 .T278 .T279 .T281 .T282 .T283 .T284 .T285 .T286 .T287 .T288 .T289 .T290 .T291 .T292 .T293 .T294 .T295 .T296 .T297 .T298 .T299 .T300 .T301 .T302 .T303 .T304 .T305 .T306 .T307 .T308 .T309 .T310 .T311 .T312 .T313 .T314 .T315 .T316 .T317 .T318 .T319 .T320 .T321 .T322 .T323 .T324 .T325 .T326 .T327 .T328 .T329 .T330 .T331 .T332 .T333 .T334 .T335 .T336 .T337 .T338 .T339 .T340 .T341 .T342 .T343 .T344 .T345 .T346 .T347 .T348 .T349 .T350 .T351 .T352 .T353 .T354 .T355 .T356 .T357 .T358 .T359 .T360 .T361 .T362 .T363 .T364 .T365 .T366 .T367 .T368 .T369 .T370 .T373 .T374 .T375 .T376 .T377 .T378 .T379 .T380 .T381 .T382 .T383 .T384 .T385 .T386 .T387 .T388 .T389 .T390 .T391 .T392 .T393 .T394 .T395 .T396 .T397 .T398 .T399 .T400 .T401 .T402 .T403 .T404 .T405 .T406 .T407 .T408 .T409 .T412 .T415 .T416 .T417 .T418 .T419 .T420 .T421 .T422 .T423 .T424 .T425 .T426 .T427 .T428 .T429 .T430 .T431 .T432 .T433 .T434 .T435 .T436 .T437 .T438 .T439 .T440 .T441 .T442 .T443 .T444 .T445 .T446 .T447 .T448 .T449 .T450 .T451 .T452 .T453 .T454 .T455 .T456 .T457 .T458 .T466 .T468 .T469 .T470 .T471 .T472 .T473 .T474 .T475 .T476 .T477 .T478 .T479 .T480 .T481 .T482 .T483 .T484 .T485 .T486 .T487 .T488 .T489 .T490 .T491 .T492 .T493 .T494 .T495 .T496 .T497 .T498 .T499 .T500 .T501 .T502 .T503 .T504 .T506 .T507 .T508 .T509 .T510 .T511 .T512 .T513 .T514 .T515 .T516 .T517 .T518 .T519 .T520 .T521 .T522 .T523 .T524 .T525 .T526 .T527 .T528 .T529 .T530 .T531 .T532 .T533 .T534 .T535 .T536 .T537 .T538 .T539 .T540 .T541 .T542 .T543 .T544 .T545 .T546 .T547 .T548 .T549 .T550 .T551 .T552 .T553 .T554 .T558 .T559 .T560 .T561 .T562 .T563 .T564 .T565 .T566 .T567 .T568 .T569 .T570 .T571 .T572 .T573 .T574 .T575 .T576 .T577 .T578 .T579 .T580 .T581 .T582 .T583 .T584 .T585 .T586 .T587 .T588  { }
    </style></head><body dir="ltr" style="max-width:8.5in;margin-top:1in; margin-bottom:0.5in; margin-left:1in; margin-right:1in; "><p class="P429"><span class="T28">OpenCPI<br/></span><span class="T30">RCC</span><span class="T29"> Development<br/>Guide</span></p><p class="P1"> </p><p class="P2"> </p><p class="P6"> </p><p class="P6"> </p><p class="P6"> </p><p class="P6"> </p><p class="P5"> </p><p class="P4"> </p><p class="P4"> </p><p class="P3"> </p><p class="P3"> </p><p class="P6"> </p><p class="P6"> </p><p class="P6"> </p><p class="P6"> </p><p class="P6"> </p><p class="P6"> </p><p class="P54">Revision History</p><table border="0" cellspacing="0" cellpadding="0" class="Table1"><colgroup><col width="71"/><col width="540"/><col width="110"/></colgroup><tr class="Table11"><td style="text-align:left;width:0.6424in; " class="Table1_A1"><p class="P7">Revision</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A1"><p class="P7">Description of Change</p></td><td style="text-align:left;width:0.9944in; " class="Table1_A1"><p class="P7">Date</p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A1"><p class="P34">0.1</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A1"><p class="P53"><span class="T72">I</span><span class="T71">nitial, </span><span class="T73">from earlier doc sources</span></p></td><td style="text-align:left;width:0.9944in; " class="Table1_A1"><p class="P52"><span class="T71">201</span><span class="T73">5</span><span class="T71">-</span><span class="T72">1</span><span class="T73">0</span><span class="T71">-</span><span class="T73">31</span></p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P35">0.9</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P35">Add all C++ content slave/proxy content, references to CDG</p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P43">2016-01-27</p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P36">0.95</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P36">Another editing pass with more consistent typography</p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P44">2016-02-04</p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P37">1.0</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P37">Accommodate additional issues, <span class="T438">debug, opcodes, additional C++ container methods, debugging, C++ example</span></p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P45">2016-04-13</p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P38">1.0.1</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P38">Clarify run conditions, beforeQuery, firstRun, minbuffercount, port masks, <span class="T519">ordinal()</span></p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P46">2016-09-24</p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P39">1.0.2</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P39">Clarify (non) interaction between minbuffercount OWD attribute and run conditions</p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P47">2016-10-18</p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P40">1.1</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P48">Update for 201<span class="T520">7</span>Q1</p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P49">2017-02-21</p></td></tr><tr class="Table12"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P41">1.2</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P50">Update for 2017.Q1</p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P50">2017-08-08</p></td></tr><tr class="Table110"><td style="text-align:left;width:0.6424in; " class="Table1_A3"><p class="P42">1.3</p></td><td style="text-align:left;width:4.8604in; " class="Table1_A3"><p class="P42">More multi-threaded guidance and limited library/local service functions</p></td><td style="text-align:left;width:0.9944in; " class="Table1_A3"><p class="P42">2018-02-23</p></td></tr></table><p class="P51"> </p><p class="P55">Table of Contents</p><table border="0" cellspacing="0" cellpadding="0" class="Sect1"><colgroup/><tr><td><p class="P428"><a href="#__RefHeading__1015_1060509377">1 Introduction</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading__11068_1972665394">1.1 References</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading___Toc5318_1067000368">2 Overview</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__15951_517827571">3 XML Description Files (OWD) for RCC Workers.</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading__15953_517827571">3.1 Attributes of a Top-level RCCWorker Element</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__15955_517827571">3.1.1 Name Attribute — See the CDG</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc35101_549088399">3.1.2 Spec Attribute — See the CDG</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10634_140039662">3.1.3 ControlOperations Attribute — See the CDG</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10632_140039662">3.1.4 Language Attribute</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8035_1067000368">3.1.5 Slave Attribute — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__57792_638251233">3.1.6 ExternMethods Attribute — C Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc35103_549088399">3.1.7 StaticMethods Attribute — C Language Only</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading__10636_140039662">3.2 Attributes of Port Elements in the OWD</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10638_140039662">3.2.1 Name Attribute</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10640_140039662">3.2.2 MinBufferCount Attribute</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__10574_140039662">4 The RCC Worker Interface</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc71721_1826048042">4.1 The RCC Execution Model</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading__10576_140039662">4.2 Worker Methods: Called by the Container, Implemented by the Worker.</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__8692_1123303156">4.2.1 RCCWorker Structure Type – C Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc35105_549088399">4.2.2 The Worker Derived Class – C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10578_140039662">4.2.3 RCCResult Enumeration Type — C and C++ Languages</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc36515_1948322210">4.2.4 Worker Initializations</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10580_140039662">4.2.5 initialize — Worker Method</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10582_140039662">4.2.6 start — Worker Method</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10584_140039662">4.2.7 stop — Worker Method</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10586_140039662">4.2.8 release — Worker Method</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc299909_943807761">4.2.9 run — Worker Method</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading__10596_140039662">4.3 Container Methods, Called by the Worker.</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc36517_1948322210">4.3.1 firstRun — Container Method</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5322_1067000368">4.3.2 setError — Container Method</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc36630_1948322210">4.3.3 time/getTime — Container Method</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5328_1067000368">4.3.4 The RCC::RunCondition C++ Class and RCCRunCondition C Structure</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5324_1067000368">4.3.5 getRunCondition — Container Method — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5326_1067000368">4.3.6 setRunCondition — Container Method — C++ Language Only</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc5330_1067000368">4.4 Port Management Data Members and Methods</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5332_1067000368">4.4.1 advance — Release Current Buffer, and Request Another</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5342_1067000368">4.4.2 hasBuffer — Query a Port for Whether It Has a Current Buffer-to-release</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8037_1067000368">4.4.3 isConnected — Query a Port for Being Connected</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc46907_1948322210">4.4.4 ordinal — Obtain an Ordinal for a Port</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5334_1067000368">4.4.5 request — Request a New Buffer</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5336_1067000368">4.4.6 send — Send an Input Buffer on an Output Port</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5348_1067000368">4.4.7 setDefaultLength — Set Default Message Length at an Output Port — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc5350_1067000368">4.4.8 setDefaultOpCode — Set Default Opcode at Output Port — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__8712_1123303156">4.4.9 take — Take a Buffer from an Input Port</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc5352_1067000368">4.5 Buffer Management Data Members and Methods</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8039_1067000368">4.5.1 checkLength — Check Size of the Buffer — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8041_1067000368">4.5.2 data — Access the Raw Contents of the Buffer</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8043_1067000368">4.5.3 length — Retrieve the Length of the Message in a Buffer – C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8045_1067000368">4.5.4 maxLength — Retrieve the Maximum Available Space in the Buffer.</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8047_1067000368">4.5.5 opCode — Retrieve the OpCode of the Message in a Buffer</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8049_1067000368">4.5.6 release — Release a Buffer</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8053_1067000368">4.5.7 setLength — Set the Length of the Message in a Buffer — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8055_1067000368">4.5.8 setOpCode — Set the OpCode for the Message in a Buffer — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8051_1067000368">4.5.9 setInfo — Set the Metadata Associated with a Buffer — C++ Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc8057_1067000368">4.5.10 topLength — Retrieve the Size of the Single Sequence in a Message — C++ Language Only</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc8059_1067000368">4.6 Accessing the Contents of Messages</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc36173_549088399">4.6.1 Accessing Messages in C Language Workers</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc36175_549088399">4.6.2 Accessing Messages in C++ Language Workers</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc8061_1067000368">4.7 How a Worker Accesses its Properties</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc71723_1826048042">4.7.1 The Worker Property Structure</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc71725_1826048042">4.7.2 The Accessing Worker Properties in C</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc71727_1826048042">4.7.3 Accessing Worker Properties in C++</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc71729_1826048042">4.7.4 Property Access Notifications in C++</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc71731_1826048042">4.7.5 Accessing the Values of Parameter Properties</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc8063_1067000368">4.8 Controlling Slave Workers from Proxies — C++ Language Only</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading__15986_2129872468">4.9 Worker Dispatch Structures — C Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__15988_2129872468">4.9.1 RCCDispatch Structure Type</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__10618_140039662">5 Code Generation for RCC Workers</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc8065_1067000368">5.1 Namespace Management</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc8067_1067000368">5.1 Generated Data Types</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10620_140039662">5.1.1 The Enumeration Constants for the Worker’s Ports</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__10622_140039662">5.1.2 The Properties Structure Type</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading__8714_1123303156">5.1.3 Structures for Message Payloads — C Language Only</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc16848_576511445">5.1.4 Worker Base Class — C++ Language Only</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__10774_474132946">6 RCC Local Services</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading__10778_474132946">6.1 RCC Local Services AEP as a Small Subset of POSIX and ISO-C.</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading___Toc71733_1826048042">7 Debugging RCC Workers</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__11901_1972665394">8 Summary of OpenCPI RCC Authoring Model</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading___Toc128922_618765381">9 Building RCC Workers</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc9390_1192881656">9.1 RCC Compiler and Linking Options</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__10780_474132946">10 Worker Code Examples</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc71735_1826048042">10.1 C Language Examples</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc158162_1192881656">10.1.1 Worker Using the Default Run Condition</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc71739_1826048042">10.1.2 Worker Using the State-machine Style</a></p></td></tr><tr><td><p class="P399"><a href="#__RefHeading___Toc71741_1826048042">10.2 C++ Language Examples</a></p></td></tr><tr><td><p class="P398"><a href="#__RefHeading___Toc71743_1826048042">10.2.1 Worker Using the State-machine Style</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__11907_1972665394">11 Glossary</a></p></td></tr><tr><td><p class="P428"><a href="#__RefHeading__10658_140039662">12 List of Abbreviations and Acronyms</a></p></td></tr></table><h1 class="Heading_20_1"><a id="a_1_Introduction"><span class="heading_numbering">1</span></a><a id="_Toc57540730"/><a id="__RefHeading__1015_1060509377"/><a id="_Toc57540727"/><a id="_Toc144999751"/>Introduction</h1><p class="P262"><span class="T101">This document </span><span class="T104">specifies the </span><span class="FirstEmphasis"><span class="T400">OpenCPI Resource-Constrained C/</span></span><span class="FirstEmphasis"><span class="T401">C++</span></span><span class="FirstEmphasis"><span class="T400"> Language (RCC)</span></span><span class="T104"> authoring model and describes how to write RCC workers in C or C++.  </span><span class="T101">This model is based on the C language and makes most design choices to minimize resources appropriate for resource-constrained embedded systems.  DSP processors with on-chip memories, micro-controllers, and multi-core processors are natural targets for this authoring model.  </span><span class="T105">T</span><span class="T101">he RCC model is a</span><span class="T105">lso an</span><span class="T101"> appropriate model for any general-purpose processor with a C compiler, when the developer is comfortable with the constraints of the C language.</span></p><p class="P155">This document also describe<span class="T366">s</span> a C++ variant of this authoring model that takes advantage of the expressive power of the C++ language.  Both the C and C++ language variants are considered to be based on this one authoring model <span class="T399">as</span> so many concepts and details are common.</p><p class="P262"><span class="T102">T</span><span class="T101">his specification is </span><span class="T102">based on the authoring model concept as defined in the </span><span class="FirstEmphasis"><span class="T400">OpenCPI Component Development Guide</span></span>, <span class="T399">and</span><span class="T108"> is a prerequisite to this document.  </span><span class="T102">That document introduces key concepts for all authoring models, including the configuration and lifecycle model of components, and the software execution model for most authoring models targeting </span><span class="T103">general purpose </span><span class="T102">software </span><span class="T103">platforms</span><span class="T102">.</span></p><p class="P174"><span class="T399">All OpenCPI authoring models are</span> <span class="T399">required</span> to coexist and interoperate with the other existing models that are more appropriate for <span class="T399">their respective</span> processing technologies.  <span class="T399">These include the OCL authoring model for</span> GP<span class="T109">U</span>s, <span class="T271">and the HDL authoring model for FPGAs</span>.  <span class="T271">Other models and any unique aspects to their associated development workflow, are described in their own documents.</span></p><h2 class="P400"><a id="a_1_1_References"><span class="heading_numbering">1.1</span></a><a id="__RefHeading__11068_1972665394"/>References</h2><p class="P156">This document depends on several others.  Primarily, it depends on the <span class="FirstEmphasis">OpenCPI Component Development Guide</span>, which describes concepts and definitions common to all OpenCPI authoring models.  <span class="T407">As the</span> RCC authoring model is based on the C language, specifically C90: ISO/IEC 9899:1990, it also depends on the ISO-C language reference manual and associated libraries.  The exceptions to the C90 basis are the use of <span class="Code">&lt;stdint.h&gt;</span> from C99.  <span class="T301">The C++ authoring model is based on the language as defined in </span><span class="FirstEmphasis"><span class="T386">ISO/IEC 14882:2003</span></span><span class="T301">, prior to Cxx11.  While it is possible to develop workers enabling C++11 (or later) features, this reduces portability for embedded systems running older compilers.  A later major release will be centered on C++11.</span></p><p class="Table_20_Caption_20__28_before_29_"><a id="_Ref58813963"/>Table <a id="refTable0"/>1:  Table of Reference Documents</p><table border="0" cellspacing="0" cellpadding="0" class="Table2"><colgroup><col width="167"/><col width="118"/><col width="437"/></colgroup><tr class="Table21"><td style="text-align:left;width:1.5in; " class="Table2_A1"><p class="P90">Title</p></td><td style="text-align:left;width:1.0604in; " class="Table2_A1"><p class="P90">Published By</p></td><td style="text-align:left;width:3.9396in; " class="Table2_A1"><p class="P90">Link</p></td></tr><tr class="Table21"><td style="text-align:left;width:1.5in; " class="Table2_A1"><p class="P26">OpenCPI Overview</p></td><td style="text-align:left;width:1.0604in; " class="Table2_A1"><p class="Standard"><a href="http://opencpi.org/" class="Internet_20_link"><span class="T95">OpenCPI</span></a></p></td><td style="text-align:left;width:3.9396in; " class="Table2_A1"><p class="Table_20_Contents"><a href="https://github.com/opencpi/opencpi/raw/2018.Q3/doc/pdf/OpenCPI_Overview.pdf" class="Internet_20_link"><span class="T100">https://github.com/opencpi/opencpi/raw/2018.Q3/doc/pdf/OpenCPI_Overview.pdf</span></a></p></td></tr><tr class="Table21"><td style="text-align:left;width:1.5in; " class="Table2_A3"><p class="P68">OpenCPI <span class="T272">Component Development Guide</span></p></td><td style="text-align:left;width:1.0604in; " class="Table2_A3"><p class="P76"><a href="http://opencpi.org/" class="Internet_20_link">OpenCPI</a></p></td><td style="text-align:left;width:3.9396in; " class="Table2_A3"><p class="P70"><a href="https://github.com/opencpi/opencpi/raw/2018.Q3/doc/pdf/OpenCPI_Component_Development.pdf" class="Internet_20_link"><span class="T112">https://github.com/opencpi/opencpi/raw/2018.Q3/doc/pdf/OpenCPI_Component_Development.pdf</span></a></p></td></tr><tr class="Table21"><td style="text-align:left;width:1.5in; " class="Table2_A1"><p class="P68">ISO C Language Specification</p></td><td style="text-align:left;width:1.0604in; " class="Table2_A1"><p class="P60"><a href="http://www.open-std.org/jtc1/sc22/wg14/www/standards.html#9899" class="Internet_20_link"><span class="T110">C Language</span></a></p></td><td style="text-align:left;width:3.9396in; " class="Table2_A1"><p class="P72">ISO/IEC 9899:90</p></td></tr><tr class="Table21"><td style="text-align:left;width:1.5in; " class="Table2_A3"><p class="P69">ISO C++ Language Specification</p></td><td style="text-align:left;width:1.0604in; " class="Table2_A3"><p class="P71"><a href="http://www.open-std.org/JTC1/SC22/WG21/" class="Internet_20_link"><span class="T96">C++ Language</span></a></p></td><td style="text-align:left;width:3.9396in; " class="Table2_A3"><p class="P61">ISO/IEC 14882:2003</p></td></tr></table><h1 class="Heading_20_1"><a id="a_2_Overview"><span class="heading_numbering">2</span></a><a id="__RefHeading___Toc5318_1067000368"/><a id="_Toc270018416"/>Overview</h1><p class="P266"><span class="T113">RCC</span> workers <span class="T409">are C/C++ language component implementations that do work. </span> <span class="T409">They </span>are hosted in a<span class="T408">n OpenCPI</span> <span class="T67">container</span>, which is responsible for:</p><ul><li><p class="P413" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>loading, executing, controlling, and configuring the worker<span class="odfLiEnd"/> </p></li><li><p class="P413" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>effecting data movement to and from the data ports of the worker<span class="odfLiEnd"/> </p></li><li><p class="P413" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>providing interfaces for the local services available to <span class="T113">RCC</span> workers. <span class="odfLiEnd"/> </p></li></ul><p class="P266"><span class="T114">RCC</span> workers <span class="T408">that are executing and </span>collocated <span class="T408">together in</span> the <span class="T408">same</span> container can make use of <span class="T115">local </span>zero-copy <span class="T302">approaches </span>to move data between them.  For connections between workers in <span class="T33">different</span> containers, the containers move data between each other using <span class="T408">a</span> common data transport mechanism.  Containers make use of <span class="T302">a default</span> data transport between the two devices <span class="T302">unless explicitly configured to do otherwise</span>. </p><p class="P174">The <span class="FirstEmphasis">OpenCPI Component Development Guide (CDG)</span> <span class="T273">contains</span> sections <span class="T273">for the general introduction to the control plane functionality of workers and containers, followed by the general execution model of software-based workers.  The specifics of the RCC authoring model are included here, consisting of:</span></p><ul><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T58">container-to-worker interfaces:</span>  how the container calls the worker’s entry points<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T58">worker-to-container interfaces:</span>  how the worker calls the container’s entry points<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T58">the local services:</span>  how the worker uses local services and which ones are available.<a id="_Toc270018429"/><span class="odfLiEnd"/> </p></li></ul><p class="P323"><span class="T136">C</span><span class="T116">reating a component implementation (a.k.a. </span><span class="T150">authoring a worker</span><span class="T116">), includes writing source code as well as specifying certain characteristics of the implementation in a separate XML file.  This </span><span class="T117">XML </span><span class="T116">file is called the </span><span class="FirstEmphasis"><span class="T371">O</span></span><span class="FirstEmphasis"><span class="T177">penCPI </span></span><span class="FirstEmphasis"><span class="T371">W</span></span><span class="FirstEmphasis"><span class="T177">orker </span></span><span class="FirstEmphasis"><span class="T371">D</span></span><span class="FirstEmphasis"><span class="T177">escription</span></span><span class="FirstEmphasis"><span class="T167"> (OWD)</span></span><span class="T116">.  It </span><span class="T146">refers to the </span><span class="FirstEmphasis"><span class="T372">O</span></span><span class="FirstEmphasis"><span class="T179">penCPI</span></span><span class="FirstEmphasis"><span class="T175"> </span></span><span class="FirstEmphasis"><span class="T372">C</span></span><span class="FirstEmphasis"><span class="T179">omponent </span></span><span class="FirstEmphasis"><span class="T372">S</span></span><span class="FirstEmphasis"><span class="T179">pecification (</span></span><span class="FirstEmphasis"><span class="T167">OCS)</span></span><span class="T146"> being implemented, specifies the authoring model and language, and </span><span class="T116">describes any non-default constraints or behavior of this particular component implementation.  </span><span class="T136">It </span><span class="T146">includes</span><span class="T136"> </span><span class="T116">attributes and information that are specific to the authoring model.  </span><span class="T146">RCC OWDs are initially generated using the </span><span class="Code"><span class="T167">ocpidev</span></span><span class="T146"> tool and then may be further customized.  </span><span class="T123">The </span><span class="Code"><span class="T167">ocpidev</span></span><span class="T146"> tool and the </span><span class="T123">OWD aspects that are common to all authoring models are described in the </span><span class="FirstEmphasis"><span class="T167">OpenCPI Component Development Guide</span></span><span class="T123">.</span></p><p class="P306"><span class="T123">R</span><span class="T116">CC workers can act as a </span><span class="FirstEmphasis"><span class="T167">proxy</span></span><span class="T116"> for other workers, which then act as </span><span class="FirstEmphasis"><span class="T167">slaves</span></span><span class="T116">.  Proxy workers provide a control interface via their properties and control operations that are translated into lower level controls for workers that are more primitive, usually device specific, and usually written using different more processor-specific authoring models.</span></p><p class="P306"><span class="T116">Having a proxy for higher level, more generic control processing relieves the slave workers of the complexity and burden and footprint of adapting to common interfaces and control protocols.  A common use-case for proxies is controlling </span><span class="FirstEmphasis"><span class="T167">device workers</span></span><span class="T116">, which are fully described in the </span><span class="FirstEmphasis"><span class="T167">OpenCPI Platform Development Guide</span></span><span class="T116">.  In an application, a proxy is guaranteed to be configured and started before its slaves are started, allowing the proxy to privately configure the slave.  In the current release a proxy worker may only act as a proxy for a single slave.</span></p><h1 class="P362"><a id="a_3_XML_Description_Files__OWD__for_RCC_Workers_"><span class="heading_numbering">3</span></a><a id="__RefHeading__15951_517827571"/><a id="_Toc270018448"/><span class="T197">XML </span><span class="T203">D</span><span class="T197">escription </span><span class="T203">F</span><span class="T197">iles (OWD) for </span><span class="T201">RCC</span><span class="T197"> </span><span class="T203">W</span><span class="T197">orkers.</span></h1><p class="P305">This section describes the format and structure of the <span class="T252">RCC</span> OWD.  <span class="T412">T</span>h<span class="T412">is</span> XML document <span class="T521">specifies for the worker:</span></p><ul><li><p class="P415" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T556">The </span><span class="T557">OCS </span><span class="T522">being implemented (required)</span><span class="odfLiEnd"/> </p></li><li><p class="P416" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>The authoring model <span class="T522">(required) </span>and language <span class="T522">(may default)</span><span class="odfLiEnd"/> </p></li><li><p class="P416" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T522">Some g</span>eneric <span class="T522">worker </span>attributes allowed in all authoring models <span class="T522">(all optional)</span><span class="odfLiEnd"/> </p></li><li><p class="P417" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Some attributes specific to RCC workers (all optional)<span class="odfLiEnd"/> </p></li><li><p class="P417" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Property information beyond what is in the OCS (all optional)<span class="odfLiEnd"/> </p></li><li><p class="P417" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Port information beyond what is in the OCS (all optional)<span class="odfLiEnd"/> </p></li></ul><p class="P18">The top level XML element for a <span class="T254">RCC </span>worker is <span class="T411">RCC</span><span class="T410">Worker,</span> <span class="T522">which implies the authoring model</span>.  <span class="T412">Using defaults the simplest OWD for an RCC worker would be:</span></p><p class="P129">&lt;RCCWorker spec='myspec'/&gt;</p><p class="P171">The <span class="Code">RCCWorker</span> XML element includes or references an OCS, and then describes implementation information about this particular <span class="T254">RCC</span> implementation of that OCS.  <span class="T423">T</span>he <span class="Code">RCCWorker</span> element must either include as a child element a complete <span class="T423">OCS</span>, or include one by reference, using the <span class="Code">spec</span> attribute of the top-level element.  For example, the “vsadd” <span class="T522">RCC </span>implementation of the “vsadd-spec” <span class="T350">OCS would</span> referenc<span class="T350">e</span> the component specification <span class="T350">this way:</span></p><p class="P111"><span class="T197">&lt;</span><span class="T199">RCC</span><span class="T197">Worker spec=”</span><span class="T200">vsadd-spec</span><span class="T197">”</span><br/><span class="T197">        ---other attributes---</span><br/><span class="T197">        &gt;</span><br/><span class="T197">        ---other child elements---</span><br/><span class="T197">&lt;/</span><span class="T199">RCC</span><span class="T197">Worker&gt;</span></p><p class="P174">The <span class="Code">RCCWorker</span> follows the specification of OWDs in general as specified <span class="T522">in the CDG</span>.  This section only defines the aspects of the <span class="T254">RCC</span> OWD that <span class="T255">are</span> <span class="T33">not</span> common to all OWDs.  <span class="T369">A more complete example is below:</span></p><p class="P139">&lt;RCCWorker language='c++' spec='vsadd-spec'&gt;<br/>  &lt;SpecProperty name='control' readable='true'/&gt;<br/>  &lt;Property name='debug' type='float' volatile='true'/&gt;<br/>  &lt;Port name='in' <span class="T374">minB</span>uffer<span class="T374">C</span>ount='2'/&gt;<br/>&lt;/RCCWorker&gt;</p><p class="P172"><span class="T412">T</span>he <span class="T414">RCC</span><span class="T413">Worker</span> element <span class="T423">may also</span> include <span class="T423">the OCS </span>as a<span class="T423">n embedded</span> child element <span class="T423">in the rare cases when there can never be alternative implementations of that OCS</span>.</p><h2 class="P408"><a id="a_3_1_Attributes_of_a_Top-level_RCCWorker_Element"><span class="heading_numbering">3.1</span></a><a id="_Toc270018449"/><a id="_Toc211781115"/><a id="_Toc211780966"/><a id="__RefHeading__15953_517827571"/>Attributes of a <span class="T1">T</span>op-level <span class="T255">RCC</span>Worker <span class="T1">E</span>lement</h2><p class="P248">The <span class="Code">name</span>, <span class="Code">spec</span>, and <span class="Code">controloperations</span> attributes are the same for all authoring models and are described in the <span class="T423">CDG</span>.</p><h3 class="P368"><a id="a_3_1_1_Name_Attribute_—_See_the_CDG"><span class="heading_numbering">3.1.1</span></a><a id="_Toc211781120"/><a id="_Toc270018450"/><a id="__RefHeading__15955_517827571"/><a id="_Toc211781116"/>Name <span class="T484">A</span>ttribute — <span class="T486">See the CDG</span></h3><h3 class="P369"><a id="a_3_1_2_Spec_Attribute_—_See_the_CDG"><span class="heading_numbering">3.1.2</span></a><a id="__RefHeading___Toc35101_549088399"/>Spec <span class="T484">A</span>ttribute — <span class="T486">S</span>ee <span class="T473">the </span>CDG</h3><h3 class="P368"><a id="a_3_1_3_ControlOperations_Attribute_—_See_the_CDG"><span class="heading_numbering">3.1.3</span></a><a id="__RefHeading__10634_140039662"/><a id="_Toc270018452"/>ControlOperations <span class="T484">A</span>ttribute — <span class="T486">See the CDG</span></h3><h3 class="P368"><a id="a_3_1_4_Language_Attribute"><span class="heading_numbering">3.1.4</span></a><a id="_Toc270018451"/><a id="__RefHeading__10632_140039662"/>Language <span class="T483">A</span>ttribute</h3><p class="P174">The <span class="Code">Language</span> attribute of the component implementation for <span class="T256">RCC</span> workers <span class="T257">should</span> have the value <span class="Code">c</span> <span class="T339">or </span><span class="Code">c++</span>.  <span class="T339">The default is </span><span class="Code">c</span><span class="T339">.</span></p><h3 class="P370"><a id="a_3_1_5_Slave_Attribute_—_C___Language_Only"><span class="heading_numbering">3.1.5</span></a><a id="__RefHeading___Toc8035_1067000368"/>Slave <span class="T483">A</span>ttribute — <span class="T370">C++ Language Only</span></h3><p class="P14">This attribute indicates that this worker is a proxy for another worker, and that other worker is named as the string value of this attribute.  <span class="T340">This attribute is only supported for C++.  The name of the slave worker may have a package prefix, denoted with periods, if the slave worker is not in the same namespace as this worker.  The slave worker name must include the authoring model suffix.  An example is:</span></p><p class="Code">&lt;RCCWorker language='c++' slave='ocpi.devices.xyz_adc.hdl'/&gt;</p><p class="P15">This would indicate that this worker is a proxy for the HDL worker named <span class="Code">xyz_adc</span>, in the <span class="Code">ocpi.devices</span> package name scope.  <span class="T553">The indicated slave worker must be in the same library as this proxy.</span></p><h3 class="P371"><a id="a_3_1_6_ExternMethods_Attribute_—_C_Language_Only"><span class="heading_numbering">3.1.6</span></a><a id="__RefHeading__57792_638251233"/>ExternMethods <span class="T483">A</span>ttribute — <span class="T351">C Language Only</span></h3><p class="P249">The default scope and name for RCC worker methods in C is to be declared static, <span class="T415">i.e. </span>name-scoped in the file, and have the method name in lower case, e.g.:</p><p class="P136"><span class="T555">static</span> RCCResult <span class="T555">start</span>(RCCWorker *self);</p><p class="P249">This attribute is used to change the name scope to external, and provide a pattern string to use when generating the names of methods.  The pattern string value of this attribute is like a <span class="Code">sprintf</span> format string where various letter codes are preceded by <span class="Code">%</span> to insert values into the string.  The letter codes are:  <span class="Code">m</span> (lower case method name), <span class="Code">M</span> (capitalized method name), <span class="Code">w</span> (lower case worker name), and <span class="Code">W</span> (capitalized worker name).  A<span class="T373">n</span> example <span class="T373">is</span> <span class="T373">the pattern </span><span class="Code">%W_%m</span><span class="T373">, which, for the start method of the XYZ worker, would be:</span></p><p class="P137"><span class="T555">extern</span> RCCResult <span class="T555">Xyz_start</span>(RCCWorker *self);</p><p class="P250">The code generator uses this pattern when generating the skeleton file for the worker.  <span class="T558">Making worker methods have externally-scoped names allows them to be implemented in separate source files.</span></p><h3 class="Heading_20_3"><a id="a_3_1_7_StaticMethods_Attribute_—_C_Language_Only"><span class="heading_numbering">3.1.7</span></a><a id="__RefHeading___Toc35103_549088399"/>StaticMethods <span class="T483">Attribute — C Language Only</span></h3><p class="P250">This attribute provides a pattern like the <span class="Code">ExternMethods</span> attribute, but leaves the worker methods in the file scope, declared <span class="Code">static</span>.</p><h2 class="P408"><a id="a_3_2_Attributes_of_Port_Elements_in_the_OWD"><span class="heading_numbering">3.2</span></a><a id="__RefHeading__10636_140039662"/><a id="_Toc211780968"/><a id="_Toc211781121"/><a id="_Toc270018453"/>Attributes of Port Elements in the OWD</h2><p class="P174">The <span class="Code">port</span> child element of the <span class="Code">RCCWorker</span> specifies information about a data <span class="T341">port</span> in the OCS.  It references a<span class="T341">n OCS </span><span class="Code">port, </span><span class="T341">or </span><span class="Code">dataInterfaceSpec,</span><span class="T341"> element</span> by its <span class="Code">Name</span> attribute.  The <span class="Code">Name</span> attribute of the <span class="Code">Port</span> element must match the <span class="Code">Name</span> attribute of a <span class="Code">Port</span><span class="T341"> or </span><span class="Code">DataInterfaceSpec</span> element of the <span class="Code">ComponentSpec</span>.  The <span class="Code">Port</span> element adds implementation-specific information about the <span class="T352">port</span> initially defined in that <span class="Code">ComponentSpec</span>.</p><p class="P232">A number of attributes available for the <span class="Code">port</span> element are common to all authoring models and are described in the <span class="T423">CDG</span>.  These are usually used to override attributes inferred from the protocol associated with the data port.</p><h3 class="P368"><a id="a_3_2_1_Name_Attribute"><span class="heading_numbering">3.2.1</span></a><a id="__RefHeading__10638_140039662"/><a id="_Toc270018454"/>Name <span class="T483">A</span>ttribute</h3><p class="P174">This attribute specifies the name used to reference the <span class="Code">Port</span><span class="T341"> or </span><span class="Code">DataInterfaceSpec</span> <span class="T341">element </span>in the <span class="T523">OCS</span>.  <span class="T523">It must match the name used for the port in the OCS.</span></p><h3 class="P368"><a id="a_3_2_2_MinBufferCount_Attribute"><span class="heading_numbering">3.2.2</span></a><a id="_Toc270018455"/><a id="__RefHeading__10640_140039662"/>MinBuffer<span class="T342">Count</span> <span class="T483">A</span>ttribute</h3><p class="P170">This numeric attribute specifies the minimum number of message buffers required by the worker for a port.  The <span class="FirstEmphasis">Worker Interface</span> allows the worker code (typically in the <span class="Code">run</span> method) to <span class="FirstEmphasis"><span class="T74">take</span></span> a buffer from a<span class="T517">n</span> <span class="T517">input </span>port, and ask for a new buffer for that port <span class="T577">while</span> retain<span class="T577">ing</span> ownership of the previous buffer from that port.  This behavior requires the infrastructure <span class="T416">to </span>provide at least <span class="T416">two</span> buffers for that port.</p><p class="P173"><span class="T76">The buffers are guaranteed to exist, </span><span class="T77">so</span><span class="T76"> </span><span class="T74">the worker</span><span class="T76"> can keep one that is full while waiting for another one and be guaranteed that </span><span class="T74">it</span><span class="T76"> will be able to receive a second buffer while holding onto the first </span><span class="T77">(i.e. not deadlock)</span><span class="T76">.  If </span><span class="T74">the</span><span class="T76"> worker wants to compare the previous buffer with the next buffer, it requires there to be two, but it does </span><span class="T53">not</span><span class="T76"> require that when the first one arrives, the second one is also full of data ready to process.</span></p><p class="P170">This attribute informs the infrastructure as to the minimum buffering requirements of the worker implementation for that port.  The default <span class="T416">value </span>is <span class="T416">one</span>.<span class="T33">  </span><span class="T43">This</span><span class="T33"> attribute should not be used to tune the buffer count for performance.  </span><span class="T45">It</span><span class="T33"> </span><span class="T45">should</span><span class="T33"> only specify the actual minimum requirements for the correct function of the worker.</span></p><p class="P303"><span class="T524">MinBufferCount</span> <span class="T523">only applies</span> to input ports, <span class="T523">since </span>there is no way to use the current worker interface to depend on the existence of multiple output buffers.</p><p class="P307"><span class="T88">This value has no </span><span class="T91">e</span><span class="T88">ffect on the behavior or interface for run conditions.  See the</span><span class="T89"> </span><a href="#a_RunCondition" class="Internet_20_link">RunCondition</a><span class="T89"> and </span><a href="#a_run_worker_method" class="Internet_20_link">run worker method</a><span class="T89"> sections for more details.  </span><span class="T90">In particular it does not wait for more than one buffer to be available before running the worker.</span></p><p class="P308"><span class="T87">The</span><span class="T89"> stronger contract, </span><span class="T87">where the worker will only be run when </span><span class="T68">all</span><span class="T87"> of the required buffers </span><span class="T92">for a port </span><span class="T87">are available, is </span><span class="T68">not</span><span class="T87"> supported.</span></p><h1 class="P362"><a id="a_4_The_RCC_Worker_Interface"><span class="heading_numbering">4</span></a><a id="_Toc270018430"/><a id="__RefHeading__10574_140039662"/><span class="T20">The </span><span class="T21">RCC</span><span class="T22"> </span><span class="T20">Worker Interface</span></h1><p class="P309"><span class="T170">This section defines the interface between the worker and its container:  the API for this authoring model.  </span><span class="T167">Th</span><span class="T171">e</span><span class="T167"> term </span><span class="FirstEmphasis"><span class="T167">worker method</span></span><span class="T167"> </span><span class="T171">i</span><span class="T167">s </span><span class="T171">used as a </span><span class="T167">shorthand and language-neutral term for </span><span class="T168">what is a </span><span class="T167">member function </span><span class="T168">in C++ or a worker entry point </span><span class="T169">function </span><span class="T168">in C</span><span class="T167">.  </span><span class="T172">M</span>ethods in<span class="T180"> C++ have an implicit </span><span class="Code">this</span><span class="T180"> argument that is hidden by the language.  C language RCC workers have the first argument to all worker methods as an explicit </span><span class="Code">self</span><span class="T180"> argument.  This is a pointer to a structure containing context and state information for the worker as well as C function pointers to container methods</span></p><p class="P309"><span class="T180">When discussing a worker's runtime behavior, the term </span><span class="FirstEmphasis"><span class="T386">worker</span></span><span class="T180"> is sometimes used as a runtime </span><span class="T35">instance</span><span class="T180"> of the worker in contrast to referring to the source code that is written for the worker as a component implementation.</span></p><p class="P267"><span class="T181">RCC</span> <span class="T353">w</span>orker <span class="T529">code</span> <span class="T182">must</span> <span class="T353">avoid</span> the prefix<span class="T183">es </span><span class="Code">OCPI</span><span class="T183"> and</span> <span class="Code">RCC</span> <span class="T423">(even without a trailing underscore) f</span>or compile-time constants and types <span class="T417">as these are used</span> <span class="T182">by the authoring model</span>.  <span class="T418">The RCC authoring model also specifies that all generated macros are upper case, and all generated data types are capitalized and mixed CamelCase.  User code is recommended to follow these conventions, but is not required to do so.</span></p><p class="P175">The <span class="T353">w</span>orker interface<span class="T274"> </span>consists of control operation methods whose behavior is defined <span class="T274">in the </span><span class="T16">Control Plane Introduction</span><span class="T274"> section of the CDG</span><span class="FirstEmphasis">.</span>  <span class="T419">In addition, there is a required</span> <span class="T184">run</span> method that supports the event-driven execution model defined <span class="T274">in the </span><span class="T16">Software Execution Model</span><span class="T274"> section of that same document</span>.  The <span class="T184">run</span> method is the only required method <span class="T424">and a</span>ll the other <span class="T492">worker </span>methods are optional.  All processing of the worker occurs in the context of these <span class="T185">methods</span>.  The<span class="T166">re are two </span>categories of methods:</p><ul><li><p class="P427" style="margin-left:0.635cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T153">Worker methods</span><span class="T149"> </span><span class="T159">represent functionality of the worker, to be called by the container, and which may have default implementations.  These include the </span><span class="Code"><span class="T86">run</span></span><span class="T159"> method, and the lifecycle control operation </span><span class="T161">methods:  </span><span class="Code"><span class="T86">initialize</span></span><span class="T162">, </span><span class="Code"><span class="T86">start</span></span><span class="T162">, </span><span class="Code"><span class="T86">stop</span></span><span class="T162">, and </span><span class="Code"><span class="T86">release</span></span><span class="T159">.</span><span class="odfLiEnd"/> </p></li><li><p class="P427" style="margin-left:0.635cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T153">Container methods</span><span class="T149"> </span><span class="T159">represent functionality of the container, to be called by the worker, such as changing run conditions, </span><span class="T163">and accessing ports and buffers</span><span class="T159">.  </span><span class="T164">All </span><span class="T161">C language </span><span class="T164">container methods are dispatched through function pointers in the </span><span class="Code"><span class="T86">container</span></span><span class="T164"> member of the </span><span class="Code"><span class="T86">RCCWorker</span></span><span class="T164"> structure.  </span><span class="T162">C++ container methods are </span><span class="T165">accessible </span><span class="T162">member functions inherited from the worker's base class.</span><span class="odfLiEnd"/> </p></li></ul><p class="P314"><span class="T525">Default methods are the behaviors that are executed if the user supplies no code for a worker method.  Default methods for C-language workers are indicated by </span><span class="Code">NULL</span><span class="T187"> pointers for those methods in the </span><a href="#a_RCCDispatch" class="Internet_20_link"><span class="Code">RCCDispatch</span></a><a href="#a_structure" class="Internet_20_link"><span class="T187"> structure</span></a><span class="T187">.  For C++, they are simply the methods in the base class.</span></p><p class="Standard"><span class="T527">Several integral</span> type<span class="T526">def</span>s <span class="T527">and constants are defined and used throughout the interface</span>:</p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RCCBoolean</span> is aliased to <span class="Code">uint8_t</span>, to <span class="T492">match the defined size in property space and message layouts.</span><span class="odfLiEnd"/> </p></li><li><p class="P418" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RCCChar</span><span class="T492"> is a signed 8 bit type to represent property values of type “Char”.</span><span class="odfLiEnd"/> </p></li><li><p class="P418" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RCCOrdinal</span> is used <span class="T492">for</span> ordinals <span class="T492">for </span>ports, operations, <span class="T492">and </span>properties.<span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RCCPortMask</span><span class="T491"> indicates a proper subset of a worker's ports, with ports indicated using, e.g.: </span><span class="Code">(1 &lt;&lt; port1_ordinal) | (1 &lt;&lt; port2_ordinal).</span><span class="odfLiEnd"/> </p></li><li><p class="P419" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T492">Ordinals for ports are generated as enumeration constants </span><span class="Code">&lt;WORKER&gt;_&lt;PORT&gt;</span><span class="T492">.</span><span class="odfLiEnd"/> </p></li><li><p class="P419" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RCC_NO_PORTS</span><span class="T492"> is a mask of type </span><span class="Code">RCCPortMask</span><span class="T492"> indicating no ports.</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RCC_ALL_PORTS</span><span class="T492"> is a mask of type </span><span class="Code">RCCPortMask</span><span class="T492"> indicating all ports.</span><span class="odfLiEnd"/> </p></li></ul><p class="P294"><span class="T528">More complex</span> data types used in worker and container methods <span class="T187">are described in the following sections where they are used.</span></p><h2 class="P401"><a id="a_4_1_The_RCC_Execution_Model"><span class="heading_numbering">4.1</span></a><a id="__RefHeading___Toc71721_1826048042"/><span class="T475">The </span>RCC Execution Model</h2><p class="P274">The CDG describe<span class="T439">s</span> the fundamentals of <span class="T439">software execution models for OpenCPI software authoring models.  RCC workers executing in their containers operate according to this model, with the details described in the </span><a href="#a_RCC_Worker_Interface" class="Internet_20_link"><span class="T439">RCC Worker Interface</span></a><span class="T439"> section below.</span></p><p class="P274">The container executes workers such that all execution threads are supplied by the container.  Thus there is no need or possibility for workers to create threads.  Containers may arrange for workers to run concurrently, <span class="T440">each in its own thread</span>, or run one at a time <span class="T440">with all workers in the container running in a single thread.</span></p><p class="P157">A simple non-preemptive single-threaded container implementation would have a loop, testing <span class="FirstEmphasis">run conditions</span>, and calling <span class="T475">workers' </span><span class="FirstEmphasis">run</span> methods.  A more complex environment might run workers in different threads for purposes of time preemption, prioritization, etc.  This <span class="T582">worker execution </span>model allows a variety of container execution models while keeping the worker <span class="T456">code</span> simple.</p><p class="P284"><span class="T434">O</span>n each execution, the worker sees the status of all I/O ports, and can read from current input buffers, and write to current output buffers.  It must return to get new buffers, after specifying whether buffers are consumed or filled during the execution.</p><p class="P158">This simple execution environment can be easily implemented in <span class="T368">full function </span>GPP environments, providing a test environment and a migration path to <span class="T358">more minimal embedded environments such as a single-threaded environment with no real operating system at all (i.e. “bare metal”).  Such a minimal environment is possible, although none are currently supported.</span></p><p class="P159">The execution source code for an RCC worker should be written for a multi-threaded environment.  Since the interfaces between the worker and container are already implicitly thread-safe, this concern mostly applies to workers calling library functions.  Library functions such as <span class="Code">localtime</span> or <span class="Code">strtok</span> should be avoided since they are not thread-safe.  Library functions such as <span class="Code">setenv</span> or even <span class="Code">exit</span>, should never be called since they modify the environment for other workers.  More information about appropriate library functions <span class="T583">is</span> in the <a href="#a_RCC_Local_Services" class="Internet_20_link"><span class="T583">RCC Local Services</span></a> section below.</p><h2 class="P408"><a id="a_4_2_Worker_Methods__Called_by_the_Container__Implemented_by_the_Worker_"><span class="heading_numbering">4.2</span></a><a id="__RefHeading__10576_140039662"/><a id="_Toc270018431"/>Worker <span class="T1">M</span>ethods:  <span class="T1">C</span>alled by the <span class="T1">C</span>ontainer, <span class="T1">I</span>mplemented by the <span class="T1">W</span>orker.</h2><p class="P174"><span class="T116">This section describes the methods that a worker may implement </span><span class="T137">with only o</span><span class="T116">ne </span><span class="T137">being </span><span class="T116">mandatory:  </span><span class="T153">run</span><span class="T116">.  All others </span><span class="T137">methods </span><span class="T116">are optional and have default behavior.  </span><span class="T137">These</span><span class="T116"> other methods are </span><span class="FirstEmphasis"><span class="T174">control operations</span></span><span class="T116"> that perform lifecycle state transitions.  </span><span class="T137">The transitions are</span><span class="T116"> described </span><span class="T124">in the control plane introduction section of the </span><span class="T142">CDG</span><span class="T116">.  All processing of the worker occurs in the context of these </span><span class="T127">worker </span><span class="T116">method</span><span class="T118">s</span><span class="T119">.</span></p><p class="P176"><span class="T119">F</span><span class="T125">or C++, </span><span class="T127">t</span><span class="T116">he code generation tools create a custom base class that the actual worker class inherit</span><span class="T127">s</span><span class="T116">.  The derived class that implements the worker is declared by the worker author directly in their source code.  This derived class inherit</span><span class="T127">s</span><span class="T116"> the custom base class, but can otherwise contain any </span><span class="T132">other </span><span class="T116">member functions and data members, </span><span class="T142">with the caveat that</span><span class="T116"> they do not shadow certain members in the generated custom base class (which are specifically mentioned below).  </span><span class="T135">All worker methods in C++ are member functions and this is where all worker processing takes place.</span></p><h3 class="P396"><a id="a_4_2_1_RCCWorker_Structure_Type___C_Language_Only"><span class="heading_numbering">4.2.1</span></a><a id="__RefHeading__8692_1123303156"/><span class="T188">RCC</span>Worker <span class="T189">Structure Type – C Language Only</span></h3><p class="P251">This structure type , <span class="T420">a </span><span class="Code">typedef</span> <span class="T353">name,</span> represents the visible state of a worker.  The container <span class="T376">creates</span> this structure (<span class="T376">defined </span>in <span class="Code">RCC_Worker.h</span>) with any content <span class="T190">or</span> member ordering as long as the documented members are supported.  The <span class="T353">structure </span>members are written by either the container or the worker, but not both.  Members written by the container are declared <span class="Code">const</span> to enhance error checking when compiling worker <span class="T303">code</span>.  <span class="T191">A pointer to this structure is the first argument to all C language worker methods, called </span><span class="Code">self</span><span class="T191">.</span></p><p class="P251"><span class="T376">Workers (code in worker methods) access property values via the </span><span class="Code">properties</span><span class="T376"> member of the </span><span class="Code">RCCWorker</span><span class="T376"> structure, whose type is </span><span class="Code">void *</span><span class="T376">.  Its usage is described in the </span><a href="#a_Property_Access" class="Internet_20_link"><span class="T376">Property Access</span></a><span class="T376"> section below.</span></p><p class="P251"><span class="T376">The defined members of the </span><span class="Code">RCCWorker</span><span class="T376"> structure are described in the table below.  Some example code that uses these various members of </span><span class="Code">RCCWorker</span><span class="T376"> is:</span></p><p class="P153">XyzProperties <span class="T5">props = self-&gt;properties; // void</span><span class="T23"> * needs no cast<br/></span><br/>MyState *state = self-&gt;memory;          // void * needs no cast<br/><br/>self-&gt;container.setError(“stuff happened”);<br/><br/>if (self-&gt;runCondition == &amp;mySearchCondition) …<br/><br/>if (self-&gt;connectedPorts &amp; (1 &lt;&lt; XYZ_IN)) …<br/><br/>uint32_t *msgdata = self-&gt;ports[XYZ_IN].current.data;</p><p class="Table_20_Caption_20__28_before_29_">Table <a id="refTable1"/>2:  Members of the RCCWorker Structure for C Workers</p><table border="0" cellspacing="0" cellpadding="0" class="Table4"><colgroup><col width="159"/><col width="166"/><col width="84"/><col width="312"/></colgroup><tr><td style="text-align:left;width:1.4361in; " class="Table4_A1"><p class="P86">Member Name</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A1"><p class="P86"><span class="T303">M</span>ember<br/>Data Type</p></td><td style="text-align:left;width:0.7549in; " class="Table4_A1"><p class="P86">Written by</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D1"><p class="P86">Member<br/>Description</p></td></tr><tr><td style="text-align:left;width:1.4361in; " class="Table4_A2"><p class="P340">properties</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A2"><p class="P335">void *const</p></td><td style="text-align:left;width:0.7549in; " class="Table4_A2"><p class="P60">container</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D2"><p class="P60">A <span class="Code">const</span> pointer to the properties structure for the worker, whose layout is implied by the properties <span class="T192">declared in the OCS and OWD</span>.  The value <span class="T192">is</span> NULL if there are no such properties.</p></td></tr><tr><td style="text-align:left;width:1.4361in; " class="Table4_A2"><p class="P336">memories</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A2"><p class="P340"><span class="T193">v</span>oid *const<br/>*<span class="T193">const</span></p></td><td style="text-align:left;width:0.7549in; " class="Table4_A2"><p class="P60">container</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D2"><p class="P60"><span class="T193">An array of </span><span class="Code">const</span><span class="T193"> pointers to the memory resources requested by the worker in the </span><span class="Code">memSizes</span><span class="T193"> member of the </span><span class="Code">RCCDispatch</span><span class="T193"> structure.  Any memories that are not read-only are initialized to zero before a worker executes any method.</span></p></td></tr><tr><td style="text-align:left;width:1.4361in; " class="Table4_A2"><p class="P336">memory</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A2"><p class="P335">void *const</p></td><td style="text-align:left;width:0.7549in; " class="Table4_A2"><p class="P57">container</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D2"><p class="P57">A pointer to the memory resource as requested in the <span class="Code">memSize</span> member of the <span class="Code">RCCDispatch</span> structure.</p></td></tr><tr><td style="text-align:left;width:1.4361in; " class="Table4_A2"><p class="P338">container</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A2"><p class="P338"><span class="T303">c</span>onst RCCContainer</p></td><td style="text-align:left;width:0.7549in; " class="Table4_A2"><p class="P58">container</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D2"><p class="P58">A dispatch table of container method/function pointers.</p></td></tr><tr><td style="text-align:left;width:1.4361in; " class="Table4_A2"><p class="P340">runCondition</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A2"><p class="P340"><span class="T194">RCC</span>RunCondition*</p></td><td style="text-align:left;width:0.7549in; " class="Table4_A2"><p class="P60">worker</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D2"><p class="P60">Initialized from the <span class="Code"><span class="T194">RCCDispatch</span></span><span class="Code"> runCondition</span> member.  <span class="T195">C</span>hecked by container after calling the start method.</p></td></tr><tr><td style="text-align:left;width:1.4361in; " class="Table4_A2"><p class="P337">connectedPorts</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A2"><p class="P339">RCCPortMask</p></td><td style="text-align:left;width:0.7549in; " class="Table4_A2"><p class="P59">container</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D2"><p class="P59">A mask indicating which ports are connected.  A worker can check this to see if an optional port is connected.</p></td></tr><tr><td style="text-align:left;width:1.4361in; " class="Table4_A2"><p class="P340">ports</p></td><td style="text-align:left;width:1.4993in; " class="Table4_A2"><p class="P340"><span class="T194">RCC</span>Port<span class="T195">[]</span></p></td><td style="text-align:left;width:0.7549in; " class="Table4_A2"><p class="P60">varies by<br/>member</p></td><td style="text-align:left;width:2.8097in; " class="Table4_D2"><p class="P59">An array of RCCPort structures, indexed by port ordinals.</p></td></tr></table><h3 class="P372"><a id="a_4_2_2_The_Worker_Derived_Class___C___Language_Only"><span class="heading_numbering">4.2.2</span></a><a id="__RefHeading___Toc35105_549088399"/>The Worker <span class="T485">D</span>erived <span class="T485">C</span>lass – C++ <span class="T441">Language O</span>nly</h3><p class="P277">All the worker methods are member functions of the worker's derived class.  <span class="T377">This class inherits a base class specifically generated for the worker and defined in the </span><span class="Code">gen/&lt;worker&gt;-worker.hh</span><span class="T377"> file.  Worker m</span>ethods that must exist (based on the OWD), are declared pure virtual in th<span class="T378">is</span> generated base class.  <span class="T377">Container methods are accessible member functions of the base class.  There are several accessible data </span><span class="T377">members of the generated base class that can used in worker method code.  One is </span><span class="Code">m_properties</span><span class="T377">, which is a structure containing members for property values.</span>  Its usage is described in the <a href="#a_Property_Access" class="Internet_20_link">Property Access</a> section below.</p><p class="P263">There are also data members in the base class for each port.  These are described in the <a href="#a_Port_Management_Data_Members_and_Methods" class="Internet_20_link"><span class="T425">Port Management Data Members and Methods</span></a> section below.</p><h3 class="P368"><a id="a_4_2_3_RCCResult_Enumeration_Type_—_C_and_C___Languages"><span class="heading_numbering">4.2.3</span></a><a id="__RefHeading__10578_140039662"/><span class="T196">RCC</span><a id="_Toc270018432"/>Result <span class="T186">E</span>numeration <span class="T186">T</span>ype — <span class="T304">C and C++ Languages</span></h3><p class="P174">The <span class="Code">RCCResult</span> type is an enumeration type used as the return value for all worker methods.  It indicates to the container what to do when the worker method returns, as described in the following table:</p><p class="Table_20_Caption_20__28_before_29_">Table <a id="refTable2"/>3:  RCCResult Return Values</p><table border="0" cellspacing="0" cellpadding="0" class="Table5"><colgroup><col width="195"/><col width="470"/></colgroup><tr class="Table51"><td style="text-align:left;width:1.7549in; " class="Table5_A1"><p class="P86">Enumeration Identifier</p></td><td style="text-align:left;width:4.2361in; " class="Table5_B1"><p class="P86">Description</p></td></tr><tr class="Table51"><td style="text-align:left;width:1.7549in; " class="Table5_A2"><p class="P60"><span class="Code">RCC_OK</span></p></td><td style="text-align:left;width:4.2361in; " class="Table5_B2"><p class="P60">The worker method succeeded without error.</p></td></tr><tr class="Table51"><td style="text-align:left;width:1.7549in; " class="Table5_A3"><p class="P60"><span class="Code">RCC_ERROR</span></p></td><td style="text-align:left;width:4.2361in; " class="Table5_B3"><p class="P60">The worker method did not succeed, but the error is not fatal to worker or container:  the method may be retried if defined to allow this.</p></td></tr><tr class="Table51"><td style="text-align:left;width:1.7549in; " class="Table5_A3"><p class="P60"><span class="Code">RCC_FATAL</span></p></td><td style="text-align:left;width:4.2361in; " class="Table5_B3"><p class="P60"><span class="T197">The worker should never run again </span><span class="T202">and</span><span class="T197"> is non-functional.  The container or other workers may be damaged.  The worker is in an </span><span class="T66">u</span><span class="T65">nusable</span><span class="T197"> state.  The container may know that it, or other workers are protected from damage, but the worker indicates this condition in case there is no such protection.</span></p></td></tr><tr class="Table51"><td style="text-align:left;width:1.7549in; " class="Table5_A3"><p class="P60"><span class="Code">RCC_DONE</span></p></td><td style="text-align:left;width:4.2361in; " class="Table5_B3"><p class="P77"><span class="T197">The worker needs no more execution.  </span><span class="T202">This is </span><span class="T197">a normal completion.  The worker is entering the </span><span class="T65">finished</span><span class="T197"> state.  </span><span class="T204">This allows the container release resources (such as I/O buffers) prior to the worker instance being destroyed or reused.  Any messages remaining in input buffers will not be processed and may be discarded.  Properties are still accessible.</span></p></td></tr><tr class="Table51"><td style="text-align:left;width:1.7549in; " class="Table5_A3"><p class="P60"><span class="Code">RCC_ADVANCE</span></p></td><td style="text-align:left;width:4.2361in; " class="Table5_B3"><p class="P60"><span class="T197">The worker is requesting that all ports </span><span class="T198">that were ready when the run method was entered </span><span class="T197">be </span><span class="T68">advanced</span><span class="T197"> (applies only to the run method).</span></p></td></tr><tr class="Table51"><td style="text-align:left;width:1.7549in; " class="Table5_A3"><p class="P60"><span class="Code">RCC_ADVANCE_DONE</span></p></td><td style="text-align:left;width:4.2361in; " class="Table5_B3"><p class="P60"><span class="T197">The worker is requesting that all ports be advanced (run method only) and declaring that it is also “done”. The worker is entering the </span><span class="T65">finished</span><span class="T197"> state </span><span class="T204">like </span><span class="Code"><span class="T197">RCC_DONE</span></span><span class="T204">.</span></p></td></tr></table><p class="P174"><span class="T205">These return values apply to each method as defined in their specific behavior.  Some values are not valid results for all methods. </span><span class="T25"> When the result is </span><span class="Code"><span class="T27">RCC_ERROR</span></span><span class="T25"> or </span><span class="Code"><span class="T27">RCC_FATAL</span></span><span class="T25">, the worker may have also set a descriptive error message via the </span><span class="Code"><span class="T26">setError</span></span><span class="T25"> container method</span><span class="T197"> described below.</span></p><h3 class="P373"><a id="a_4_2_4_Worker_Initializations"><span class="heading_numbering">4.2.4</span></a><a id="__RefHeading___Toc36515_1948322210"/>Worker Initializations</h3><p class="P24">A worker may initialize its state in several places, as appropriate.  Each is described below in detail, but here is a summary of the different <span class="T511">places</span> it may be done <span class="T513">and why:</span></p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T33">C++ Worker Constructor:</span>  <span class="T511">convenient for one time initializations that do not depend on initial property values and do not generate error conditions.</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T33">C++ Member Data Initializers:</span>  <span class="T511">convenient for one time member data initializations that do not depend on initial property values and do not generate error conditions.</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T70">The </span><span class="T63">i</span><span class="T58">nitialize</span><span class="T33"> control operation:</span>  <span class="T511">one time initializations that do not depend on initial property values for C, and those that might generate errors for C++.</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T70">The </span><span class="T63">s</span><span class="T58">tart </span><span class="T33">control operation:</span>  <span class="T511">initializations that should happen when the worker is first started </span><span class="T52">as well as</span><span class="T511"> when it is resumed after being suspended.</span><span class="odfLiEnd"/> </p></li><li><p class="P420" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T52">The </span><span class="T58">firstRun</span><span class="T33"> test in the run method:</span>  <span class="T511">one-time initializations that depend on initial property values.  See  </span><a href="#a_firstRun" class="Internet_20_link"><span class="FirstEmphasis">firstRun</span></a><a href="#a_container_method" class="Internet_20_link"><span class="T511"> container method</span></a><span class="T511">.</span><span class="odfLiEnd"/> </p></li></ul><p class="P25"><span class="T513">Guidance</span> to choose where initialization should take place is, in <span class="T513">priority </span>order:</p><ol><li><p class="P359" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">1.</span>In C++, use the constructor if the initializations do not depend on property values and do not generate errors, <span class="T515">otherwise</span><span class="odfLiEnd"/> </p></li><li><p class="P360" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">2.</span>Use <span class="T560">the</span> <a href="#a_firstRun" class="Internet_20_link"><span class="FirstEmphasis">firstRun</span></a><a href="#a_container_method" class="Internet_20_link"><span class="T559"> container method</span></a><span class="T559"> </span>unless it is <span class="T513">critical</span> that the first execution of the run method should not be slower than subsequent execution<span class="T512">s</span>.<span class="odfLiEnd"/> </p></li></ol><p class="Standard">If neither #1 nor #2 is suitable:</p><ol><li><p class="P359" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">3.</span>Use <span class="FirstEmphasis">initialize</span> if the initializations do not depend on property values.<span class="odfLiEnd"/> </p></li><li><p class="P361" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">4.</span>Use <span class="FirstEmphasis">start</span> if the initializations depend on property values or must be repeated when the worker is resumed after being suspended.<span class="odfLiEnd"/> </p></li></ol><h3 class="P374"><a id="a_4_2_5_initialize_—_Worker_Method"><span class="heading_numbering">4.2.5</span></a><a id="__RefHeading__10580_140039662"/><span class="T6">i</span><a id="_Toc211780947"/><a id="_Toc211781070"/><span class="T5">nitialize</span> — <span class="T485">Worker Method</span></h3><p class="P268"><span class="T116">This </span><span class="T120">worker </span><span class="T116">method implements the </span><span class="FirstEmphasis"><span class="T174">initialize</span></span><span class="T116"> control operation as </span><span class="T126">defined in </span><span class="T138">the </span><span class="T178">CDG</span><span class="T116"> </span><span class="T138">and i</span><span class="T116">t is optional.  </span><span class="T133">It cannot depend on any property settings.  </span><span class="T116">A worker should implement this method </span><span class="T133">under these</span><span class="T116"> conditions, </span><span class="T133">for one-time initializations that </span><span class="T151">do not</span><span class="T133"> depend on properties:</span></p><ul><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>There are initialization errors that can be reported to the container.<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>There is significant processing work involved in the initialization.<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>There are significant resource allocations performed during initialization.<span class="odfLiEnd"/> </p></li></ul><p class="P174">If none of the above <span class="T421">conditions </span>are true, this method can be unimplemented <span class="T425">and</span> the default implementation will be used<span class="T305">.</span></p><p class="P174">Using the <span class="Code"><span class="T74">initialize</span></span> method will allow the <span class="Code"><span class="T74">run</span></span> <span class="T305">or </span><span class="Code">start</span><span class="T305"> </span>method<span class="T305">s</span> to be more consistent in execution time.  <span class="T421">W</span>ithout an <span class="Code"><span class="T74">initialize</span></span>, all <span class="T305">one-time </span>initialization <span class="T305">must be</span> done on the first invocation of <span class="Code">start</span><span class="T305">, or if </span><span class="Code">start</span><span class="T305"> is unimplemented, the first invocation of </span><span class="Code"><span class="T74">run</span></span>.  <span class="T375">Sometimes this is unavoidable.</span></p><p class="P297">For one-time initializations that depend on property values, the <a href="#a_firstRun" class="Internet_20_link"><span class="FirstEmphasis">firstRun</span></a><a href="#a_container_method" class="Internet_20_link"> container method</a> can be called in the <span class="FirstEmphasis">run</span> method to know when it is being called for the first time.</p><h4 class="P430"><a id="a_4_2_5_1_Synopsis"><span class="heading_numbering">4.2.5.1</span></a><a id="__RefHeading__10660_140039662"/><a id="_Toc211781071"/>Synopsis</h4><p class="P111"><span class="T354">static RCC</span>Result initialize(<span class="T223">RCC</span>Worker *self);  // <span class="T275">C language<br/>RCCResult initialize();                        // C++ language</span></p><h4 class="P430"><a id="a_4_2_5_2_Returns"><span class="heading_numbering">4.2.5.2</span></a><a id="_Toc211781072"/><a id="__RefHeading__10662_140039662"/>Returns</h4><p class="P174">This method shall return a <span class="Code">RCCResult</span> value.</p><p class="P174">If the initialization cannot succeed, it shall return <span class="Code">RCC_ERROR</span>.  If the worker detects an error that would disable the implementation or its environment, it shall return <span class="Code">RCC_FATAL</span>.  Otherwise it shall return <span class="Code">RCC_OK</span> if normal worker execution should proceed.</p><h3 class="Heading_20_3"><a id="a_4_2_6_start_—_Worker_Method"><span class="heading_numbering">4.2.6</span></a><a id="__RefHeading__10582_140039662"/><span class="T5">s</span><a id="_Toc211780948"/><a id="_Toc211781074"/><span class="T5">tart</span> — <span class="T485">W</span>orker <span class="T485">M</span>ethod</h3><p class="P299"><span class="T116">This method implements the </span><span class="FirstEmphasis"><span class="T174">start</span></span><span class="T116"> control operation as defined </span><span class="T126">in </span><span class="T139">the </span><span class="T178">CDG</span><span class="T116"> </span><span class="T140">and</span><span class="T116"> is optional.  Upon successful completion, the worker is in the </span><span class="T153">operating</span><span class="T116"> state or the </span><span class="T153">finished</span><span class="T116"> state.  This operation is called for the first time after initialization </span><span class="T145">and </span><span class="T140">after initial property settings are done.  It may</span><span class="T116"> also be called after a successful </span><span class="T153">stop</span><span class="T116"> operation, to </span><span class="T150">resume</span><span class="T116"> execution.  </span><span class="T145">Thus any truly one-time initializations must be protected by some means in the worker implementation to ensure they are executed only once.</span></p><h4 class="P430"><a id="a_4_2_6_1_Synopsis"><span class="heading_numbering">4.2.6.1</span></a><a id="_Toc211781075"/><a id="__RefHeading__10664_140039662"/>Synopsis</h4><p class="P111"><span class="T354">static RCC</span>Result start(<span class="T223">RCC</span>Worker *self);  // <span class="T275">C language<br/>RCCResult start();                        // C++ language</span></p><h4 class="P430"><a id="a_4_2_6_2_Returns"><span class="heading_numbering">4.2.6.2</span></a><a id="_Toc211781076"/><a id="__RefHeading__10666_140039662"/>Returns</h4><p class="P174">This method shall return a <span class="Code">RCCResult</span> value.</p><p class="P174"><span class="T116">If the </span><span class="T154">start</span><span class="T116"> method cannot succeed, it shall return </span><span class="Code"><span class="T167">RCC_ERROR</span></span><span class="T116">.  If the worker detects an error that would disable the implementation or its environment, it shall return </span><span class="Code"><span class="T167">RCC_FATAL</span></span><span class="T116">.  It shall return </span><span class="Code"><span class="T167">RCC_DONE</span></span><span class="T116"> if no worker execution should proceed, to indicate that it </span><span class="T126">is</span><span class="T116"> enter</span><span class="T126">ing</span><span class="T116"> the </span><span class="T153">finished</span><span class="T116"> state.  Otherwise it shall return </span><span class="Code"><span class="T167">RCC_OK</span></span><span class="T116"> if normal worker execution should proceed.</span></p><p class="P174">Returning <span class="Code">RCC_DONE</span> indicates to the container that the worker will never require <span class="T305">further </span>execution, and provides this advice to the container to allow the container to take advantage of this fact and possibly release resources (such as I/O buffers) prior to the worker <span class="T305">instance </span>being destroyed or reused.</p><h3 class="P374"><a id="a_4_2_7_stop_—_Worker_Method"><span class="heading_numbering">4.2.7</span></a><a id="__RefHeading__10584_140039662"/><span class="T6">s</span><a id="_Toc211780949"/><a id="_Toc211781078"/><span class="T5">top</span> — <span class="T485">Worker Method</span></h3><p class="P269"><span class="T116">This method implements the </span><span class="T154">stop</span><span class="T116"> control operation as described </span><span class="T126">in </span><span class="T140">the </span><span class="T178">CDG</span><span class="T116">.  Upon successful completion, the worker is in the </span><span class="T153">suspended</span><span class="T116"> state.  It will be </span><span class="T128">also </span><span class="T116">called before the </span><span class="T153">release</span><span class="T116"> method, and before destruction, i</span><span class="T126">f</span><span class="T116"> the worker is in the </span><span class="T153">operating</span><span class="T116"> state.</span></p><h4 class="P430"><a id="a_4_2_7_1_Synopsis"><span class="heading_numbering">4.2.7.1</span></a><a id="_Toc211781079"/><a id="__RefHeading__10668_140039662"/>Synopsis</h4><p class="P111"><span class="T354">static RCC</span>Result stop(<span class="T223">RCC</span>Worker *self);  // <span class="T275">C language<br/>RCCResult stop();                        // C++ language</span></p><h4 class="P430"><a id="a_4_2_7_2_Returns"><span class="heading_numbering">4.2.7.2</span></a><a id="_Toc211781080"/><a id="__RefHeading__10670_140039662"/>Returns</h4><p class="P174">This method shall return a <span class="Code">RCCResult</span> value.</p><p class="P174"><span class="T116">If the </span><span class="T154">stop</span><span class="T116"> method cannot succeed, it shall return </span><span class="Code"><span class="T167">RCC_ERROR</span></span><span class="T116">.  If the worker detects an error that would disable the implementation or its environment, it shall return </span><span class="Code"><span class="T167">RCC_FATAL</span></span><span class="T116">.  Otherwise it shall return </span><span class="Code"><span class="T167">RCC_OK</span></span><span class="T116">.</span></p><h3 class="P374"><a id="a_4_2_8_release_—_Worker_Method"><span class="heading_numbering">4.2.8</span></a><a id="__RefHeading__10586_140039662"/><span class="T6">r</span><a id="_Toc211780950"/><a id="_Toc211781082"/><span class="T5">elease</span> — <span class="T485">Worker Method</span></h3><p class="P332"><span class="T116">This method implements the </span><span class="FirstEmphasis"><span class="T174">release</span></span><span class="T116"> control operation as described </span><span class="T126">in </span><span class="T144">the </span><span class="T178">CDG</span><span class="T116">.  After successful completion, the worker </span><span class="T128">instance </span><span class="T116">is in the </span><span class="T153">exists</span><span class="T116"> state.  </span><span class="T134">This method is needed when there are resources allocated by the worker in any other worker methods, such as heap allocations or file handles.</span></p><h4 class="P430"><a id="a_4_2_8_1_Synopsis"><span class="heading_numbering">4.2.8.1</span></a><a id="__RefHeading__10672_140039662"/><a id="_Toc211781083"/>Synopsis</h4><p class="P111"><span class="T354">static RCC</span>Result release<span class="T354">(RCC</span>Worker *self<span class="T225">)</span>;  // <span class="T275">C language<br/>RCCResult release();                        // C++ language</span></p><h4 class="P430"><a id="a_4_2_8_2_Returns"><span class="heading_numbering">4.2.8.2</span></a><a id="__RefHeading__10674_140039662"/><a id="_Toc211781084"/>Returns</h4><p class="P174">This method shall return a <span class="Code">RCCResult</span> value.</p><p class="P174"><span class="T116">If the </span><span class="T149">release</span><span class="T116"> method cannot succeed, it shall return </span><span class="Code"><span class="T167">RCC_ERROR</span></span><span class="T116">.  If the worker detects an error that would disable the implementation or its environment, or it is unable to return resources it allocated, it shall return </span><span class="Code"><span class="T167">RCC_FATAL</span></span><span class="T116">.  Otherwise it shall return </span><span class="Code"><span class="T167">RCC_OK</span></span><span class="T116">.</span></p><h3 class="P374"><a id="a_4_2_9_run_—_Worker_Method"><span class="heading_numbering">4.2.9</span></a><a id="__RefHeading___Toc299909_943807761"/><span class="T7">r</span><a id="_Toc211780953"/><a id="_Toc211781094"/><span class="T5">un</span><a id="__RefHeading__10684_140039662"/> — <span class="T485">Worker Method</span></h3><p class="P174"><span class="T116">The </span><span class="T154">run</span><span class="T116"> method requests that the worker perform its normal computation.  The container only calls this method when the worker’s </span><span class="T149">run condition</span><span class="T116"> is </span><span class="T121">satisfied</span><span class="T116">.</span></p><h4 class="P430"><a id="a_4_2_9_1_Synopsis"><span class="heading_numbering">4.2.9.1</span></a><a id="__RefHeading__10686_140039662"/><a id="_Toc211781096"/>Synopsis</h4><p class="P111"><span class="T355">static RCC</span>Result run(<span class="T224">RCC</span>Worker *self,<br/>                     <span class="T226">RCC</span>Boolean timed<span class="T227">O</span>ut,<br/>                     <span class="T226">RCCBoolean *newRunCondition</span>);  // <span class="T276">C language<br/>RCCResult run(bool timedOut);                       // C++ language</span></p><h4 class="P430"><a id="a_4_2_9_2_Behavior"><span class="heading_numbering">4.2.9.2</span></a><a id="__RefHeading__10688_140039662"/><a id="_Toc211781097"/>Behavior</h4><p class="P174"><span class="T116">The </span><span class="FirstEmphasis"><span class="T174">run</span></span><span class="T116"> method shall perform the worker's computational function and return a result.  Th</span><span class="T160">is</span><span class="T116"> method may use information in its property structure, the state of its ports, and its </span><span class="T121">requested local and global/persistent</span><span class="T116"> member data to decide what to do.  </span><span class="T141">When there are data ports, t</span><span class="T116">his </span><span class="T141">typically </span><span class="T116">involves using messages in buffers at input ports to produce messages in buffers at output ports.</span></p><p class="P310"><span class="T116">The </span><span class="Code"><span class="T86">timedOut</span></span><span class="T116"> </span><span class="T147">boolean </span><span class="T116">input </span><span class="T129">argument</span><span class="T116"> indicates </span><span class="T147">when</span><span class="T116"> the </span><span class="FirstEmphasis"><span class="T174">run</span></span><span class="T116"> method is being invoked due to time passing (the </span><span class="Code"><span class="T86">usecs</span></span><span class="T116"> value of the run condition) </span><span class="T147">and </span><span class="T152">not</span><span class="T147"> due to the ports specified in the run condition being ready.</span></p><p class="P179"><span class="T219">C Language:</span><span class="T210">  </span><span class="T206">The </span><span class="T220">run</span><span class="T206"> method may change the run condition by </span><span class="T214">setting</span><span class="T206"> a TRUE value to the location indicated by the </span><span class="Code"><span class="T167">newRunCondition</span></span><span class="T206"> output argument, and setting a pointer to a new run condition in the </span><span class="Code"><span class="T167">runCondition</span></span><span class="T206"> member of </span><span class="Code"><span class="T167">RCCWorker</span></span><span class="T206">.  The </span><span class="Code"><span class="T167">runCondition</span></span><span class="T206"> member of </span><span class="Code"><span class="T167">RCCWorker</span></span><span class="T206"> is initially set to the value in the </span><span class="Code"><span class="T167">RCCDispatch</span></span><span class="T206"> structure (including </span><span class="Code"><span class="T167">NULL</span></span> <span class="T306">to indicate the default run condition</span><span class="T206">).</span></p><p class="P178"><span class="T220">C</span><span class="T218">++ Language:</span><span class="T205">  The </span><span class="T218">run</span><span class="T205"> method may change the run condition using the </span><a href="#a_setRunCondition" class="Internet_20_link"><span class="Code"><span class="T173">setRunCondition</span></span></a><a href="#a_container_method" class="Internet_20_link"> container method</a><span class="T205"> </span><span class="T216">and</span><span class="T205"> retrieve </span><span class="T216">it</span><span class="T205"> using the </span><a href="#a_getRunCondition__" class="Internet_20_link"><span class="Code"><span class="T167">getRunCondition()</span></span></a><a href="#a_" class="Internet_20_link"><span class="T205"> </span></a><a href="#a_container" class="Internet_20_link"><span class="T216">container </span></a><a href="#a_method" class="Internet_20_link">method</a><span class="T205">.</span></p><p class="P177"><span class="T210">If the </span><span class="T217">current</span><span class="T210"> </span><span class="Code"><span class="T167">runCondition</span></span><span class="T210"> is set to </span><span class="Code"><span class="T167">NULL</span></span><span class="T210">, the default run condition is restored.  The run condition for a worker is initially set to th</span><span class="T217">is</span><span class="T210"> default.  Since the worker code is managing the run conditions (passed by pointer), it can use it as a convenient “state variable” when its execution modes each have a different run condition.</span></p><p class="P180"><span class="T210">C</span><span class="T205">ode in the </span><span class="FirstEmphasis"><span class="T179">run</span></span><span class="T205"> method accesses information about ports and current buffers by accessing objects/structures that are port</span><span class="T212">s</span><span class="T205"> </span><span class="T214">in</span><span class="T205"> the Worker object.</span></p><p class="P311"><span class="T205">See the </span><a href="#a_port_management" class="Internet_20_link"><span class="T222">port management</span></a><span class="T205"> and </span><a href="#a_buffer_management" class="Internet_20_link"><span class="T222">buffer management</span></a><span class="T205"> sections below for container methods and port data members used to process input messages and create output messages.</span></p><p class="P298">The <span class="FirstEmphasis">firstRun</span> container method may be <span class="T514">tested</span> for one-time initializations in the <span class="FirstEmphasis">run</span> method.</p><h4 class="P430"><a id="a_4_2_9_3_Returns"><span class="heading_numbering">4.2.9.3</span></a><a id="_Toc211781098"/><a id="__RefHeading__10690_140039662"/>Returns</h4><p class="P174">This method shall return a <span class="Code">RCCResult</span> value.  <span class="T531">The most common value is</span><span class="T148"> </span><span class="Code"><span class="T167">RCC_ADVANCE</span></span><span class="T116">, </span><span class="T148">which </span><span class="T116">indicates that all ports should be advanced that were ready on entry to the </span><span class="FirstEmphasis"><span class="T176">run</span></span><span class="T116"> </span><span class="T143">method</span><span class="T116"> and were not subject to container methods called since then (e.g. advance, request etc. </span><span class="T130">described below</span><span class="T116">).  </span></p><p class="P174"><span class="T148">It</span><span class="T116"> should return </span><span class="Code"><span class="T167">RCC_OK</span></span><span class="T116"> or </span><span class="Code"><span class="T167">RCC_ADVANCE</span></span><span class="T116"> if normal worker execution should proceed (the </span><span class="T149">run</span><span class="T116"> method will be called again when the run condition is true).</span></p><p class="P174">The run method should return <span class="Code">RCC_DONE</span> <span class="T532">or </span><span class="Code">RCC_ADVANCE_DONE</span><span class="T532"> </span>if no <span class="T307">further </span>worker execution should <span class="T307">happen</span>.</p><p class="P313">See <a href="#a_RCCResult_Enumeration_Type" class="Internet_20_link">RCCResult Enumeration Type</a> for a description of all allowed values.</p><h2 class="P409"><a id="a_4_3_Container_Methods__Called_by_the_Worker_"><span class="heading_numbering">4.3</span></a><a id="__RefHeading__10596_140039662"/><a id="_Toc270018433"/>Container <span class="T435">M</span>ethods, <span class="T435">C</span>alled by the <span class="T435">W</span>orker.</h2><p class="P270">These methods are <span class="T422">what a</span> worker calls to invoke function<span class="T360">ality provided</span> <span class="T360">by</span> the container.   <span class="T228">The container methods are in three categories:</span></p><ul><li><p class="P421" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>container scope (this section), <span class="odfLiEnd"/> </p></li><li><p class="P421" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>port scope (next section) <span class="odfLiEnd"/> </p></li><li><p class="P421" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>buffer scope (following section).<span class="odfLiEnd"/> </p></li></ul><p class="P174">The use of <span class="T229">all</span> container methods is optional, and <span class="T277">typically</span> unneeded for simple workers that only use run conditions and the <span class="FirstEmphasis"><span class="T386">run</span></span> method.  <span class="T422">When used these</span> provide additional flexibility and functionality in <span class="T308">message</span> handling.</p><p class="P271"><span class="T33">All </span><span class="T46">container methods </span><span class="T33">are non-blocking</span>.</p><p class="P182"><span class="T58">C Language:</span>  container methods are <span class="T510">usually </span>accessed using function pointer members in the container <span class="T308">structure </span>member of the <span class="Code">RCCWorker</span> structure, e.g.:</p><p class="Code">self-&gt;container.setError(...)</p><p class="P301"><span class="T64">C++ Language:</span><span class="T277">  container methods exist in an accessible base class for the worker and are called directly.  Container methods relating to ports and buffers are methods of the worker's member data objects for ports, rather than on the worker (or container) objects.</span></p><h3 class="P375"><a id="a_4_3_1_firstRun_—_Container_Method"><span class="heading_numbering">4.3.1</span></a><a id="__RefHeading___Toc36517_1948322210"/><span class="T18">firstRun</span><a id="_Toc2700184351"/> — <span class="T485">C</span>ontainer <span class="T485">M</span>ethod</h3><p class="P296">This method is used by the worker to <span class="T509">determine when the </span><span class="FirstEmphasis">run</span><span class="T509"> worker method is being called for the first time.  It can be used for initializations that must be done once after all initial property values are established.  It can simply be used when it is more convenient or concise than other methods, e.g. (in C++):</span></p><p class="P150">RCCResult run(<span class="T510">bool timedOut) {<br/>  if (firstRun())<br/>    do_this_once(); // whatever must be done only once<br/>}</span></p><p class="P296"><span class="T510">Remember that the </span><span class="FirstEmphasis">start</span><span class="T510"> control operation may be called more than once if the worker is suspended (using the </span><span class="FirstEmphasis">stop</span><span class="T510"> control operation) and subsequently resumed using </span><span class="FirstEmphasis">start</span><span class="T510"> a second time.  The </span><span class="FirstEmphasis">initialize</span><span class="T510"> control operation is also called exactly once, but is called </span><span class="T51">before</span><span class="T510"> initial property values are established.</span></p><p class="P302">If the <span class="FirstEmphasis">firstRun</span> container method is called from other than the <span class="FirstEmphasis">run</span> method, its behavior is undefined.</p><h4 class="P431"><a id="a_4_3_1_1_Synopsis"><span class="heading_numbering">4.3.1.1</span></a><a id="__RefHeading__10700_1400396621"/>Synopsis</h4><p class="P149"><span class="T246">RCCBoolean</span> <span class="T509">self-&gt;firstRun</span>;  // <span class="T278">C Language, using structure member<br/>bool firstRun();            // C++ Language</span></p><h4 class="P431"><a id="a_4_3_1_2_Returns"><span class="heading_numbering">4.3.1.2</span></a><a id="__RefHeading__10702_1400396621"/>Returns</h4><p class="P333">This <span class="T510">method (C++) or structure access (C)</span> returns <span class="T510">a boolean which is true when the run method is being called for the first time.</span></p><h3 class="P376"><a id="a_4_3_2_setError_—_Container_Method"><span class="heading_numbering">4.3.2</span></a><a id="__RefHeading___Toc5322_1067000368"/><a id="_Toc270018434"/><span class="T5">setError</span> — <span class="T485">C</span>ontainer <span class="T485">M</span>ethod</h3><p class="P183">This method is used by the worker to convey an error message associated with returning <span class="Code">RCC_ERROR</span> or <span class="Code">RCC_FATAL</span>.  It has semantics similar to printf<span class="T242">.</span></p><h4 class="P432"><a id="a_4_3_2_1_Synopsis"><span class="heading_numbering">4.3.2.1</span></a><a id="__RefHeading__10696_140039662"/>Synopsis</h4><p class="P112"><span class="T243">RCCResult (*</span>setError<span class="T244">)</span>(const char *fmt, …);  // <span class="T278">C Language<br/>RCCResult setError(const char *fmt, …);     // C++ Language</span></p><h4 class="P432"><a id="a_4_3_2_2_Returns"><span class="heading_numbering">4.3.2.2</span></a><a id="__RefHeading__10698_140039662"/>Returns</h4><p class="P183"><span class="Code">RCC_ERROR</span> <span class="T499">is always returned</span>, <span class="T499">allowing</span> a worker to simultaneously set the error and return the error indication.  <span class="T499">E.g., a worker method detecting an error could (in C) do:</span></p><p class="P110">return <span class="T244">self-&gt;container.</span>setError(“Failure due to %d”, arg);</p><p class="P192">Or, in C++:</p><p class="P110">return setError(“Failure due to %d”, arg);</p><p class="P183"><span class="T497">W</span>orker<span class="T497">s that</span> must return <span class="Code">RCC_FATAL</span>, <span class="T497">may</span> call this <span class="T497">prior to</span> returning that value.</p><h3 class="P377"><a id="a_4_3_3_time_getTime_—_Container_Method"><span class="heading_numbering">4.3.3</span></a><a id="__RefHeading___Toc36630_1948322210"/><span class="T8">t</span><a id="_Toc2700184352"/><span class="T5">ime/</span><span class="T8">getTime</span> — <span class="T485">C</span>ontainer <span class="T485">M</span>ethod</h3><p class="P300">This method retrieve<span class="T533">s</span> the time of day as a 64 bit unsigned number that represents GPS time in units of 2^-32 seconds (~233 ps).  <span class="T422">T</span>he most significant 32 bits <span class="T533">hold</span> GPS time in seconds.  <span class="T308">The accuracy of this time is dependent on the container implementation.</span></p><p class="P295">Note that GPS time is monotonic, as opposed to UTC time (the POSIX standard), which is subject to leap seconds etc.</p><h4 class="P433"><a id="a_4_3_3_1_Synopsis"><span class="heading_numbering">4.3.3.1</span></a><a id="__RefHeading__10700_1400396622"/>Synopsis</h4><p class="P151"><span class="T246">RCCT</span>ime <span class="T245">(*t</span>ime<span class="T245">)</span>();  // <span class="T278">C Language<br/>RCCTime getTime();  // C++ Language</span></p><h4 class="P433"><a id="a_4_3_3_2_Returns"><span class="heading_numbering">4.3.3.2</span></a><a id="__RefHeading__10702_1400396622"/>Returns</h4><p class="P334">This function returns GPS time in units of 2^-32 seconds.</p><h3 class="Heading_20_3"><a id="a_4_3_4_The_RCC__RunCondition_C___Class_and_RCCRunCondition_C_Structure"><span class="heading_numbering">4.3.4</span></a><a id="__RefHeading___Toc5328_1067000368"/>The <span class="T5">RCC::RunCondition</span> C++ <span class="T485">C</span>lass <span class="T530">and </span><span class="FirstEmphasis">RCCRunCondition</span><span class="T530"> C Structure</span></h3><p class="P293"><span class="T506">This class is</span> used by the container to determine when it is appropriate to invoke the <span class="Code">run</span> <span class="T489">method</span>.  <span class="T499">The </span><span class="Code">RCC::RunCondition</span> <span class="T499">class has</span> convenience constructors, <span class="T533">methods,</span> <span class="T491">and</span> <span class="T506">worker-writable data </span>members.  <span class="T491">In most cases the convenience constructors are sufficient and no member data or method call is required.  The </span><span class="Code">getRunCondition</span><span class="T491"> and </span><span class="Code">setRunCondition</span><span class="T491"> </span><span class="T50">container</span><span class="T491"> methods described below are used to set and get the current run condition objects for the worker.  This class, and those container methods, are only needed when the default run condition is not appropriate.</span></p><p class="P315">The <span class="Code">RCC::PortMask</span> (C++)/<span class="Code">RCCPortMask</span> <span class="T533">(C)</span> type in run conditions specifies <span class="T534">a </span>set of ports that must be ready at the same time.  A mask is considered “true” when <span class="T33">all</span> ports whose bit is set in the mask (i.e.  <span class="Code">mask &amp; (1 &lt;&lt; port_ordinal) !</span><span class="Code"><span class="T533">= 0</span></span>) are ready or are not connected.  <span class="T534">The </span><span class="Code">RCC_ALL_PORTS</span><span class="T534"> constant indicates all a worker's ports.</span></p><p class="P356">Table <a id="refTable3"/>4:  RunCondition Constructors</p><table border="0" cellspacing="0" cellpadding="0" class="Table11"><colgroup><col width="257"/><col width="465"/></colgroup><tr class="Table111"><td style="text-align:left;width:2.3139in; " class="Table11_A1"><p class="P352">RunCondition()</p></td><td style="text-align:left;width:4.1903in; " class="Table11_A1"><p class="P96">Specify <span class="T506">the</span> default run condition:  no timeout, <span class="T491">and </span>all connected ports must be ready.  <span class="T491">If the worker has no ports, it will always run.  The constructor is equivalent to:<br/></span><span class="Code"><span class="T95"> RunCondition(RCC_ALL_PORTS, RCC_NO_PORTS</span></span><span class="Code"><span class="T98">)</span></span></p></td></tr><tr class="Table111"><td style="text-align:left;width:2.3139in; " class="Table11_A1"><p class="P352"><span class="T280">RunCondition</span><br/><span class="T280"> (RCC::PortMask first,<br/>  …)</span></p></td><td style="text-align:left;width:4.1903in; " class="Table11_A1"><p class="P97">Specify a list of port masks as variable arguments that <span class="T493">is</span> terminated <span class="T495">by the value </span><span class="Code">RCC_NO_PORTS</span>.  <span class="T493">No timeouts are indicated.  Each mask indicates a set of ports.  The run condition is considered </span><span class="T49">true</span><span class="T490"> when </span><span class="T49">any</span><span class="T490"> of the masks is true.  </span><span class="Code">R</span><a id="__DdeLink__30052_618698272"/><span class="Code">unCondition(RCC_NO_PORTS)</span><a id="__DdeLink__30049_618698272"/><span class="T490"> indicates: </span><span class="T49">never run</span><span class="T490">.</span></p></td></tr><tr class="Table111"><td style="text-align:left;width:2.3139in; " class="Table11_A3"><p class="P352"><span class="T280">RunCondition</span><br/><span class="T280"> (RCC::PortMask *masks,</span><br/><span class="T280">  uint32_t usecs = 0,</span><br/><span class="T280">  bool timeout = false)</span></p></td><td style="text-align:left;width:4.1903in; " class="Table11_A3"><p class="P96">Specify <span class="T495">a pointer to an array of masks (terminated by </span><span class="Code">RCC_NO_PORTS</span><span class="T495">) as well as the timeout</span>, with defaults for timeout <span class="T493">arguments</span>.  <span class="T494">The masks in the array are copied during construction.  </span><a id="__DdeLink__30054_618698272"/><span class="Code">RunCondition(NULL)</span> indicates: <span class="T32">always run</span>.</p></td></tr></table><p class="P304">In all cases, a port's readiness is based on a single buffer being available, even if more than one buffer exists, and even if the <span class="Code">MinBufferCount</span> attribute for the port in the OWD is set to a value greater than 1.  Knowing that more than one buffer exists at a port does <span class="T33">not</span> imply that more than one will be available in any given invocation of the <span class="FirstEmphasis">run</span> method.</p><p class="P273">A worker <span class="T497">using</span> <span class="Code">RunCondition</span> objects typically declares them as member data that <span class="T497">are</span> configured in member initializers in the worker's constructor.  For example, <span class="T506">in the following code a run condition data member is declared, and initialized appropriately.  Then it is used dynamically as conditions warrant.</span></p><p class="Code">class XyzWorker : public XyzWorkerBase {<br/>  RunCondition m_aRunCondition;<br/>  XyzWorker() : m_aRunCondition(1 &lt;&lt; Xyz_Inport, <span class="T496">RCC_NO_PORTS</span>) {<br/>  }<br/>  RCCResult run(bool timedOut) {<br/>    if (need_to_change_run_condition)<br/>      setRunCondition(&amp;m_aRunCondition);<br/>    else if (need_default_run_condition)<br/>      setRunCondition(NULL);<br/>  }<br/>}</p><p class="P292">The following table describes the accessible <span class="T500">methods that can be used when the convenience constructors above are not sufficient to specify or control RunConditions</span>.  <span class="T502">All have no return value (i.e. are void).</span></p><p class="P357"><span class="T309">Table </span><span class="T309"><a id="refTable4"/>5</span><span class="T309">:  </span>RunCondition <span class="T500">Methods</span></p><table border="0" cellspacing="0" cellpadding="0" class="Table8"><colgroup><col width="188"/><col width="534"/></colgroup><tr class="Table81"><td style="text-align:left;width:1.691in; " class="Table8_A1"><p class="P93"><span class="T501">Method</span> Name <span class="T502">and Arguments</span></p></td><td style="text-align:left;width:4.809in; " class="Table8_A1"><p class="P98"><span class="T4">Member</span><br/><span class="T4">Description</span></p></td></tr><tr class="Table81"><td style="text-align:left;width:1.691in; " class="Table8_A2"><p class="P353">disableTimeout()</p></td><td style="text-align:left;width:4.809in; " class="Table8_A2"><p class="P98"><span class="T502">Disable the timeout aspect of the run conditions.  The timeout time value (</span><span class="Code">usecs</span><span class="T502">) is unchanged.</span></p></td></tr><tr class="Table81"><td style="text-align:left;width:1.691in; " class="Table8_A3"><p class="P353">enableTimeout()</p></td><td style="text-align:left;width:4.809in; " class="Table8_A3"><p class="P98"><span class="T502">Enable the timeout aspect of the run condition, using the previously specified </span><span class="Code">usecs</span><span class="T502"> value.</span></p></td></tr><tr class="Table81"><td style="text-align:left;width:1.691in; " class="Table8_A3"><p class="P353">enableTimeout<br/>(uint32_t usecs)</p></td><td style="text-align:left;width:4.809in; " class="Table8_A3"><p class="P100"><span class="T502">Enable the timeout aspect of the run condition, supplying a new </span><span class="Code">usecs</span><span class="T502"> value, which will be stored in the object.</span></p></td></tr><tr class="Table81"><td style="text-align:left;width:1.691in; " class="Table8_A5"><p class="P353">setTimeout<br/>(uint32_t usecs)</p></td><td style="text-align:left;width:4.809in; " class="Table8_A5"><p class="P103">Set the timeout <span class="Code">usecs</span> value of the run condition, which will not necessarily enable the timeout if not enabled.</p></td></tr><tr class="Table81"><td style="text-align:left;width:1.691in; " class="Table8_A5"><p class="P353"><span class="T503">s</span>etPortMasks<br/>(RCCPortMask *)</p></td><td style="text-align:left;width:4.809in; " class="Table8_A5"><p class="P104">Set the port masks for the run condition from the array pointed to by the argument, which must be terminated by <span class="Code">RCC_NO_PORTS</span>.  The array is copied into the run condition.</p></td></tr><tr class="Table81"><td style="text-align:left;width:1.691in; " class="Table8_A5"><p class="P353"><span class="T507">s</span>etPortMasks<br/><span class="T504">(RCCPortMask, </span><span class="T505">…</span><span class="T504">)</span></p></td><td style="text-align:left;width:4.809in; " class="Table8_A5"><p class="P104">Use a variable argument list to set the port masks of the run condition.  The arguments must be terminated by <span class="Code">RCC_NO_PORTS</span>.</p></td></tr></table><p class="P292">The following table describes the accessible <span class="T507">data </span>members of the RunCondition structure.  <span class="T507">They apply to the C </span><span class="Code">RCCRunCondition</span><span class="T507"> structure as well as the C++ </span><span class="Code">OCPI::RCC::RunCondition</span><span class="T507"> class.</span></p><p class="Table_20_Caption_20__28_before_29_"><span class="T309">Table </span><span class="T309"><a id="refTable5"/>6</span><span class="T309">:  </span>RunCondition Members — <span class="T530">C and C++</span></p><table border="0" cellspacing="0" cellpadding="0" class="Table3"><colgroup><col width="111"/><col width="132"/><col width="487"/></colgroup><tr class="Table31"><td style="text-align:left;width:1in; " class="Table3_A1"><p class="P92">Member Name</p></td><td style="text-align:left;width:1.1903in; " class="Table3_A1"><p class="P95"><span class="T4">Member</span><br/><span class="T4">Data Type</span></p></td><td style="text-align:left;width:4.3882in; " class="Table3_A1"><p class="P95"><span class="T4">Member</span><br/><span class="T4">Description</span></p></td></tr><tr class="Table31"><td style="text-align:left;width:1in; " class="Table3_A2"><p class="Table_20_Code">portMasks</p></td><td style="text-align:left;width:1.1903in; " class="Table3_A2"><p class="Table_20_Code">RCCPortMask *</p></td><td style="text-align:left;width:4.3882in; " class="Table3_A2"><p class="P95">A pointer to <span class="T498">an</span> array of port masks, <span class="T498">terminated by </span><span class="Code">RCC_NO_PORTS</span><span class="T498">, </span>each of which indicates a bit-mask of port readiness.  The run condition is considered <span class="T33">true</span> when <span class="T33">any</span> of the masks is true.  A mask is <span class="T36">true</span> when all indicated ports are ready (logical AND of port readiness).  If the pointer itself is <span class="Code">NULL</span>, the run condition is always true.  A <span class="T489">mask </span>bit set for an unconnected port is ignored:  the default run condition can be used with unconnected ports.</p></td></tr><tr class="Table31"><td style="text-align:left;width:1in; " class="Table3_A3"><p class="Table_20_Code">timeout</p></td><td style="text-align:left;width:1.1903in; " class="Table3_A3"><p class="Table_20_Code">bool</p></td><td style="text-align:left;width:4.3882in; " class="Table3_A3"><p class="P95">Indicates that the <span class="Code"><span class="T79">usecs</span></span> member determine<span class="T310">s</span> when enough time has passed to make the run condition true.  <span class="T310">T</span>his value <span class="T310">is</span> used to enable or disable the timeout, without changing <span class="T32">usecs</span>.</p></td></tr><tr class="Table31"><td style="text-align:left;width:1in; " class="Table3_A3"><p class="Table_20_Code">usecs</p></td><td style="text-align:left;width:1.1903in; " class="Table3_A3"><p class="Table_20_Code">uint32_t</p></td><td style="text-align:left;width:4.3882in; " class="Table3_A3"><p class="P99"><span class="T489">When enabled by the </span><span class="Code">timeout</span><span class="T489"> member, i</span>f this <span class="T310">amount of </span>time has passed (in microseconds) since the run <span class="T279">method</span> was last <span class="T32">entered</span>, the run condition is true.</p></td></tr></table><p class="Body">The overall run condition is the logical OR of the <span class="Code">portMasks</span> and the timeout.  <span class="T489">For C language workers, i</span>f the worker offers no <span class="Code">run</span> method in its <span class="Code">RCCDispatch</span> structure (see below), run conditions are ignored.  If the <span class="Code">portMasks</span> member is <span class="Code">NULL</span>, it indicates that no port readiness check is performed and the run condition is always <span class="T279">true</span>.  <span class="T489">The default run condition is a single port mask with all ports enabled.  </span>Typical combinations are:</p><p class="Table_20_Caption_20__28_before_29_"><span class="T310">Table </span><span class="T310"><a id="refTable6"/>7</span><span class="T310">:  </span>Run Condition Combinations</p><table border="0" cellspacing="0" cellpadding="0" class="Table6"><colgroup><col width="111"/><col width="195"/><col width="83"/><col width="333"/></colgroup><tr class="Table61"><td style="text-align:left;width:1in; " class="Table6_A1"><p class="P92">Shorthand</p></td><td style="text-align:left;width:1.7549in; " class="Table6_A1"><p class="P92">Port mask</p></td><td style="text-align:left;width:0.7451in; " class="Table6_A1"><p class="P92">Timeout</p></td><td style="text-align:left;width:3in; " class="Table6_A1"><p class="P92">RunCondition Description</p></td></tr><tr class="Table61"><td style="text-align:left;width:1in; " class="Table6_A2"><p class="P94">Always run</p></td><td style="text-align:left;width:1.7549in; " class="Table6_A2"><p class="P95"><span class="Code"><span class="T95">portMasks == NULL</span></span></p></td><td style="text-align:left;width:0.7451in; " class="Table6_A2"><p class="P95">ignored</p></td><td style="text-align:left;width:3in; " class="Table6_A2"><p class="P95">the worker is always ready, <span class="T310">no</span> timeout</p></td></tr><tr class="Table61"><td style="text-align:left;width:1in; " class="Table6_A3"><p class="P94">Run when data ports are ready</p></td><td style="text-align:left;width:1.7549in; " class="Table6_A3"><p class="P95"><span class="Code"><span class="T95">portMasks != NULL</span></span></p></td><td style="text-align:left;width:0.7451in; " class="Table6_A3"><p class="P95">False</p></td><td style="text-align:left;width:3in; " class="Table6_A3"><p class="P95">Run condition is TRUE when any mask is true.  If there are<span class="T489"> </span>no masks (portMasks[0] == 0), then the run condition is <span class="T489">FALSE</span>.</p></td></tr><tr class="Table61"><td style="text-align:left;width:1in; " class="Table6_A3"><p class="P105">Run when data ports are ready or timeout.</p></td><td style="text-align:left;width:1.7549in; " class="Table6_A3"><p class="P101"><span class="Code"><span class="T95">portMasks != NULL<br/>and portMasks[0] != </span></span><span class="Code"><span class="T97">RCC_NO_PORTS</span></span><span class="Code"><span class="T95"> </span></span></p></td><td style="text-align:left;width:0.7451in; " class="Table6_A3"><p class="P101">True</p></td><td style="text-align:left;width:3in; " class="Table6_A3"><p class="P101">Run condition is TRUE when any mask is true OR if the timeout expires.  The timeout will take effect if time passes without <span class="T489">any</span> mask being satisfied.</p></td></tr><tr class="Table61"><td style="text-align:left;width:1in; " class="Table6_A3"><p class="P105">Periodic execution</p></td><td style="text-align:left;width:1.7549in; " class="Table6_A3"><p class="P102"><span class="Code"><span class="T95">portMasks != NULL<br/>and<br/>portMasks[0] == </span></span><span class="Code"><span class="T97">RCC_NO_PORTS</span></span></p></td><td style="text-align:left;width:0.7451in; " class="Table6_A3"><p class="P101">True</p></td><td style="text-align:left;width:3in; " class="Table6_A3"><p class="P101">Since portMasks[0] == <span class="T498">RCC_NO_PORTS</span>, port masks can never be true, thus this establishes period<span class="T498">ic</span> execution independent of port readiness.</p></td></tr></table><p class="P106"> </p><h3 class="P378"><a id="a_4_3_5_getRunCondition_—_Container_Method_—_C___Language_Only"><span class="heading_numbering">4.3.5</span></a><a id="__RefHeading___Toc5324_1067000368"/><span class="T5">getRunCondition</span> — <span class="T485">C</span>ontainer <span class="T485">M</span>ethod — C++ Language <span class="T487">O</span>nly</h3><p class="P183">This method is used by the worker to retrieve its current run condition.  If the current run condition is specified to be the default, <span class="Code">NULL</span> is returned.  Otherwise the pointer returned is the most recent one passed from the worker to the container in the <span class="Code">setRunCondition</span> method.</p><h4 class="Heading_20_4"><a id="a_4_3_5_1_Synopsis"><span class="heading_numbering">4.3.5.1</span></a>Synopsis</h4><p class="Code">RCC::RunCondition *getRunCondition(); </p><h4 class="P432"><a id="a_4_3_5_2_Returns"><span class="heading_numbering">4.3.5.2</span></a>Returns</h4><p class="P183">This function returns a pointer to the run condition most recently set by the worker using the <span class="Code">setRunCondition</span> call, or <span class="Code">NULL</span>.</p><h3 class="P374"><a id="a_4_3_6_setRunCondition_—_Container_Method_—_C___Language_Only"><span class="heading_numbering">4.3.6</span></a><a id="__RefHeading___Toc5326_1067000368"/><span class="T5">setRunCondition</span> — <span class="T485">C</span>ontainer <span class="T485">M</span>ethod — <span class="T278">C++ Language Only</span></h3><p class="Body">This container method is used by the worker to set a new run condition.  If the run condition supplied is <span class="Code">NULL</span>, the default run condition becomes active, which is to wait for all ports to be ready, with no timeout. If the worker needs to start execution with a non-default run condition, it can call this container method in its constructor, or in its <span class="Code">initialize</span> or <span class="Code">start</span> methods.</p><h4 class="Heading_20_4"><a id="a_4_3_6_1_Synopsis"><span class="heading_numbering">4.3.6.1</span></a>Synopsis</h4><p class="Code">void setRunCondition(RCC::RunCondition *rc);</p><h4 class="P432"><a id="a_4_3_6_2_Returns"><span class="heading_numbering">4.3.6.2</span></a>Returns</h4><p class="Body">No return value. </p><h2 class="P402"><a id="a_4_4_Port_Management_Data_Members_and_Methods"><span class="heading_numbering">4.4</span></a><a id="__RefHeading___Toc5330_1067000368"/><span class="T282">P</span>ort <span class="T322">M</span>anagement <span class="T322">Data Members and Methods</span></h2><p class="P218"><span class="T286">This section describes port management methods.  The </span><span class="FirstEmphasis">current</span><span class="T286"> buffer at a port is in fact part of the port object.  This means methods on the </span><span class="FirstEmphasis">current</span><span class="T286"> buffer are in fact methods on the port itself.  Otherwise buffer methods are used on specific buffer objects.  Those are described in the next section.</span></p><p class="P218">In the C language, port management methods are <span class="T281">directly accessed function pointer members in the </span><span class="Code">RCCWorker</span><span class="T281"> data structure, like all </span>container methods.  <span class="T311">Each has</span> a <span class="Code">RCCPort</span> pointer as an argument.</p><p class="P217">In C++, each port is a member data object <span class="T289">(of the worker object) </span>whose name is the name of port <span class="T282">(from the OCS).  Where</span> port management methods are methods on that object.</p><p class="P217"><span class="T311">As an example, to </span><span class="T37">advance</span><span class="T286"> a port in C, and optionally access the data of the now-current buffer, is below:</span></p><p class="P113"><span class="T283">RCCPort *inport = &amp;self-&gt;ports[MY_IN_PORT];<br/></span><br/><span class="T286">if (self-&gt;container.advance(inport)) {</span><br/>  <span class="T286">void *p = inport-&gt;current.data;<br/>  ...<br/>}</span></p><p class="P186">In C++ this would be:</p><p class="P113"><span class="T286">if (</span>inport.advance()<span class="T286">) {<br/>  void *p = inport.data();<br/>  ...<br/>}</span></p><p class="P186">Note that in C++, the current buffer object is <span class="T33">inherited</span> by the port object, so the port <span class="T311">data </span>member is the object used to access the current buffer<span class="T311">'s </span><span class="Code">data()</span><span class="T311"> method.</span></p><p class="P187"><span class="T116">The </span><span class="FirstEmphasis"><span class="T174">run</span></span><span class="T116"> method can indicate that all ports should be advanced by the special return value </span><span class="Code"><span class="T167">RCC_ADVANCE.</span></span><span class="T116">  It can also indicate disposition of buffers and ports by using the </span><span class="T155">release</span><span class="T116">, </span><span class="T155">send</span><span class="T116">, </span><span class="T155">request</span><span class="T116">, </span><span class="T155">take</span><span class="T116">, or </span><span class="T155">advance</span><span class="T116"> container methods.</span></p><p class="P312"><span class="T221">C Language:  </span><span class="T206">T</span><span class="T205">he </span><span class="FirstEmphasis"><span class="T177">run</span></span><span class="T205"> method accesses information about current buffers through members of each port's </span><span class="Code"><span class="T167">RCCPort</span></span><span class="T205"> structure member in the </span><span class="Code"><span class="T167">ports</span></span><span class="T205"> array in the </span><span class="Code"><span class="T167">RCCWorker</span></span><span class="T205"> structure (e.g. </span><span class="Code"><span class="T167">self-&gt;ports[n]</span></span><span class="T205">, where </span><span class="Code"><span class="T167">n</span></span><span class="T205"> is the ordinal for the port).  The </span><span class="Code"><span class="T167">current.data</span></span><span class="T205"> member is the pointer to the message data for both input and output ports.  For input ports, the </span><span class="Code"><span class="T167">input.length</span></span><span class="T205"> </span><span class="T214">structure member of the </span><span class="Code"><span class="T167">RCCPort</span></span><span class="T214"> </span><span class="T205">is the length of bytes of the message in the current buffer, and </span><span class="Code"><span class="T167">input.u.operation</span></span><span class="T205"> is the opcode for the current input message.  For output ports, the </span><span class="Code"><span class="T167">output.length</span></span><span class="T205"> is the length of bytes of the message in the current buffer, and </span><span class="Code"><span class="T167">output.u.operation</span></span><span class="T205"> is the opcode for the current output message.</span></p><p class="P181"><span class="T218">C++ Language:</span><span class="T205">  The </span><span class="FirstEmphasis"><span class="T177">run</span></span><span class="T205"> method accesse</span><span class="T213">s</span><span class="T205"> port status and buffer contents using the </span><span class="T213">worker's </span><span class="T205">object </span><span class="T214">port data member </span><span class="T205">methods.</span></p><p class="P327"><span class="T205">If </span><span class="T213">a</span><span class="T205"> port is in the worker’s run condition, then </span><span class="T213">it</span><span class="T205"> can assume a current buffer is present at that por</span><span class="T207">t</span><span class="T205"> </span><span class="T207">when the run method is entered</span><span class="T205">.  If not, the worker can test whether there is a </span><span class="T208">current </span><span class="T205">buffer</span><span class="T211">; </span><span class="T213">in C, the port's </span><span class="Code"><span class="T167">current.data</span></span><span class="T209"> member is non-</span><span class="Code"><span class="T167">NULL</span></span><span class="T209">, </span><span class="T213">in C++, the port's </span><span class="Code"><span class="T167">hasBuffer()</span></span><span class="T213"> returns true</span><span class="T209">.  </span><span class="T215">In either case, a port's readiness only depends on a single buffer being available.  Even if multiple buffers exist, the port readiness is only based on the availability of a single buffer.</span></p><p class="P32">In the C language, and in some cases for C++, the message buffers are accessed as a raw array of bytes, where the worker is responsible for correctly formatting the message in the buffer.  The <span class="Code">request</span><span class="T574">, </span><span class="Code">send</span><span class="T574">, </span><span class="Code">setDefaultLength</span><span class="T574">, and </span><span class="Code">take</span><span class="T574"> </span>methods in this section are <span class="T573">used only</span> for this raw buffer access.</p><p class="P32"><span class="T215">In C++, there is alternative set of methods that format the message correctly for the worker, and these methods should be preferred in nearly all cases.  These are described in the </span><a href="#a_Accessing_Messages_in_C___Language_Workers" class="Internet_20_link">Accessing Messages in C++ Language Workers</a><span class="T215"> section below.</span></p><h3 class="P379"><a id="a_4_4_1_advance_—_Release_Current_Buffer__and_Request_Another"><span class="heading_numbering">4.4.1</span></a><a id="__RefHeading___Toc5332_1067000368"/><span class="T9">advance</span><span class="T235"> — Release Current Buffer, and Request Another</span></h3><p class="P188"><span class="T311">This method r</span>elease<span class="T311">s</span> the current buffer <span class="T296">at a port, </span><span class="T31">and</span> request<span class="T311">s</span> that a new buffer be made available as the current buffer on <span class="T296">the</span> port.  This is a convenience/efficiency combination of <span class="T287">the</span> <span class="T58">release </span><span class="T81">(</span><span class="T82">the </span><span class="T81">current buffer)</span> <span class="T239">and </span><span class="T58">request</span> <span class="T287">(a new current buffer) methods described below.</span></p><p class="P165">An optional minimum size <span class="T311">in bytes </span>may be requested <span class="T290">(0 is the default in C++, 0 can be supplied in C).  Zero means no minimum size is requested.  The default size is normally based on the protocol at the port.  When there is no protocol this argument allows the worker to specify a size that must be satisfied, or an exception is thrown.</span></p><h4 class="P434"><a id="a_4_4_1_1_Synopsis"><span class="heading_numbering">4.4.1.1</span></a><a id="_Toc2117810961111"/>Synopsis</h4><p class="P117"><span class="T234">RCC</span>Boolean <span class="T237">(*a</span>dvance<span class="T237">)</span>(<span class="T236">RCC</span>Port *port, <span class="T288">size_t minSize</span>);  // <span class="T288">C language<br/>bool Port::advance(size_t minSize = 0);                // C++</span></p><h4 class="P435"><a id="a_4_4_1_2_Returns"><span class="heading_numbering">4.4.1.2</span></a>Returns</h4><p class="P163">A <span class="T426">boolean</span> value is returned indicating whether the <span class="T58">request</span> <span class="T561">aspect of this method </span>was immediately satisfied.</p><h3 class="P380"><a id="a_4_4_2_hasBuffer_—_Query_a_Port_for_Whether_It_Has_a_Current_Buffer-to-release"><span class="heading_numbering">4.4.2</span></a><a id="__RefHeading___Toc5342_1067000368"/><span class="T10">h</span><span class="T5">asBuffer</span> — <span class="T485">Q</span>uery <span class="T298">a P</span>ort for <span class="T485">W</span>hether <span class="T485">I</span>t <span class="T485">H</span>as a <span class="T485">C</span>urrent <span class="T485">B</span>uffer-to-release</h3><p class="P202">This method returns whether a port <span class="T298">has a current buffer.  If a port is already part of a workers's run condition, and it is in every port mask of the run condition, it can be assumed to have a current buffer whenever the worker is run.  This is the case for 90% of all workers.  </span><span class="T54">This method is only needed and used when a port is not in the run condition</span><span class="T298">, as might be the case for a port that received some exceptional condition message.  No such testing is needed when the port is in the run condition since port readiness is implicit when the run condition is satisfied.</span></p><p class="P196">In C, this is a <span class="T298">port structure member access</span>.  In C++ it is a <span class="T297">port</span> method.</p><h4 class="P444"><a id="a_4_4_2_1_Synopsis"><span class="heading_numbering">4.4.2.1</span></a><a id="_Toc2117810961147149150"/>Synopsis</h4><p class="P119"><span class="T298">Port-&gt;current.data != NULL</span>        // <span class="T296">C Language<br/>bool RCCUserPort::hasBuffer();    // C++ Language</span></p><h4 class="P436"><a id="a_4_4_2_2_Returns"><span class="heading_numbering">4.4.2.2</span></a>Returns</h4><p class="P204">For C++, a <span class="Code">bool</span> value <span class="T317">is returned </span>indicating whether the port <span class="T299">has a current buffer</span>.</p><h3 class="P382"><a id="a_4_4_3_isConnected_—_Query_a_Port_for_Being_Connected"><span class="heading_numbering">4.4.3</span></a><a id="__RefHeading___Toc8037_1067000368"/><span class="T13">isConnected</span><span class="T297"> — Query a Port for Being Connected</span></h3><p class="P201">This method returns whether a port <span class="T316">is currently</span> connected or not.  Component specifications (OCS) indicate whether each port of a component (and thus all workers) must be connected before workers are started or run.  A port is considered “optional” for a worker if the worker can tolerate the port <span class="T33">not</span> being connected.  If a port is <span class="T33">not</span> optional, the worker code can assume it is connected, and this method would not be needed or used.</p><p class="P195">In C, this is a <span class="T297">Worker (self) structure member access</span>.  In C++ it is a <span class="T297">port</span> method.</p><h4 class="P445"><a id="a_4_4_3_1_Synopsis"><span class="heading_numbering">4.4.3.1</span></a><a id="_Toc2117810961147149"/>Synopsis</h4><p class="P118"><span class="T361">self-&gt;connectedPorts &amp; (1 &lt;&lt; PortOrdinal)</span>;  // <span class="T296">C Language<br/>bool RCCUserPort::isConnected();            // C++ Language</span></p><h4 class="P437"><a id="a_4_4_3_2_Returns"><span class="heading_numbering">4.4.3.2</span></a>Returns</h4><p class="P204">For C++, a bool value <span class="T316">is returned </span>indicating whether the port is connected.</p><h3 class="P383"><a id="a_4_4_4_ordinal_—_Obtain_an_Ordinal_for_a_Port"><span class="heading_numbering">4.4.4</span></a><a id="__RefHeading___Toc46907_1948322210"/><span class="T19">ordinal</span><span class="T297"> — Obtain an Ordinal for a Port</span></h3><p class="P203">This method returns <span class="T518">the ordinal of a port, which may be used wherever port ordinals are required such as in port masks for run conditions.</span></p><p class="P200">In C, this is <span class="T518">simply an enumeration value</span>.  In C++ it is a <span class="T297">port</span> method.</p><h4 class="P446"><a id="a_4_4_4_1_Synopsis"><span class="heading_numbering">4.4.4.1</span></a><a id="_Toc21178109611471491"/>Synopsis</h4><p class="P152"><span class="T518">&lt;WORKER&gt;_&lt;PORTNAME&gt;</span>;                      // <span class="T296">C Language<br/>RCCOrdinal RCCUserPort::ordinal() const;  // C++ Language</span></p><h4 class="P438"><a id="a_4_4_4_2_Returns"><span class="heading_numbering">4.4.4.2</span></a>Returns</h4><p class="P272">For C++, a bool value is returned indicating whether the port is connected.</p><h3 class="P384"><a id="a_4_4_5_request_—_Request_a_New_Buffer"><span class="heading_numbering">4.4.5</span></a><a id="__RefHeading___Toc5334_1067000368"/><span class="T5">request</span> — <span class="T485">Request a New Buffer</span></h3><p class="P185"><span class="T311">This method </span><span class="T38">r</span><span class="T33">equest</span><span class="T38">s</span> <span class="T284">that </span>a new buffer be made available as the current buffer on a port.  If the port already has a current buffer, the request is considered satisfied.  <span class="T235">This request indicates to the container that it should make a buffer available when possible.  Without an explicit request, the container may not make a buffer available since that would dedicate resources when they may not be needed.  An implicit </span><span class="T84">request</span><span class="T235"> is made for all ports that are part of the current run condition.</span></p><p class="P164">An optional minimum size may be requested.</p><p class="P166">Note that this method is not used or needed when ports are <span class="FirstEmphasis"><span class="T427">advanced</span></span>, only when buffers are being explicitly managed <span class="T296">(e.g. released, etc.).</span></p><h4 class="P447"><a id="a_4_4_5_1_Synopsis"><span class="heading_numbering">4.4.5.1</span></a><a id="_Toc211781096111"/>Synopsis</h4><p class="P116"><span class="T236">RCC</span>Boolean <span class="T237">(*r</span>equest<span class="T237">)</span>(<span class="T236">RCC</span>Port *port, <span class="T285">size_t </span>m<span class="T238">inSize</span>); // <span class="T282">C Language<br/>bool </span><span class="T34">Port</span><span class="T282">(size_t minSize = 0);                        //C++ language</span></p><h4 class="P439"><a id="a_4_4_5_2_Returns"><span class="heading_numbering">4.4.5.2</span></a>Returns</h4><p class="P162">A boolean value is returned indicating whether the request was immediately satisfied.</p><h3 class="P385"><a id="a_4_4_6_send_—_Send_an_Input_Buffer_on_an_Output_Port"><span class="heading_numbering">4.4.6</span></a><a id="__RefHeading___Toc5336_1067000368"/><span class="T5">send</span> — <span class="T485">Send an Input Buffer on an Output Port</span></h3><p class="P184"><span class="T314">This method s</span>end<span class="T314">s</span> a<span class="T314">n input</span> buffer on an <span class="T31">output</span> port.  If the buffer is a current buffer for a port, this buffer will no longer be th<span class="T235">at</span> port’s current buffer.  Buffer ownership passes back to the container.  <span class="T235">This method is used to effect zero-copy transfer of a message from an input port to an output port.</span></p><p class="P161">C Language:  The operation and message length are supplied as arguments.</p><p class="P193">C++ Language:  The operation and message length are attributes of the buffer object <span class="T361">and can be changed before it is sent using the </span><span class="Code">setOp</span><span class="Code"><span class="T363">C</span></span><span class="Code">ode</span><span class="T361"> and/or </span><span class="Code">setLengt</span><span class="T361">h methods.</span></p><p class="P194">The sent buffer is either a current buffer of an input port or a buffer taken from an input port.</p><h4 class="P448"><a id="a_4_4_6_1_Synopsis"><span class="heading_numbering">4.4.6.1</span></a><a id="_Toc21178109611"/>Synopsis</h4><p class="P114"><span class="T232">void</span> <span class="T230">(*send)</span>(<span class="T236">RCC</span>Port* port,<br/>             <span class="T236">RCC</span>Buffer* buffer,<br/>             <span class="T230">RCCOrdinal op,<br/>             uint32_t length);           // C Language<br/>void RCCPort::send(RCC::Buffer &amp;buffer); // C++ Language</span></p><h4 class="P440"><a id="a_4_4_6_2_Returns"><span class="heading_numbering">4.4.6.2</span></a>Returns</h4><p class="P252">Nothing is returned.</p><h3 class="P380"><a id="a_4_4_7_setDefaultLength_—_Set_Default_Message_Length_at_an_Output_Port_—_C___Language_Only"><span class="heading_numbering">4.4.7</span></a><a id="__RefHeading___Toc5348_1067000368"/><span class="T12">s</span><span class="T5">etDefaultLength</span> — <span class="T485">Set Default Message Length at an Output Port — C++ Language Only</span></h3><p class="P210">This <span class="T321">method</span> sets the default message length <span class="T320">in bytes </span>for a port.  It is useful when messages produced at a port will always be the same size.</p><p class="P208">This method is used only when the message content is manipulated as a raw untyped buffer, rather than using the message content access methods described below.</p><p class="P212">The initial setting of the default message length is the length of the buffer.</p><p class="P213">This method is only available in C++.</p><h4 class="P449"><a id="a_4_4_7_1_Synopsis"><span class="heading_numbering">4.4.7.1</span></a><a id="_Toc2117810961147149150151152153"/>Synopsis</h4><p class="P121">void RCCUserPort::set<span class="T584">D</span>efaultLength(size_t length);  // C++ Language</p><h4 class="P441"><a id="a_4_4_7_2_Returns"><span class="heading_numbering">4.4.7.2</span></a>Returns</h4><p class="P206">Nothing.</p><h3 class="P380"><a id="a_4_4_8_setDefaultOpCode_—_Set_Default_Opcode_at_Output_Port_—_C___Language_Only"><span class="heading_numbering">4.4.8</span></a><a id="__RefHeading___Toc5350_1067000368"/><span class="T12">s</span><span class="T5">etDefaultOpCode</span> — <span class="T485">S</span>et <span class="T485">D</span>efault <span class="T485">O</span>pcode at <span class="T485">O</span>utput <span class="T485">P</span>ort — <span class="T379">C++ Language Only</span></h3><p class="P211">This <span class="T321">method</span> sets the default <span class="FirstEmphasis">op</span><span class="FirstEmphasis"><span class="T472">C</span></span><span class="FirstEmphasis">ode</span> for a<span class="T300">n output</span> port.  It is useful when messages produced at a port will <span class="T472">typically</span> <span class="T300">have the same opcode, among those defined in the protocol.</span></p><p class="P209">T<span class="T300">he initial setting of the default opcode is zero (indicating the first operation specified in the associated protocol).  Setting the default opCode does not prevent setting the opCode on a per-message basis at any time during execution.</span></p><p class="P214">This method is only available in C++.</p><h4 class="P450"><a id="a_4_4_8_1_Synopsis"><span class="heading_numbering">4.4.8.1</span></a><a id="_Toc2117810961147149150151152153154"/>Synopsis</h4><p class="P122">void RCCUserPort::set<span class="T321">D</span>efaultOpCode(RCCOpCode opcode); // C++ only</p><h4 class="P442"><a id="a_4_4_8_2_Returns"><span class="heading_numbering">4.4.8.2</span></a>Returns</h4><p class="P207">Nothing.</p><h3 class="Heading_20_3"><a id="a_4_4_9_take_—_Take_a_Buffer_from_an_Input_Port"><span class="heading_numbering">4.4.9</span></a><a id="__RefHeading__8712_1123303156"/><span class="T5">take</span> — <span class="T485">T</span>ake a <span class="T485">B</span>uffer from an <span class="T485">I</span>nput <span class="T485">P</span>ort</h3><p class="P189"><span class="T312">This method </span><span class="T39">t</span><span class="T33">ake</span><span class="T39">s</span> the current buffer from a port, <span class="T292">and optionally releases a previously taken buffer.  This method is used when workers need to maintain a history of one or more previous buffers while still requesting new buffers, e.g. for </span><span class="T47">sliding window</span><span class="T292"> algorithms.  This method only applies to input ports.</span></p><p class="P190">The optional buffer to be released is provided by a possibly <span class="Code">NULL</span> pointer to a buffer.  <span class="T362">This buffer-to-release argument is a convenience feature of the API to allow cycling of buffers in a single call, e.g.:</span></p><p class="P130">class XyzWorker {<br/>  RCCUserBuffer *m_prev;        // remember buff from previous run<br/>  XyzWorker() : m_prev(NULL) {}<br/>  void process_curr_and_prev(RCCUserBuffer *curr,<br/>                             RCCUserBuffer *prev) {}<br/>  run() {<br/>    process_curr_and_prev(&amp;in, m_prev);<br/>    m_prev = &amp;in.take(m_prev);<br/>  }</p><p class="P130">}</p><p class="P191"><span class="T380">In C, while we logically consider this a port method,</span> <span class="T380">it is</span> <span class="T380">actually a </span>container method <span class="T380">with</span> <span class="T380">three arguments:</span></p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>an <span class="Code">RCCPort</span> <span class="T74">pointer </span><span class="T75">indicating the port from which the buffer is taken</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T380">an </span><span class="Code">RCCBuffer</span><span class="T293"> pointer indicating, if not NULL, a </span>buffer to release<span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>a<span class="T380">n </span><span class="Code">RCCBuffer</span> pointer <span class="T380">as an output argument </span>where the taken buffer <span class="T380">structure</span> will be copied (not the data, just the structure).<span class="odfLiEnd"/> </p></li></ul><p class="P190">In C++, <span class="T58">t</span><span class="T59">ake</span><span class="T293"> is a port method with a single buffer-to-release argument and t</span>he taken buffer is simply returned <span class="T312">via</span> a reference.</p><p class="P189">Ownership <span class="T240">of the taken buffer </span>is <span class="T312">passed to</span> the worker.  The current buffer <span class="T240">now </span>taken is no longer the current buffer.  <span class="T240">This method is u</span>sed when the worker needs access to more than one buffer at a time from an input port.  <span class="T60">Take</span><span class="T291"> implies a </span><span class="T60">request</span><span class="T291"> (to get another current buffer).</span></p><p class="P219">It is an error to call this method when the port does not have a current buffer.</p><h4 class="P447"><a id="a_4_4_9_1_Synopsis"><span class="heading_numbering">4.4.9.1</span></a><a id="_Toc21178109611111"/>Synopsis</h4><p class="P115">void <span class="T241">(*t</span>ake<span class="T241">)<br/>  </span>(<span class="T236">RCC</span>Port* port, <span class="T236">RCC</span>Buffer* releaseBuffer,<br/>   <span class="T236">RCC</span>Buffer* takenBuffer);                // <span class="T291">C language</span><br/><span class="T294">RCCUserBuffer &amp;Port::take<br/>  (RCCBuffer *release = NULL);             // C++ Language</span></p><h4 class="P439"><a id="a_4_4_9_2_Returns"><span class="heading_numbering">4.4.9.2</span></a>Returns</h4><p class="P167">Nothing <span class="T313">is returned in</span> C, <span class="T295">since the taken buffer object is copied to the location supplied by the </span><span class="Code">takenBuffer</span><span class="T295"> argument.  In C++, </span>a reference to the taken buffer i<span class="T295">s returned</span>.</p><h2 class="P403"><a id="a_4_5_Buffer_Management_Data_Members_and_Methods"><span class="heading_numbering">4.5</span></a><a id="__RefHeading___Toc5352_1067000368"/>Buffer Management Data Members and Methods</h2><p class="P8">This section describes methods that apply to buffers <span class="T323">separate from ports.  As mentioned above, when a buffer is the current buffer at a port, the port object itself is normally used with these buffer methods.  In C++, the port object inherits the buffer object that is the current buffer.  In C, the current buffer is the </span><span class="Code">current</span><span class="T323"> member of the RCCPort structure.</span></p><p class="P17">When methods deal with <span class="T58">opCodes</span>, they are dealing with an ordinal for the message in a buffer.  <span class="T429">The </span><span class="FirstEmphasis">opCode</span> identifies which type of message is in the buffer, among those defined by the protocol.  OpCode values are zero-origin in the order of how the operations are defined in the protocol (OPS) XML file.  Enumeration constants for the messages in a protocol are generated and are described in the <a href="#a_code_generation" class="Internet_20_link"><span class="T5">code generation</span></a> section.</p><p class="P30">In C++ buffer management is via buffer methods — member functions of buffer objects.  In C, buffer management is either via container methods or direct access to structure members.</p><p class="P31">In the C language, and in some cases for C++, the message buffers are accessed as a raw array of bytes, where the worker is responsible for correctly formatting the message in the buffer.  The methods in this section <span class="T572">other than </span><span class="Code">setOpCode</span><span class="T572">,</span> are <span class="T573">used only</span> for this raw buffer access.</p><p class="P31">In C++, there is alternative set of methods that format the message correctly for the worker, and these methods should be preferred in nearly all cases.  These are described in the <a href="#a_Accessing_Messages_in_C___Language_Workers" class="Internet_20_link">Accessing Messages in C++ Language Workers</a> section below.</p><h3 class="P386"><a id="a_4_5_1_checkLength_—_Check_Size_of_the_Buffer_—_C___Language_Only"><span class="heading_numbering">4.5.1</span></a><a id="__RefHeading___Toc8039_1067000368"/><span class="T5">checkLength</span> — <span class="T485">C</span>heck <span class="T485">S</span>ize of <span class="T324">the B</span>uffer — <span class="T381">C++ Language Only</span></h3><p class="P216">Check that a message of a given size <span class="T319">in bytes </span>will fit into the buffer, <span class="T324">usually associated with an output port</span>.  An exception is thrown if the message will not fit.  This is useful when the worker is creating a variable length message and wants to ensure it will fit into the available buffer.  This check results in an error that the worker cannot check, and is intended to avoid unexpected buffer size mismatches, similar to the “assert” standard library function.</p><h4 class="P451"><a id="a_4_5_1_1_Synopsis"><span class="heading_numbering">4.5.1.1</span></a>Synopsis</h4><p class="P123">void RCCUserPort::checkLength(size_t neededSize);  // C++ Language</p><h4 class="P443"><a id="a_4_5_1_2_Returns"><span class="heading_numbering">4.5.1.2</span></a><a id="_Toc2117810961147149150151152"/>Returns</h4><p class="P9">Nothing.</p><h3 class="P387"><a id="a_4_5_2_data_—_Access_the_Raw_Contents_of_the_Buffer"><span class="heading_numbering">4.5.2</span></a><a id="__RefHeading___Toc8041_1067000368"/><span class="T15">data</span> — <span class="T485">Access the Raw Contents of the Buffer</span></h3><p class="P240">This method returns a pointer to the raw data in a buffer.  It is analogous to the <span class="Code">data</span> method in C++ STL container classes, although it has no type.</p><h4 class="P451"><a id="a_4_5_2_1_Synopsis"><span class="heading_numbering">4.5.2.1</span></a>Synopsis</h4><p class="P124"><span class="T325">void</span> *<span class="T325">p = buffer-&gt;data;        </span>  // <span class="T296">C Language<br/>void *RCCUserBuffer::data();     // C++ Language</span></p><h4 class="P443"><a id="a_4_5_2_2_Returns"><span class="heading_numbering">4.5.2.2</span></a>Returns</h4><p class="P11">The value returned is a void pointer to the contents of the buffer.</p><h3 class="P387"><a id="a_4_5_3_length_—_Retrieve_the_Length_of_the_Message_in_a_Buffer___C___Language_Only"><span class="heading_numbering">4.5.3</span></a><a id="__RefHeading___Toc8043_1067000368"/><span class="T15">length</span> — <span class="T485">Retrieve the Length of the Message in a Buffer – C++ Language Only</span></h3><p class="P221"><span class="T315">This method returns the number of bytes of the message in the buffer, which is typically an input buffer.  This is C++ only.  When using C, access to the length is via the current buffer at a port, e.g. </span><span class="Code">port-&gt;input.length</span><span class="T315">.</span></p><h4 class="P451"><a id="a_4_5_3_1_Synopsis"><span class="heading_numbering">4.5.3.1</span></a>Synopsis</h4><p class="P132">size_t RCCUserBuffer::length() const;   // C++ Language</p><h4 class="P443"><a id="a_4_5_3_2_Returns"><span class="heading_numbering">4.5.3.2</span></a>Returns</h4><p class="P12">The method returns the length in bytes of the message in the buffer.</p><h3 class="P387"><a id="a_4_5_4_maxLength_—_Retrieve_the_Maximum_Available_Space_in_the_Buffer_"><span class="heading_numbering">4.5.4</span></a><a id="__RefHeading___Toc8045_1067000368"/><span class="T15">maxLength</span> — <span class="T485">Retrieve the Maximum Available Space in the Buffer.</span></h3><p class="P241">This method allows the worker to retrieve the actual size of the buffer, typically used on output buffers.</p><h4 class="P451"><a id="a_4_5_4_1_Synopsis"><span class="heading_numbering">4.5.4.1</span></a>Synopsis</h4><p class="P133">size_t len = buffer-&gt;maxLength;           // C language<br/>size_t RCCUserBuffer::maxLength() const;  // C++ language</p><h4 class="P443"><a id="a_4_5_4_2_Returns"><span class="heading_numbering">4.5.4.2</span></a>Returns</h4><p class="P13"><a id="_Toc21178109611472"/>The size of the buffer in bytes is returned.</p><h3 class="P387"><a id="a_4_5_5_opCode_—_Retrieve_the_OpCode_of_the_Message_in_a_Buffer"><span class="heading_numbering">4.5.5</span></a><a id="__RefHeading___Toc8047_1067000368"/><span class="T15">opCode</span> — <span class="T485">Retrieve the OpCode of the Message in a Buffer</span></h3><p class="P222"><span class="T315">This method retrieves the </span><span class="T40">opCode</span><span class="T315"> of the message in the buffer, typically an input buffer.    This is C++ only.  When using C, access to the opCode is via the current buffer at a port, e.g. </span><span class="Code">port-&gt;input.</span><span class="Code"><span class="T326">u.operation</span></span></p><h4 class="P451"><a id="a_4_5_5_1_Synopsis"><span class="heading_numbering">4.5.5.1</span></a>Synopsis</h4><p class="P134"><span class="T381">RCCOpcode op = port-&gt;input.u.operation;       // C language<br/></span>RCCOpCode RCCUserBuffer::opCode() const;     // C++ Language</p><h4 class="P443"><a id="a_4_5_5_2_Returns"><span class="heading_numbering">4.5.5.2</span></a>Returns</h4><p class="P10"><a id="_Toc21178109611474"/><span class="T327">T</span><span class="T327">his method returns the opCode of the message in the buffer.</span></p><h3 class="P387"><a id="a_4_5_6_release_—_Release_a_Buffer"><span class="heading_numbering">4.5.6</span></a><a id="__RefHeading___Toc8049_1067000368"/><span class="T14">r</span><span class="T5">elease</span> — <span class="T485">Release a Buffer</span></h3><p class="P220"><span class="T315">This method r</span>elease<span class="T315">s</span> a buffer for reuse.  If the buffer is <span class="T231">the</span> current buffer for a port, it will no longer be the current buffer.  Buffer ownership passes back to the container.  <span class="T231">Buffers for a port </span><span class="T61">must be released in</span><span class="T58"> the order obtained</span>, per port.  <span class="T231">Note that this method is not used or needed when ports are “advanced”, only when buffers are obtained from a port using other port management functions such as </span><span class="FirstEmphasis"><span class="T428">take</span></span><span class="T231">.</span></p><p class="P197">Releasing a current buffer does not imply requesting a new current buffer:  that request must be explicit.  A release without a request might be useful if a worker is entering a mode where it no longer needs any more data from an input port or it no longer needs to send any more buffers on an output port.</p><p class="P199">In C, this is a <span class="T380">function</span> <span class="T380">with the buffer pointer as an argument, e.g. called using:</span></p><p class="P138">self-&gt;container.release(buffer);</p><p class="Body"><span class="T296">In C++ it is a buffer method invoked on the </span>buffer<span class="T296"> object itself.</span></p><h4 class="P451"><a id="a_4_5_6_1_Synopsis"><span class="heading_numbering">4.5.6.1</span></a>Synopsis</h4><p class="P124"><span class="T232">void</span> <span class="T230">(*release)</span>(<span class="T233">RCC</span>Buffer* buffe<span class="T234">r)</span>;  // <span class="T296">C Language<br/>void RCCUserBuffer::release();       // C++ Language</span></p><h4 class="P443"><a id="a_4_5_6_2_Returns"><span class="heading_numbering">4.5.6.2</span></a>Returns</h4><p class="P10"><a id="_Toc2117810961147"/>Nothing.</p><h3 class="P387"><a id="a_4_5_7_setLength_—_Set_the_Length_of_the_Message_in_a_Buffer_—_C___Language_Only"><span class="heading_numbering">4.5.7</span></a><a id="__RefHeading___Toc8053_1067000368"/><span class="T15">setLength</span> — <span class="T485">Set the Length of the Message in a Buffer — C++ Language Only</span></h3><p class="P242">This method sets the length in bytes of the message in a buffer.</p><p class="P198"><span class="T315">This is C++ only.  When using C, access to the length of an output buffer is via the current buffer at a port, e.g. </span><span class="Code">port-</span><span class="Code"><span class="T329">&gt;</span></span><span class="Code">output.u.length</span>, <span class="T328">or via the </span><span class="Code">send</span><span class="T328"> port method.</span></p><h4 class="P451"><a id="a_4_5_7_1_Synopsis"><span class="heading_numbering">4.5.7.1</span></a>Synopsis</h4><p class="P135">void RCCUserBuffer::setLength(size_t length);       // C++ Language</p><h4 class="P443"><a id="a_4_5_7_2_Returns"><span class="heading_numbering">4.5.7.2</span></a>Returns</h4><p class="P10">Nothing.</p><h3 class="P387"><a id="a_4_5_8_setOpCode_—_Set_the_OpCode_for_the_Message_in_a_Buffer_—_C___Language_Only"><span class="heading_numbering">4.5.8</span></a><a id="__RefHeading___Toc8055_1067000368"/><span class="T15">setOpCode</span> — <span class="T485">Set the OpCode for the Message in a Buffer — C++ Language Only</span></h3><p class="P243">This method sets the opCode of the message in a buffer.</p><p class="P224"><span class="T315">This is C++ only.  When using C, access to the opCode of an output buffer is via the current buffer at a port, e.g. </span><span class="Code">port-</span><span class="Code"><span class="T329">&gt;</span></span><span class="Code">output.u.</span><span class="Code"><span class="T329">operation</span></span><span class="T315">, or via the </span><span class="Code">send</span><span class="T328"> port method.</span></p><h4 class="P452"><a id="a_4_5_8_1_Synopsis"><span class="heading_numbering">4.5.8.1</span></a>Synopsis</h4><p class="Code">void RCCUserBuffer::set<span class="T329">OpCode</span>(<span class="T329">RCCOpCode op</span>);      // C++ Language</p><h4 class="P443"><a id="a_4_5_8_2_Returns"><span class="heading_numbering">4.5.8.2</span></a>Returns</h4><p class="P10">Nothing.</p><h3 class="P387"><a id="a_4_5_9_setInfo_—_Set_the_Metadata_Associated_with_a_Buffer_—_C___Language_Only"><span class="heading_numbering">4.5.9</span></a><a id="__RefHeading___Toc8051_1067000368"/><span class="T15">setInfo</span> — <span class="T485">Set the Metadata Associated with a Buffer — C++ Language Only</span></h3><p class="P223"><span class="T315">This method is a convenient combination of setting both the </span><span class="T62">opCode</span><span class="T315"> and the </span><span class="T62">length</span><span class="T315"> of the message in a buffer.  It is typically used on output buffers, when both opCode and length are being set at the same time.</span></p><h4 class="P451"><a id="a_4_5_9_1_Synopsis"><span class="heading_numbering">4.5.9.1</span></a>Synopsis</h4><p class="P135">void RCCUserBuffer::setInfo(RCCOpCode op, size_t length);  // C++</p><h4 class="P443"><a id="a_4_5_9_2_Returns"><span class="heading_numbering">4.5.9.2</span></a>Returns</h4><p class="P10">Nothing.</p><h3 class="P381"><a id="a_4_5_10_topLength_—_Retrieve_the_Size_of_the_Single_Sequence_in_a_Message_—_C___Language_Only"><span class="heading_numbering">4.5.10</span></a><a id="__RefHeading___Toc8057_1067000368"/><span class="T11">t</span><span class="T5">opLength</span> — <span class="T485">Retrieve the Size of the Single Sequence in a Message — C++ Language Only</span></h3><p class="P107_borderStart"><span class="T535">Normally, sequence lengths are retrieved using the message/operation access methods described below in the </span><a href="#a_Accessing_the_Contents_of_Messages" class="Internet_20_link"><span class="T535">Accessing the Contents of Messages</span></a><span class="T535"> section.  However, when message contents are accessed as an untyped raw buffer, this method allows the worker to retrieve the number of elements of a given size in the message without the container knowing the data type of the message.  </span>It performs the size conversion and error check in one API.</p><p class="P109">Untyped raw buffers are used when no protocol is defined for the port, e.g. when a worker needs to process any protocol or when it has some private mechanism for determining the contents of a message.</p><p class="P108_borderEnd">This method only applies to input buffers that contain messages consisting of a single sequence argument.  It retrieves the length, <span class="T33">in elements</span>, of that sequence.  <span class="T324">The </span><span class="Code">elemSize</span> <span class="T324">argument </span>to <span class="Code">topLength</span> <span class="T324">is the size in bytes of the elements of the sequence in the buffer.  An error check is made to ensure that the size of the message </span>in bytes <span class="T324">is divisible by the </span><span class="Code">elemSize</span><span class="T324"> </span>value <span class="T324">provided.</span></p><p class="P215"><a id="__RefHeading___Toc5344_1067000368"/>The message must <span class="T318">consist of</span> exactly one sequence for this method to be valid.  Sequences can have zero elements.</p><p class="P215">This method is only available in C++.</p><h4 class="P451"><a id="a_4_5_10_1_Synopsis"><span class="heading_numbering">4.5.10.1</span></a>Synopsis</h4><p class="P120">size_t RCCUser<span class="T324">Buffer</span>::topLength(<span class="T318">size_t elemSize</span>);  // C++ Language</p><h4 class="P443"><a id="a_4_5_10_2_Returns"><span class="heading_numbering">4.5.10.2</span></a><a id="_Toc2117810961147149150151"/>Returns</h4><p class="P205">For C++, <span class="T318">this method returns </span>a size_t value indicating the number of sequence elements in the message, <span class="T318">given the size of elements known by the worker.</span></p><h2 class="P404"><a id="a_4_6_Accessing_the_Contents_of_Messages"><span class="heading_numbering">4.6</span></a><a id="__RefHeading___Toc8059_1067000368"/>Accessing the Contents of Messages</h2><p class="P225">The sections above described methods used to access the <span class="T443">raw </span>content and metadata (length and opCode) of messages in buffers.  Those methods operate independent of the actual types of the data in the messages, and put the burden of accessing typed data on the worker code.  I.e. the worker code would have to cast the pointer types and manually deal with the multiple data types for the arguments in a message.</p><p class="P225">Accessing the individual arguments (fields) in the payload for a<span class="T446">n input</span> message (or setting the fields of an output message) is facilitated differently in C vs. C++.</p><h3 class="P388"><a id="a_4_6_1_Accessing_Messages_in_C_Language_Workers"><span class="heading_numbering">4.6.1</span></a><a id="__RefHeading___Toc36173_549088399"/>Accessing <span class="T441">M</span>essages in C <span class="T441">L</span>anguage <span class="T441">W</span>orkers</h3><p class="P225">In C, data structure<span class="T446">s are</span> generated that can be overlaid on buffer<span class="T448">s</span> to access fields <span class="T443">of a message </span>up to and including the first variable length field (sequence or string).  <span class="T429">E</span>ach port <span class="T429">has</span> a <span class="T443">set</span> of data structures defined for the messages that may be in <span class="T448">its</span> buffer<span class="T448">s</span>.  These structures are described in the <a href="#a_code_generation" class="Internet_20_link"><span class="T5">code generation</span></a> section, but the basic patter<span class="T429">n</span>, for <span class="T443">worker WXY,</span> port PXY, <span class="T330">with protocol PRXY, with </span>operations Op1 and Op2, <span class="T446">is:</span></p><p class="P125"><span class="T444">typedef </span>struct {<br/>  ... fields in the message for Op1 messages ...<br/>} <span class="T444">WxyPxyOp1</span>;<br/><span class="T444">typedef</span> struct {<br/>  ... fields in the message for Op2 messages ...<br/>} <span class="T444">WxyPxyO</span>p2;</p><p class="P244">Note that the <span class="T446">structure</span> type<span class="T448">defs</span> are <span class="T430">CamelCase</span>, <span class="T446">the opcode enumeration values are upper case, and</span> the <span class="T445">structure</span> members are <span class="T445">the case of the argument names in the protocol</span>.  <span class="T430">I</span>n C, messages <span class="T431">are accessed </span>based on opCode like this:</p><p class="P140">switch (port-&gt;input.u.operation) {<br/>case P<span class="T446">RXY</span>_O<span class="T446">P1</span>:<br/><span class="T445">  {</span><br/>    <span class="T445">Wxy</span>Pxy<span class="T445">Op1</span> *p = port-&gt;current.data;<br/>    // use <span class="T445">p-&gt; to access the message structure</span><br/>    break;<br/>  <span class="T446">}<br/></span>case P<span class="T446">RXY</span>_O<span class="T446">P2</span>:<br/><span class="T446">  {</span><br/>    <span class="T445">Wxy</span>Pxy<span class="T445">Op2</span> *p = port-&gt;current.data;<br/>    // use <span class="T445">p-&gt; to access the message structure</span><br/>    break;<br/>  <span class="T446">}</span><br/>}</p><p class="P276">If the messages are simply a sequence or array of one basic type (e.g. float), directly assigning the buffer pointer to that pointer type is sensible, e.g.:</p><p class="P141">switch (port-&gt;input.u.operation) {<br/>case P<span class="T446">RXY</span>_O<span class="T446">P1</span>:<br/><span class="T445">  {</span><br/>    <span class="T448">float</span> *p = port-&gt;current.data;<br/>    // use <span class="T445">p-&gt; to access the message data</span><br/>    break;<br/>  <span class="T446">}<br/>...</span></p><p class="P245">The major limitation of this <span class="T446">scheme</span> is that the structures only cover the fields of messages up to and including the first variable length field.  After that, the worker must manually access the remaining fields using pointer arithmetic and casting.  This covers most protocols used in simple systems, but is painful when the limitation is exceeded.</p><p class="P253">A second limitation for C language workers is that there is no error checking that the correct message structure is being used with its corresponding opCode.</p><h3 class="P388"><a id="a_4_6_2_Accessing_Messages_in_C___Language_Workers"><span class="heading_numbering">4.6.2</span></a><a id="__RefHeading___Toc36175_549088399"/>Accessing <span class="T441">M</span>essage<span class="T441">s</span> in C++ <span class="T441">L</span>anguage <span class="T441">W</span>orkers</h3><p class="P244">C++ workers <span class="T432">have </span>data member<span class="T432">s</span> <span class="T432">for each port</span> whose name is the port's name in the OCS.  <span class="T432">E</span>ach such port data member has an accessor for the information for each possible message in the port's protocol.  <span class="T447">E</span>ach field of the payload for each operation also has an accessor.  <span class="T447">A</span>ccessing the <span class="Code">arg1</span> field of the <span class="Code">op1</span> operation <span class="T447">message </span>on the protocol for port <span class="Code">in</span>, would simply be:</p><p class="P126">in.<span class="T447">o</span>p1().<span class="T447">a</span>rg1()</p><p class="P275">These C++ message <span class="T448">argument </span>access methods <span class="T447">return a</span> <span class="Code">const</span> <span class="T447">reference to the field</span> for input ports, and return a non-<span class="Code">const</span> reference for output ports.  <span class="T382">They will generate an exception if used when the message in the buffer has the wrong opCode for the operation accessor used.  E.g., if </span><span class="Code">in.op1()</span><span class="T382"> is used when the current opcode is not </span><span class="Code">op1</span><span class="T382">, an exception occurs.  If the argument type was </span><span class="Code">float</span><span class="T382">, then the accessors defined for </span><span class="Code">in.op1()</span><span class="T382"> would be:</span></p><p class="P142">const float &amp;arg1() const;  // for arguments in an input buffer<br/>float &amp;arg1();              // for arguments in an output buffer</p><p class="P227">When the argument type <span class="T356">is</span> a sequence or array, the field accessor returns a reference to an <span class="T33">object</span> that has <span class="T447">the following</span> methods, <span class="T448">which</span> act like the <span class="T447">same-named methods defined in the ISO </span>C++ STL <span class="T447">container</span> type<span class="T447">s (assuming the data type is </span><span class="Code">float</span><span class="T447">)</span>:</p><p class="P126"><span class="T447">const float </span>*data() const; // <span class="T447">pointer to access the floats on input</span><br/>size_t size() const;       // <span class="T447">number of floats available on input<br/>float *data();             // pointer to access the floats on output<br/>size_t resize(size_t n);   // to set the number of floats on output<br/>size_t capacity() const;   // to get the available space on output</span></p><p class="P276">For arrays or sequences in output buffers, the <span class="Code">resize</span> method must be called for each message.</p><p class="P226"><span class="T432">I</span>f <span class="Code">arg1</span> in the above example was a sequence of unsigned shorts, access <span class="T432">to </span>this field <span class="T432">is</span>:</p><p class="P126">uint16_t *vals = in.op1().arg1().data(); // pointer to data<br/>size_t nvals = in.op1().arg1().size();   // number of elements</p><h2 class="P410"><a id="a_4_7_How_a_Worker_Accesses_its_Properties"><span class="heading_numbering">4.7</span></a><a id="__RefHeading___Toc8061_1067000368"/>How a Worker Accesses its Properties</h2><h3 class="P389"><a id="a_4_7_1_The_Worker_Property_Structure"><span class="heading_numbering">4.7.1</span></a><a id="__RefHeading___Toc71723_1826048042"/><span class="T450">The</span> Worker Propert<span class="T451">y Structure</span></h3><p class="P22"><span class="T451">A</span> structure type <span class="T450">(e.g. </span><span class="Code">XyzProperties</span><span class="T450">) </span>is generated for the worker, <span class="T451">and </span>placed in the <span class="Code">gen/XYZ_Worker.h</span> <span class="T451">(for C) or </span><span class="Code">gen/xyz-worker.hh</span><span class="T451"> (for C++) </span>file, <span class="T450">and contains members for each property that is not a parameter</span>.  <span class="T587">Structure members for properties are declared </span><span class="Code">const</span><span class="T587">, unless the property is defined as either:</span></p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">volatile</span> — <span class="T587">meaning the worker can change it at any time, or</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">readable</span><span class="T587"> but not </span><span class="Code">writable</span> or <span class="Code">initia</span><span class="Code"><span class="T587">l</span></span> — <span class="T587">meaning  the worker can determine/set its value before </span><span class="FirstEmphasis">start</span><span class="T587">, but not after</span><span class="odfLiEnd"/> </p></li></ul><p class="P22">Thus setting the value <span class="T587">of a</span> property <span class="T587">that is neither of the above</span> will result in a compilation error.</p><p class="P278">The name of the struct<span class="T452">ure</span> type (<span class="Code">typedef</span> name <span class="T333">in C</span>) is <span class="Code">XyzProperties</span> where “Xyz” is the <span class="T42">capitalized</span> worker name.</p><p class="P21"><span class="T451">Properties that are scalar values (not sequences, arrays, structures or strings), are simple scalar structure members with the property's name.  </span>Properties that are arrays are declared as such in this structure, <span class="T451">including multi-dimensional arrays</span>.  The structure member for properties that are sequences are themselves structures, with two members:  a <span class="Code">u</span><span class="Code"><span class="T585">int32_t</span></span><span class="Code"> length</span> member indicating the number of valid elements present, and <span class="T450">a </span><span class="Code">data</span> member which is an array of the maximum number of elements declared for the property in the <span class="Code">sequence</span><span class="Code"><span class="T449">L</span></span><span class="Code">ength</span> attribute that defines the property (its maximum number of elements).  <span class="T450">Similarly, structure members for properties that are of type </span><span class="Code">string</span><span class="T450">, are arrays of type </span><span class="Code">char</span><span class="T450"> of dimension </span><span class="Code">stringLength+1</span><span class="T450">, with the </span><span class="Code">+1</span><span class="T450"> to leave room for the terminating zero.</span></p><p class="P331">Remember that for properties (as opposed to protocols), sequences and strings always have a maximum size (i.e. are bounded).</p><p class="P33">All property values are initialized to zero when the worker is created at runtime and the worker's code can always assume this.  This initialization is in effect prior to the <span class="FirstEmphasis">initialize</span> control operation <span class="T587">(and prior to the C++ constructor)</span>.  After the <span class="FirstEmphasis">initialize</span> operation, but before the <span class="FirstEmphasis">start</span> operation (or the first invocation of the <span class="FirstEmphasis">run</span> method if there is no start method) any application-supplied <span class="FirstEmphasis">initial</span> values are set <span class="T588">by control software.</span></p><p class="P33"><span class="T586">For </span><span class="FirstEmphasis">readable</span><span class="T586"> or </span><span class="FirstEmphasis">volatile</span><span class="T586"> properties that are not declared as </span><span class="FirstEmphasis">writable</span><span class="T586"> or </span><span class="FirstEmphasis">initial</span><span class="T586"> (and thus are read-only for control software), the worker is expected to set any non-zero initial value before the worker is started.  It may do this initialization either in the </span><span class="FirstEmphasis">initialize</span><span class="T586"> method, in the C++ constructor, or perhaps by a notification that some other property has been written.  Note that control software may cache the </span><span class="FirstEmphasis">readable</span><span class="T586"> property values since they are not expected to change after the worker is started (i.e. they are not </span><span class="FirstEmphasis">volatile</span><span class="T586">).</span></p><h3 class="P390"><a id="a_4_7_2_The_Accessing_Worker_Properties_in_C"><span class="heading_numbering">4.7.2</span></a><a id="__RefHeading___Toc71725_1826048042"/><span class="T450">The </span>Accessing Worker Properties in C</h3><p class="P23"><span class="T449">The </span><span class="Code">properties</span><span class="T449"> member of the </span><span class="Code">RCCWorker</span><span class="T449"> structure (which is supplied as the *</span><span class="Code">self</span><span class="T449"> argument to all worker methods), points to the memory that holds the worker's properties, with type </span><span class="Code">void *</span><span class="T449">.  When needed by the worker to access property values, it is first converted to the structure pointer type that defines the layout of the worker's properties, and then used to access individual properties, e.g.:</span></p><p class="P143">XyzProperties *<span class="T5">p = self-&gt;properties;  // </span><span class="T17">implicit cast from void</span><span class="T24">*</span><br/>p-&gt;myprop1;          // <span class="T452">scalar property<br/>p-&gt;myprop2.length;   // number of elements in sequence for myprop2<br/>p-&gt;myprop2.data[n];  // the nth element of the myprop2 sequence<br/>p-&gt;myprop2.data;     // the address of the elements in myprop2<br/>p-&gt;myprop3[a][b][c]; // an element of a 3d array property<br/>p-&gt;myprop4[0];       // the first character of the myprop4 string<br/>strlen(p-&gt;myprop4)   // the length of the myprop4 string.</span></p><h3 class="P389"><a id="a_4_7_3_Accessing_Worker_Properties_in_C__"><span class="heading_numbering">4.7.3</span></a><a id="__RefHeading___Toc71727_1826048042"/>Accessing Worker Properties in C++</h3><p class="P20">The worker object has a member function, <span class="Code">properties()</span>, that returns a reference <span class="T452">to the XyzProperty structure.  </span>Worker code accesses properties that are not parameters by <span class="T452">simply using this member function.  The accesses similar to the C example above is:</span></p><p class="P144">XyzProperties <span class="T452">&amp;</span>p = properties<span class="T452">()</span>;<br/>p.myprop1;          // <span class="T452">scalar property<br/>p.myprop2.length;   // number of elements in sequence for myprop2<br/>p.myprop2.data[n];  // the nth element of the myprop2 sequence<br/>p.myprop2.data;     // the address of the elements in myprop2<br/>p.myprop3[a][b][c]; // an element of a 3d array property<br/>p.myprop4[0];       // the first character of the myprop4 string<br/>strlen(p.myprop4)   // the length of the myprop4 string.</span></p><h3 class="Heading_20_3"><a id="a_4_7_4_Property_Access_Notifications_in_C__"><span class="heading_numbering">4.7.4</span></a><a id="__RefHeading___Toc71729_1826048042"/>Property Access Notifications <span class="T536">in C++</span></h3><p class="P233">Workers sometimes need dynamic notifications when properties are written or read by control software.  <span class="T562">E.g</span>. the worker would like to run some code just before a property read returns to potentially create the correct value to read, or <span class="T453">run some code </span>after a property write to cause some other side affect of the <span class="T343">new </span>written value.  <span class="T383">For written values, this eliminates the need for polling by the worker to determine when the value has changed.</span></p><p class="P233">These capabilities are enabled when the property in the OWD has the <span class="Code">readSync</span> or <span class="Code">writeSync</span> attributes set to true.  The <span class="Code">readSync</span> attribute being true indicates that the worker would like to run some code <span class="T33">before</span> the value of the property is passed back to the control software reading the property.  The <span class="Code">writeSync</span> attribute being true indicates that the worker would like to run some code <span class="T33">after</span> a new value is written, in order to implement some side effect when the property value is changed.</p><p class="P233">An example of using <span class="Code">readSync</span> is when the value <span class="T537">is</span> computed based on some dynamic condition, e.g. reading a real-time or physical sensor value.  An example of <span class="Code">writeSync</span> is when writing a new value should atomically affect some other state of the worker.</p><p class="P234">Using the C language, <span class="T508">there is no notification mechanism at this time</span>.</p><p class="P324">In C++, when these attributes are set, the skeleton includes empty implementations of notification methods for each such property that the worker author can fill out.  For <span class="Code">readSync</span> properties, a worker member function called <span class="Code">&lt;property&gt;_</span><span class="Code"><span class="T516">read</span></span> must be present.  For <span class="Code">writeSync</span> properties, a member function named <span class="Code">&lt;property&gt;_</span><span class="Code"><span class="T516">written</span></span> must be present.  <span class="T344">Both notification member functions take no arguments and return </span><span class="Code">RCCResult</span><span class="T344">, which allows these functions to indicate errors.  A </span><span class="Code">readSync</span><span class="T344"> notification function can set the property value locally and then return, and that value will then be conveyed back to control software.</span></p><p class="P324"><span class="T344">A </span><span class="Code">writeSync</span><span class="T344"> notification is called after the new value has been written, so the function can locally access the new value when it is called.  The previous value is no longer available.  If a worker needs to access the previous value it could declare a data member and assign it at the end of the notification method, and perhaps initialize this “previous value” data member using </span><span class="Code">firstRun</span><span class="T344"> or </span><span class="Code">start</span><span class="T344">.  E.g. assuming </span><span class="Code">predicate</span><span class="T344"> is a boolean writable property with the </span><span class="Code">writeSync</span><span class="T344"> attribute set to true:</span></p><p class="P131">class XyzWorker {<br/>  <span class="T563">bool </span>m_prev<span class="T563">Predicate</span>;        // remember <span class="T563">previous value<br/>  RCCResult predicate_written() {<br/>    // use both properties().predicate and m_prevPredicate<br/>    m_prevPredicate = properties().predicate;<br/>  }</span><br/>  run() {<br/>    // <span class="T563">we know that as of firstRun, initial setting is valid</span><br/>    <span class="T563">if (firstRun()) m_prevPredicate = properties().predicate;<br/>    ...</span><br/>  }<br/>}</p><h3 class="P389"><a id="a_4_7_5_Accessing_the_Values_of_Parameter_Properties"><span class="heading_numbering">4.7.5</span></a><a id="__RefHeading___Toc71731_1826048042"/>Accessing the Values of Parameter Properties</h3><p class="P279">Properties which are indicated as parameters by setting the <span class="Code">parameter</span> attribute to <span class="Code">true</span> in the OCS or OWD are accessed differently than other properties.  They are <span class="T454">defined as </span><span class="Code">static const</span><span class="T454"> values whose name is a fully capitalized </span><span class="Code"><span class="T33">&lt;WORKERNAME&gt;</span></span><span class="Code">_</span><span class="Code"><span class="T33">&lt;PROPERTYNAME&gt;</span></span><span class="T454">.  Thus for worker </span><span class="Code">wxyz</span><span class="T454"> and parameter property </span><span class="Code">pqr</span><span class="T454">, of type </span><span class="Code">float</span><span class="T454">, the value is:</span></p><p class="Code">static const float WXYZ_PQR;</p><p class="P280">These values are initialized at compile time and can be used accordingly.</p><h2 class="Heading_20_2"><a id="a_4_8_Controlling_Slave_Workers_from_Proxies_—_C___Language_Only"><span class="heading_numbering">4.8</span></a><a id="__RefHeading___Toc8063_1067000368"/>Controlling Slave Workers from Proxies — <span class="T346">C++ Language Only</span></h2><p class="P235">When the <span class="T347">RCC </span>OWD indicates that a worker is a <span class="FirstEmphasis">proxy</span> for another worker <span class="T384">as its slave</span>, it <span class="T347">gives</span> the proxy worker convenient access to the slave's control operations and property accesses.  <span class="T364">This allows proxy workers to standardize and/or simplify the control of the slave worker.  The slave worker is usually device-specific, with device-level properties or configuration requirements that applications should not be concerned with</span>.</p><p class="P246">An example <span class="T433">would be a</span> device worker that controls an RF front-end device.  <span class="T433">This device </span> typically expose<span class="T433">s</span> the native functionality of the device in a high performance and/or resource-conservative fashion.  However, most application<span class="T384">s</span> would only want a subset of those options that are uniform across all RF front-ends they might use.</p><p class="P236">Delegating normalization of the control/configuration interface to the RCC proxy worker <span class="T384">provides</span> <span class="T345">users with a</span> high<span class="T384">er</span> level <span class="T384">standardized </span>configuration interface.  This relieves this burden from the embedded device worker which may be in an environment (e.g. on a small FPGA) that makes this normalization difficult or expensive.  <span class="T384">T</span>his <span class="T384">also </span>enables the device worker to faithfully and simply implement the device's native control interface.  <span class="T433">This enables applications to exploit lower level device-specific features.  Such a low level device worker might be controlled in different ways using different proxies.</span></p><p class="P237">A proxy worker, act<span class="T384">ing</span> as the software module that encapsulates specialized configuration and control sequencing of the device, <span class="T384">can eliminate the need for</span> <span class="T384">control </span>application<span class="T384">s</span> to use special <span class="T384">non-component </span>APIs:  <span class="T384">t</span>he proxy is just another component in the application<span class="T384">'s XML</span>.</p><p class="P238">In a proxy, the slave is accessed using the <span class="Code">slave</span> data member of the worker's class object.  <span class="T433">This data member</span> has functions for control operations on the slave (except <span class="Code">initialize</span> and <span class="Code">release</span>).  For each readable property of the slave, a <span class="Code">get_</span><span class="Code"><span class="T33">&lt;property-name&gt;</span></span> member function retrieve<span class="T385">s</span> the current value of the slave's property, and for each writable property of the slave worker a <span class="Code">set_</span><span class="Code"><span class="T33">&lt;property-name&gt;</span></span> is available.  If the property is an array, both <span class="T385">of </span>the<span class="T385">se</span> <span class="Code">get</span> and <span class="Code">set</span> member functions have arguments specifying the index in each dimension.  The <span class="Code">set</span> functions then have a value argument for the new value.  Here are some <span class="T385">proxy code examples:</span></p><p class="P127">uint8_t x = slave.get_b<span class="T365">yte</span>regA();<br/>slave.set_b<span class="T365">yte</span>regA(<span class="T365">3</span>);<br/>x = slave.get_arrayprop(2);<br/>slave.set_arrayprop(3, x);<br/>x = slave.get_array2d(1, 2);<br/>slave.set_array2d(1, 2, x);<br/>slave.stop();<br/>slave.start();</p><p class="P16">There is currently no way to get or set whole array values, only individual elements.  <span class="T384">Proxy workers typically have no data ports and no code in their </span><span class="Code">run</span><span class="T384"> method.</span></p><h2 class="P405"><a id="a_4_9_Worker_Dispatch_Structures_—_C_Language_Only"><span class="heading_numbering">4.9</span></a><a id="__RefHeading__15986_2129872468"/>Worker Dispatch Structures — <span class="T331">C Language Only</span></h2><p class="P168">When workers are loaded for execution by the container, the container finds the worker by getting access to its <span class="Code">RCCDispatch</span> structure.  The only external symbol the worker code needs to define is the symbol that holds this structure.</p><p class="P169">The code generator generates this initialization in the skeleton file, and it can be further customized by the worker author.</p><h3 class="P391"><a id="a_4_9_1_RCCDispatch_Structure_Type"><span class="heading_numbering">4.9.1</span></a><a id="__RefHeading__15988_2129872468"/>RCCDispatch Structure Type</h3><p class="P174">This type is the dispatch table for the operations of the <span class="T331">C-language </span>worker interface.  It represents <span class="T331">the </span>functionality a worker provides to a container when it is loaded.  The container must gain access to this structure when the worker is loaded and executed.  All members are <span class="T247">statically </span>initialized by the worker source code.  This structure also contains other descriptive information required by the container to use the worker.</p><p class="P239">The RCC C-language skeleton will contain a default initialization for this structure based on what is in the OWD, which looks like (for worker <span class="Code">xyz.rcc</span>):</p><p class="P128">XYZ_METHOD_DECLARATIONS;<br/>RCCDispatch bias = {<br/>  /* insert any custom initializations here */<br/>  XYZ_DISPATCH<br/>};</p><p class="P239">Any non-default member initializations must be placed after the XYZ_DISPATCH line, and be specified using the named member syntax, e.g.:</p><p class="Code">RCCDispatch bias = {<br/>  /* insert any custom initializations here */<br/>  XYZ_DISPATCH<br/>  .<span class="T348">memSize = 16*sizeof(MyData),<br/>  .runCondition = &amp;myRunCondition<br/></span>};</p><p class="P354">The members of this structure <span class="T348">that may be set this way </span>are defined <span class="T349">in the following table</span>:</p><p class="Table_20_Caption_20__28_before_29_">Table <a id="refTable7"/>8:  Members of the RCCDispatch <span class="T485">S</span>tructure — C <span class="T441">L</span>anguage <span class="T485">O</span>nly</p><table border="0" cellspacing="0" cellpadding="0" class="Table7"><colgroup><col width="152"/><col width="174"/><col width="395"/></colgroup><tr><td style="text-align:left;width:1.3736in; " class="Table7_A1"><p class="P87">RCCDispatch Member </p></td><td style="text-align:left;width:1.566in; " class="Table7_A1"><p class="P87">Member Data Type</p></td><td style="text-align:left;width:3.5604in; " class="Table7_C1"><p class="P87">Member Description</p></td></tr><tr><td style="text-align:left;width:1.3736in; " class="Table7_A2"><p class="P341">memSizes</p></td><td style="text-align:left;width:1.566in; " class="Table7_A2"><p class="P341">uint32_t*</p></td><td style="text-align:left;width:3.5604in; " class="Table7_C2"><p class="P62">This zero-terminated array of memory sizes indicates allocations required by the worker. Multiple allocations allow the worker <span class="T331">to avoid</span> aggregat<span class="T331">ing</span> its requirements in a single allocation. <span class="T331">M</span>ay be NULL, <span class="T331">when</span> no allocations are required.  <span class="T476">Use </span><span class="Code"><span class="T95">memSize</span></span><span class="T476"> below when there is only one allocation required.</span></p><p class="P67">Result will be in <span class="Code"><span class="T95">self-&gt;memories</span></span>.</p></td></tr><tr><td style="text-align:left;width:1.3736in; " class="Table7_A2"><p class="P341">runCondition</p></td><td style="text-align:left;width:1.566in; " class="Table7_A2"><p class="P341">RCCRunCondition*</p></td><td style="text-align:left;width:3.5604in; " class="Table7_C2"><p class="P62">The initial run condition used.  If this pointer is NULL it implies a run condition of all connected ports being ready and no timeout.  If there are no ports, the default is no port masks to check, indicating always ready to run.</p></td></tr><tr><td style="text-align:left;width:1.3736in; " class="Table7_A2"><p class="P341">optionalPorts</p></td><td style="text-align:left;width:1.566in; " class="Table7_A2"><p class="P341">RCCPortMask</p></td><td style="text-align:left;width:3.5604in; " class="Table7_C2"><p class="P62">A mask indicating ports that may be unconnected.  The default, 0, means all ports must be connected before the worker is started.</p></td></tr><tr><td style="text-align:left;width:1.3736in; " class="Table7_A2"><p class="P341">memSize</p></td><td style="text-align:left;width:1.566in; " class="Table7_A2"><p class="P341">size_t</p></td><td style="text-align:left;width:3.5604in; " class="Table7_C2"><p class="P62">This size indicates a <span class="T331">required static </span>memory allocation.  <span class="T331">M</span>ay be zero, indicating no allocation is required.  <span class="T397">Result will be in </span><span class="Code"><span class="T95">self-&gt;memory</span></span><span class="T397">.</span></p></td></tr></table><p class="Body"> </p><h1 class="Heading_20_1"><a id="a_5_Code_Generation_for_RCC_Workers"><span class="heading_numbering">5</span></a><a id="__RefHeading__10618_140039662"/><a id="_Toc270018444"/>Code Generation for RCC Workers</h1><p class="P264">In the descriptions below, italicized names in angle brackets are names specific to the worker, as found in the worker’s OCS and OWD XML files.</p><p class="P255"><span class="T248">The worker's OCS and OWD are used to generate two code files, the </span><span class="FirstEmphasis"><span class="T386">header</span></span><span class="T248"> and the </span><span class="FirstEmphasis"><span class="T386">skeleton</span></span><span class="T248">.  The header file, which should not be edited, and is deleted by “</span><span class="Code">make clean</span><span class="T248">”, contains type definitions and declarations customized for the worker.  This file is named</span> <span class="Code"><span class="T33">&lt;workername&gt;</span></span><span class="Code">_</span><span class="Code"><span class="T249">W</span></span><span class="Code">orker.h</span> <span class="T332">in the C language or </span><span class="Code"><span class="T33">&lt;workername&gt;</span></span><span class="Code">-worker.hh</span><span class="T332"> in the C++ language</span>, <span class="T387">with the worker name is its original case from the OWD</span>.  <span class="T332">It is placed in the </span><span class="Code">gen</span><span class="T332"> subdirectory of the worker's directory.</span></p><p class="P255"><span class="T332">The skeleton file is a small file that is generated as the basis for writing the worker's execution code (e.g. the </span><span class="Code">run</span><span class="T332"> method implementation).  It relies heavily on the generated header file and is as small as possible to avoid requiring code changes when the OCS or OWD is changed.  The skeleton is generated in the </span><span class="Code">gen</span><span class="T332"> subdirectory, with the name </span><span class="Code"><span class="T33">&lt;workername&gt;</span></span><span class="Code">-skel.c</span><span class="T332"> (C language) or </span><span class="Code"><span class="T33">&lt;workername&gt;</span></span><span class="Code">-skel.cc</span><span class="T332"> (C++ language).  It is also copied into the worker's directory as the worker's primary source file: </span><span class="Code"><span class="T33">&lt;workername&gt;</span></span><span class="Code">.c</span><span class="T332"> or </span><span class="Code"><span class="T33">&lt;workername&gt;</span></span><span class="Code">.cc.</span><span class="T332">  This copy is what should be edited to add the worker's functional code.  This copy is </span><span class="T78">only made </span><span class="T41">if the worker's code file does not exist </span><span class="T55">or has not been edited since it was previously copied from </span><span class="Code"><span class="T33">gen/</span></span><span class="T332">.</span></p><p class="P254">When the OCS, OPS or OWD XML files are changed, the header and skeleton are regenerated, <span class="T69">but this does not affect the primary source file</span>.  Because<span class="T433"> most of the</span> code is generated in the header, and <span class="T433">only a </span>little in the skeleton, it is rare that significant code changes are required in the primary source file based on XML changes.</p><p class="P255"><span class="T332">The </span><span class="Code">gen/</span><span class="Code"><span class="T33">&lt;workername&gt;</span></span><span class="Code">-skel.</span><span class="Code"><span class="T387">{</span></span><span class="Code">c,cc} </span><span class="T387">skeleton file should not be edited, but left for reference to see exactly what the code generator produced.</span></p><h2 class="Heading_20_2"><a id="a_5_1_Namespace_Management"><span class="heading_numbering">5.1</span></a><a id="__RefHeading___Toc8065_1067000368"/>Namespace Management</h2><p class="P228">To avoid name space collisions, some rules are used by the code generator when creating the header and skeleton files.</p><p class="P281"><span class="T333">In the C++ language, generated data types in the header are placed in a namespace whose name is: </span><span class="Code"><span class="T33">&lt;</span></span><span class="Code"><span class="T48">W</span></span><span class="Code"><span class="T33">orker&gt;</span></span><span class="Code">WorkerTypes</span><span class="T333">.  In the actual worker source file, this namespace is normally imported, via the “</span><span class="Code">using namespace</span><span class="T333">” directive.  The actual worker derived class is a class in the global namespace whose name is </span><span class="Code"><span class="T33">&lt;</span></span><span class="Code"><span class="T48">W</span></span><span class="Code"><span class="T33">orker&gt;</span></span><span class="Code">Worker</span><span class="T333">.  In both cases, </span><span class="Code"><span class="T33">&lt;Worker&gt;</span></span><span class="T455"> is a capitalized version of the worker's name.  The dispatch entry point, which is necessarily a C external symbol, has the worker's name as its external symbol, with the prefix </span><span class="Code">ocpi_</span>.</p><p class="P282"><span class="T334">In the C language, the worker's dispatch table is given the external symbol name of the worker, and all methods are declared </span><span class="Code">static</span><span class="T334">.  All data types use the capitalized worker name as a prefix and all constants and macros use the upper cased worker name followed by an underscore as a prefix.</span></p><p class="P283">A summary of the RCC authoring model name space management is:</p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>The C++ namespace <span class="Code">OCPI</span> is reserved.<span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>The prefix <span class="Code">ocpi_</span> is reserved in the C external linkage namespace.<span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>C workers use their name as an external symbol.<span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>C++ workers use two global namespaces that use the <span class="Code"><span class="T33">&lt;Worker&gt;</span></span> prefix.<span class="odfLiEnd"/> </p></li><li><p class="P422" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>C and C++ workers use the PARAM_ and OCPI_ prefixes for preprocessor symbols.<span class="odfLiEnd"/> </p></li><li><p class="P422" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>C workers use the <span class="Code"><span class="T33">&lt;Worker&gt;</span></span> prefix for type names and <span class="Code"><span class="T33">&lt;WORKER&gt;</span></span><span class="Code">_</span> for constants.<span class="odfLiEnd"/> </p></li></ul><h2 class="P406"><a id="a_5_2_Generated_Data_Types"><span class="heading_numbering">5.2</span></a><a id="__RefHeading___Toc8067_1067000368"/>Generated Data Types</h2><p class="P247">Various data types are generated in the header file for the worker.  They are :</p><ul><li><p class="P423" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Port name enumeration<span class="odfLiEnd"/> </p></li><li><p class="P423" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Property data structure<span class="odfLiEnd"/> </p></li><li><p class="P423" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Opcode enumeration for each protocol used<span class="odfLiEnd"/> </p></li><li><p class="P423" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Opcode enumeration for each port (C only)<span class="odfLiEnd"/> </p></li><li><p class="P423" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Message structures (C only)<span class="odfLiEnd"/> </p></li><li><p class="P423" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>Worker base class (C++ only)<span class="odfLiEnd"/> </p></li></ul><h3 class="P368"><a id="a_5_2_1_The_Enumeration_Constants_for_the_Worker’s_Ports"><span class="heading_numbering">5.2.1</span></a><a id="_Toc270018445"/><a id="__RefHeading__10620_140039662"/>The <span class="T487">E</span>numeration <span class="T487">C</span>onstants for the <span class="T487">W</span>orker’s <span class="T487">P</span>orts</h3><p class="P174">An enumeration <span class="T333">type </span>is generated <span class="T333">in the header file</span> defin<span class="T433">ing</span> constants for the ordinal of each port, <span class="T433">in</span> the form <span class="Code"><span class="T33">&lt;</span></span><span class="Code"><span class="T44">WORKER</span></span><span class="Code"><span class="T33">&gt;</span></span><span class="Code">_</span><span class="Code"><span class="T33">&lt;</span></span><span class="Code"><span class="T44">PORT</span></span><span class="Code"><span class="T33">&gt;</span></span>, <span class="T433">in </span>all upper case.  These ordinals can be used when creating port masks for run conditions, <span class="T333">or, for C workers, indexing into the port array in the </span><span class="Code">RCCWorker</span><span class="T333"> structure.</span></p><h3 class="P392"><a id="a_5_2_2_The_Properties_Structure_Type"><span class="heading_numbering">5.2.2</span></a><a id="__RefHeading__10622_140039662"/><a id="_Toc270018446"/>The <span class="T487">P</span>roperties <span class="T487">Structure Type</span></h3><p class="P174"><span class="T250">This is the generated</span> structure <span class="T250">definition </span>that reflects the properties declared for the worker in its O<span class="T333">CS</span> and O<span class="T333">WD</span> XML files.  Each member of this structure has the data type corresponding to the property’s description in the OWD and OCS XML files.  Members for properties that are <span class="T33">not</span> declared <span class="Code">volatile</span> <span class="T333">in XML </span>are <span class="Code">const</span> in this structure, indicating that the worker is not expected to change their values.</p><p class="P174">The standard name of the struct type (typedef name <span class="T333">in C</span>) is <span class="Code">XyzProperties</span> where “Xyz” is the <span class="T42">capitalized</span> worker implementation name.</p><p class="P174">Properties which are sequences are <span class="T335">generated as a structure containing a</span> <span class="Code">uint32_t</span> member whose name is <span class="Code">length</span>, holding the number of elements in the sequence.  Padding may be added before and after the length member to achieve the required alignment of this length field as well as the sequence data following it.  <span class="T335">The member name of the structure is the property name.  The members of the structure are </span><span class="Code">length</span><span class="T335"> and </span><span class="Code">data</span><span class="T335">.  The data member is a</span> C array whose length is the <span class="Code">SequenceLength</span> attribute from the <span class="Code">Property</span> element in the XML.  <span class="T251">Remember that for properties (as opposed to protocols), sequences and strings always have a maximum size (i.e. be bounded).</span></p><p class="P174">Struct properties have structure tags <span class="T564">with </span>the same name as the property name, preceded by the worker name.</p><p class="P265">The correspondence between property types in OCS and OWD files and the C/C++ language data types are in the following table:</p><p class="Table_20_Caption_20__28_before_29_">Table <a id="refTable8"/>9:  <span class="T388">Property Data Types in C and C++</span></p><table border="0" cellspacing="0" cellpadding="0" class="Table9"><colgroup><col width="145"/><col width="181"/><col width="395"/></colgroup><tr><td style="text-align:left;width:1.309in; " class="Table9_A1"><p class="P89">OCS/OWD<br/>Property Type</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A1"><p class="P88"><span class="T388">C/C++<br/></span>Data Type</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C1"><p class="P89">Comments</p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">bool</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">RCCBool</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P64">Must be 8 bits, consistent across languages.</p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">char</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">RCCChar</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P64">Must be signed type, and basis for <span class="Code"><span class="T95">string</span></span></p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">uchar</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">uint8_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">short</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">int16_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">ushort</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P342"><span class="T388">uint16</span>_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">long</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">int32_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">ulong</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">uint32_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">longlong</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">int64_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">ulonglong</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">uint64_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">string</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P343">RCCChar<span class="T389">[]</span></p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P66">Null terminated string</p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">enum</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P344">uint32_t</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P63"> </p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">float</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P344">RCCFloat</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P65">Must be IEEE 32 bit float</p></td></tr><tr><td style="text-align:left;width:1.309in; " class="Table9_A2"><p class="P343">double</p></td><td style="text-align:left;width:1.6299in; " class="Table9_A2"><p class="P344">RCCDouble</p></td><td style="text-align:left;width:3.5611in; " class="Table9_C2"><p class="P65">Must be IEEE 64 bit double</p></td></tr></table><p class="P316">The names of the non-integer types for <span class="T390">scalar</span> properties are the OCS-defined type names capitalized and prefixed with <span class="Code">RC</span><span class="Code"><span class="T538">C</span></span>, <span class="T538">specifically:</span></p><p class="P316">  <span class="Code">RCCBoolean</span>, <span class="Code">RCCChar</span>, <span class="Code">RCCFloat</span>, <span class="Code">RCCDouble</span></p><p class="P316">Properties that are string properties are <span class="Code">RCCChar </span>arrays whose size is one more than the <span class="T389">declared </span><span class="Code">StringLength</span> attribute of that string property in the <span class="Code">Property</span> element, and the values are null terminated strings.</p><h3 class="P393"><a id="a_5_2_3_Structures_for_Message_Payloads_—_C_Language_Only"><span class="heading_numbering">5.2.3</span></a><a id="__RefHeading__8714_1123303156"/>Structures for Message Payloads — <span class="T336">C Language Only</span></h3><p class="P229">For each port a union type is defined for all possible messages at that port.  Members of the union type are generated structures for each possible message in that protocol.  <span class="T337">The name of the union type is </span><span class="Code">&lt;</span><span class="Code"><span class="T338">P</span></span><span class="Code">ort&gt;Operations</span><span class="T337">, with port name capitalized.</span></p><p class="P174">For each <span class="T433">of the </span>message type<span class="T433">s</span> specified in the protocol, a structure is defined.  <span class="T433">The structure's</span> type name is the capitalized name of the operation in the protocol, and whose member name is the <span class="T338">lower cased</span> name.  Arguments to the operation in the protocol are structure members of that per-operation structure.  The structure layout is as defined above for the property structure, with the exception that variable size elements (strings and sequences) are allowed, and are sized as <span class="Code">[1]</span>, with no further members generated <span class="T338">after the first variable sized member</span>.</p><p class="P174">The structure generated is padded and packed, <span class="T433">such that</span> padding members are explicitly inserted to ensure all types are aligned on their own boundaries.  <span class="T433">As part of the </span><span class="T433">packing,</span> the compiler is told to pack the structure.  Given the insertion of padding, the packing simply means that there is no padding at the end of the structure to achieve any alignment.  <span class="T433">T</span>he struct definition should not be used in any other context where this lack of overall size alignment is required (<span class="T474">e.g.</span> an array of such structures).</p><p class="P174"><span class="T116">There is one special exception for messages that consist entirely of one sequence of fixed length elements:  the length of the sequence is implied by the overall message length as specified by the length value of buffers at input and output ports, and </span><span class="T149">not</span><span class="T116"> represented by inserting </span><span class="T122">a </span><span class="Code"><span class="T167">uint32_t</span></span><span class="T116"> value in the message buffer/structure.  In all other cases (not-fixed sequence elements, or more than one top level data argument in the message), sequences in messages are </span><span class="T131">represented by a struct containing </span><span class="Code"><span class="T167">length</span></span><span class="T131"> and </span><span class="Code"><span class="T167">data</span></span><span class="T131"> members.</span></p><p class="P174">For example, for a port named <span class="Code">in</span>, with a protocol whose first operation was <span class="Code">sampledata</span>, and whose first argument was <span class="Code">sample</span> - <span class="T253">a sequence of </span><span class="Code">Ulonglong</span><span class="T253"> values</span>, the worker’s custom <span class="T253">port union would look like</span>:</p><p class="P111"><span class="T93">union InOperations {</span><br/><span class="T93">  // Structure for the 'sampledata' operation on port 'in'</span><br/><span class="T93">  struct __attribute__ ((__packed__)) Sampledata {</span><br/><span class="T93">    uint</span><span class="T94">64</span><span class="T93">_t sample[1];</span><br/><span class="T93">  } sampledata;<br/>};</span></p><h3 class="P394"><a id="a_5_2_4_Worker_Base_Class_—_C___Language_Only"><span class="heading_numbering">5.2.4</span></a><a id="__RefHeading___Toc16848_576511445"/>Worker Base Class — C++ <span class="T442">Language O</span>nly</h3><p class="P230">For C++ workers, a base class is generated in the header file that is inherited by a derived class in the skeleton.  The base class is generated to maximize the code generated in the header file and minimize the code generated in the skeleton.</p><p class="P231">The worker base class is generated to support all the documented features described above, including access to properties, and <span class="T367">contains </span>pure virtual member function declarations for all the member functions required to be implemented in the derived class <span class="T539">generated in the skeleton</span>.  <span class="T539">While the documented interfaces used by the worker author in the derived class are stable and not subject to change, t</span>he details of the code generation <span class="T539">and the contents of header files (generated or not) </span>are implementation defined and subject to change.</p><h1 class="P366"><a id="a_6_RCC_Local_Services"><span class="heading_numbering">6</span></a><a id="_Toc211781789"/><a id="_Toc211781109"/><a id="_Toc211780989"/><a id="_Toc211780960"/><a id="__RefHeading__10774_474132946"/><a id="_Toc211783575"/>RCC Local Services</h1><p class="P258">Local service<span class="T391">s</span> APIs <span class="T391">are standard library functions available to</span> RCC workers running in a container.  Containers are required to supply them, and <span class="T393">portable </span>workers are constrained to use only them, <span class="T393">in addition to</span> the worker-to-container <span class="T393">methods</span> defined <span class="T357">above</span>.  The RCC local services are defined as a small subset of the POSIX and ISO-C runtime libraries.</p><p class="P257">The subset avoids functions that require significant operating system support while providing the author with common, convenient and standard library functions.  All I/O is excluded since portable RCC workers should be performing all I/O via the OpenCPI data plane ports <span class="T581">(except </span><span class="Code">printf</span><span class="T581">)</span>.</p><p class="P328"><span class="T367">T</span>he<span class="T367">s</span>e local services APIs represent a minimal environment required of embedded systems.  <span class="T579">Since RCC workers may execute in a multi-threaded environment, non-reentrant (or thread-unsafe) functions are excluded (e.g. </span><span class="Code">localtime</span><span class="T579">)</span>.  <span class="T579">Similarly, functions that affect the global (process) environment are excluded since they could damage the execution of other workers in the same process (e.g. </span><span class="Code">setenv</span><span class="T579">).</span></p><p class="P328">If other APIs are used, there is no guarantee they will be available in a<span class="T367">ll</span> containers.  Some containers in fact allow many more functions to be called from a worker, but that makes such workers non-portable.  <span class="T581">In the future there may be optional explicit error checking for using library functions not in the list below.</span></p><p class="P256">In other standards documents, a list of available, standard, functions is sometimes called an Application Environment Profile (AEP).</p><p class="P259">The actual list of standard functions and global variables <span class="T580">usable</span> <span class="T580">in</span> portable RCC<span class="T578"> </span>workers is, in alphabetical order:</p><p class="Code">abs(), asctime_r(), atof(), atoi(), atol(), atoll(), bsearch(), calloc(), confstr(), ctime_r(), difftime(), div(), errno, feclearexcept(), fegetenv(), fegetexceptflag(), fegetround(), feholdexcept(), feraiseexcept(), fesetenv(), fesetexceptflag(), fesetround(), fetestexcept(), feupdateenv(), free(), getenv(), gmtime_r(), imaxabs(), imaxdiv(), isalnum(), isalpha(), isblank(), iscntrl(), isdigit(), isgraph(), islower(), isprint(), ispunct(), isspace(), isupper(), isxdigit(), labs(), ldiv(), llabs(), lldiv(), localeconv(), localtime_r(), longjmp(), malloc(), memchr(), memcmp(), memcpy(), memmove(), memset(), mktime(), <span class="T581">printf(), </span>qsort(), rand(), rand_r(), realloc(), setjmp(), snprintf(), sprintf(), srand(), sscanf(), strcat(), strchr(), strcmp(), strcoll(), strcpy(), strcspn(), strerror(), strerror_r(), strftime(), strlen(), strncat(), strncmp(), strncpy(), strpbrk(), strrchr(), strspn(), strstr(), strtod(), strtof(), strtoimax(), strtok_r(), strtol(), strtold(), strtoll(), strtoul(), strtoull(), strtoumax(), strxfrm(), sysconf(), time(), tolower(), toupper(), tzname, tzset(), uname(), va_arg(), va_copy(), va_end(), va_start(), vsnprintf(), vsprintf(), vsscanf()</p><p class="P329">The C++ standard library, especially in later versions, has not been analyzed for appropriate restrictions to ensure one worker does not damage the environment for other workers in the same process/container.</p><p class="P330">Using heap allocation functions (e.g. <span class="Code">malloc</span>, <span class="Code">calloc</span>, <span class="Code">realloc</span>) requires that the worker release any allocated memory in its <span class="Code">release</span> method when the allocations persist across methods.</p><h2 class="P400"><a id="a_6_1_RCC_Local_Services_AEP_as_a_Small_Subset_of_POSIX_and_ISO-C_"><span class="heading_numbering">6.1</span></a><a id="_Toc211781791"/><a id="_Toc211781111"/><a id="_Toc211780991"/><a id="_Toc211780962"/><a id="__RefHeading__10778_474132946"/><a id="_Toc211783577"/>RCC Local Services AEP <span class="T392">a</span>s a <span class="T436">S</span>mall <span class="T436">S</span>ubset of POSIX and ISO-C.</h2><p class="P261"><span class="T393">This section explains the rationale for the RCC AEP and its connection to POSIX standards.  </span>The POSIX Minimal Realtime System Profile (PSE51) from the <span class="FirstEmphasis">IEEE Std 1003.13</span><span class="FirstEmphasis"><span class="T394">™‑</span></span><span class="FirstEmphasis">2003</span> standard is used as the superset of functionality that is reduced (with subtractions) to the RCC local services available functions.  <span class="T395">It can be found at </span><a href="https://standards.ieee.org/findstds/standard/1003.13-2003.html" class="Internet_20_link"><span class="T395">https://standards.ieee.org/findstds/standard/1003.13-2003.html</span></a><span class="T395">.</span></p><p class="P260"><span class="T395">T</span>his subset <span class="T395">is defined to </span>require setting the <span class="Code">_POSIX_AEP_RT_MINIMAL_C_SOURCE</span> feature test macro to the value <span class="Code">200312L</span>, <span class="T395">before including any standard header files.  This is not necessary in RCC workers.  </span>The PSE51 <span class="T395">profile</span> defines POSIX.1 units of functionality in table 6-1 <span class="T395">of the </span><span class="FirstEmphasis"><span class="T80">IEEE Std 1003.13</span></span><span class="FirstEmphasis"><span class="T85">™‑</span></span><span class="FirstEmphasis"><span class="T80">2003</span></span><span class="T83"> </span><span class="T395">document</span>.  Th<span class="T395">e</span> RCC Local Services AEP removes these units of functionality from that table:</p><ul><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>POSIX_DEVICE_IO<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>POSIX_FILE_LOCKING<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>POSIX_SIGNALS<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>XSI_THREAD_MUTEX_EXT<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>XSI_THREADS_EXT<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>POSIX_THREADS_BASE<span class="odfLiEnd"/> </p></li></ul><p class="P174">The retained units of functionality, and their defined symbols and functions are:</p><p class="Code">POSIX_C_LANG_JUMP: longjmp(), setjmp();</p><p class="Code">POSIX_C_LANG_SUPPORT: abs(), asctime_r(), atof(), atoi(), atol(), atoll(), bsearch(), calloc(), ctime_r(), difftime(), div(), feclearexcept(), fegetenv(), fegetexceptflag(), fegetround(), feholdexcept(), feraiseexcept(), fesetenv(), fesetexceptflag(), fesetround(), fetestexcept(), feupdateenv(), free(), gmtime_r(), imaxabs(), imaxdiv(), isalnum(), isalpha(), isblank(), iscntrl(), isdigit(), isgraph(), islower(), isprint(), ispunct(), isspace(), isupper(), isxdigit(), labs(), ldiv(), llabs(), lldiv(), localeconv(), localtime_r(), malloc(), memchr(), memcmp(), memcpy(), memmove(), memset(), mktime(), qsort(), rand(), rand_r(), realloc(), setlocale(), snprintf(), sprintf(), srand(), sscanf(), strcat(), strchr(), strcmp(), strcoll(), strcpy(), strcspn(), strerror(), strerror_r(), strftime(), strlen(), strncat(), strncmp(), strncpy(), strpbrk(), strrchr(), strspn(), strstr(), strtod(), strtof(), strtoimax(), strtok(), strtok_r(), strtol(), strtold(), strtoll(), strtoul(), strtoull(), strtoumax(), strxfrm(), time(), tolower(), toupper(), tzname, tzset(), va_arg(), va_copy(), va_end(), va_start(), vsnprintf(), vsprintf(), vsscanf();</p><p class="Code">POSIX_SINGLE_PROCESS: confstr(), environ, errno, getenv(), sysconf(), uname();</p><p class="P174">The philosophy of the base RCC profile AEP subset is to allow functions that are simply libraries (rather than OS services), but remove services that could conflict with the lean container execution model in that profile.  This basically leaves the typical ANSI-C (or ISO C99) runtime library (without I/O) – most DSPs have this available, even those environments without multithreading.</p><h1 class="P363"><a id="a_7_Debugging_RCC_Workers"><span class="heading_numbering">7</span></a><a id="__RefHeading___Toc71733_1826048042"/>Debugging RCC Workers</h1><p class="P286">RCC workers are built as dynamically loadable “shared object” files, with the <span class="Code">.so</span> suffix (at least on Linux systems).  When an application uses a worker, it will be loaded on demand, even when the executable is statically linked itself.  To debug a worker, it is necessary to first start the debugger on the executable, which is usually the <span class="Code">ocpirun</span> utility program that runs OpenCPI applications based on a top-level XML file specifying which components are needed.  It may also be a custom main program that uses the OpenCPI Application Control Interface to internally launch an application.</p><p class="P286">In either case the first step is to run the executable under the debugger, establishing a generic breakpoint to enter the debugger at a point after workers are loaded, but before they are actually run.  Then breakpoints can be placed in the worker code itself.</p><p class="P287">The two pieces of “internal” information needed to do this are:</p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>A breakpoint that happens just before a<span class="T478">ny RCC</span> worker is initialized<span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>A way of knowing when the worker that hits the breakpoint is the worker you want.<span class="odfLiEnd"/> </p></li></ul><p class="P287">The initial breakpoint should be placed on the <span class="Code">OCPI::</span><span class="Code"><span class="T469">RCC</span></span><span class="Code">::Worker::</span><span class="Code"><span class="T469">Worker</span></span> member function (<span class="T471">an </span>internal constructor).  This breakpoint will be hit for every worker in the application, after it is loaded, but before it ever is initialized (C) or constructed (C++). <span class="T470">Note that although this initial breakpoint is at a constructor, it is not the actual constructor of the C++ worker, and not even in its inheritance hierarchy.</span></p><p class="P288">To determine whether the worker about to be constructed is the worker of interest, simply examine <span class="T470">the “name” argument at this breakpoint  This is the instance name for the worker within the application.  If the name indicates a worker of interest you can now establish a breakpoint in the worker, either based on a source line number, or symbols in the worker.</span></p><p class="P288"><span class="T470">Assuming the use of the </span><span class="Code">gdb</span><span class="T470"> debugger, and running the application with the </span><span class="Code">ocpirun</span><span class="T470"> utility, here are the steps:</span></p><ol><li><p class="List_20_Number" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">5.</span><span class="T471">S</span>tart gdb on ocpirun:<br/><span style="margin-left:0cm"/><span class="Code">% gdb ocpirun</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Number" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">6.</span><span class="T471">Set the generic breakpoint:<br/></span><span class="Code">(gdb)  b OCPI::RCC::Worker::Worker<br/></span><span class="T477">At this point gdb may not find it and say:<br/></span><span class="Code">Make breakpoint pending on future ... load? (y or [n])</span><span class="T477"><br/>Say yes (y).</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Number" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">7.</span><span class="T471">R</span>un ocpirun with appropriate arguments:<br/><span style="margin-left:0cm"/><span class="T471">(</span><span class="Code">gdb)  run -v myapp</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Number" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">8.</span><span class="T471">W</span>hen the generic breakpoint is hit, see which worker is being initialized <span class="T477">by printing the </span><span class="Code">name</span><span class="T477"> argument</span>.  <span class="T471">If not a worker of interest, continue.</span><br/><span style="margin-left:0cm"/><span class="Code">(gdb)  p name<br/>(gdb)  c</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Number" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">9.</span><span class="T471">W</span>hen <span class="T478">a</span> worker <span class="T471">of interest</span> is about to be initialized/<span class="T471">constructed</span>, set a breakpoint in your worker, <span class="T477">e.g.</span>:<br/><span style="margin-left:0cm"/><span class="Code">(gdb)  b my</span><span class="Code"><span class="T478">fft</span></span><span class="Code">.c:run</span><span class="T477"> (e.g. for C, set breakpoint on run method)<br/></span><span class="Code">(gdb)  b my</span><span class="Code"><span class="T478">fft</span></span><span class="Code">.cc:135 </span><span class="T477">(e.g. for a C++ worker, by line number)<br/></span><span class="Code">(gdb)  b My</span><span class="Code"><span class="T478">fft</span></span><span class="Code">Worker::Myf</span><span class="Code"><span class="T479">ft</span></span><span class="Code">Worker</span><span class="T477"> (e.g. break on C++ constructor)</span><span class="Code"><br/>(gdb)  c</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Number" style="margin-left:1.016cm;"><span class="Numbering_20_Symbols" style="display:block;float:left;min-width:0.508cm;">10.</span><span class="T471">C</span>ontinue past any other worker initializations (or disable th<span class="T471">e first</span> breakpoint).<span class="odfLiEnd"/> </p></li></ol><p class="P289">At this point the breakpoint in the worker will be hit and debugging can proceed.</p><h1 class="P362"><a id="a_8_Summary_of_OpenCPI_RCC_Authoring_Model"><span class="heading_numbering">8</span></a><a id="__RefHeading__11901_1972665394"/>Summary of OpenCPI <span class="T258">RCC</span> <span class="T437">A</span>uthoring <span class="T437">M</span>odel</h1><ul><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T157">RCC</span><span class="T156"> workers are written to implement </span><span class="T158">worker methods</span><span class="T156">, called by the container, and optionally use the </span><span class="T158">container methods</span><span class="T156">, called by the worker.</span><span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T259">RCC</span> workers may call the <span class="T357">local services functions defined in section 6 above</span>.<span class="odfLiEnd"/> </p></li><li><p class="P424" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T259">RCC</span> workers use <span class="T396">symbols, </span>data <span class="T396">types</span> and ordinals defined in the <span class="T396">generated header file</span>, which <span class="T396">is based on the OCS, OPS, and OWD files, including</span><span class="odfLiEnd"/> </p></li></ul><ul><li><p class="P397" style="margin-left:1.27cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Implementation name<span class="odfLiEnd"/> </p></li><li><p class="P397" style="margin-left:1.27cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Which control operations are implemented<span class="odfLiEnd"/> </p></li><li><p class="P397" style="margin-left:1.27cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Which properties require<span class="T396"> </span>notification <span class="odfLiEnd"/> </p></li><li><p class="P397" style="margin-left:1.27cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Static memory allocation requirements of the implementation code<span class="odfLiEnd"/> </p></li><li><p class="P397" style="margin-left:1.27cm;"><span class="Bullet_20_Symbols" style="display:block;float:left;min-width:0.635cm;">•</span>Minimum number of buffers required at each port<span class="odfLiEnd"/> </p></li></ul><ul><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>The information in the <span class="T396">OCS/OPS/</span>OWD <span class="T396">files is </span>used to drive the <span class="T396">code generation and </span>build process.<span class="odfLiEnd"/> </p></li><li><p class="P425" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span>The worker uses the software execution model as described in the CDG.<span class="odfLiEnd"/> </p></li></ul><h1 class="P364"><a id="a_9_Building_RCC_Workers"><span class="heading_numbering">9</span></a><a id="__RefHeading___Toc128922_618765381"/>Building RCC Workers</h1><p class="P27"><span class="T541">The CDG explains how all workers are built, and this also applies to RCC workers.  There are some </span><span class="Code">Makefile</span><span class="T541"> variables that apply only to RCC workers.  They can be set:</span></p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T541">in the worker's </span><span class="Code">Makefile</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T565">on the command line when invoking </span><span class="Code">make</span><span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T543">in a project's </span><span class="Code">Project.mk</span><span class="T543"> file</span><span class="odfLiEnd"/> </p></li></ul><p class="P28">If they are specific to the worker, they should only be in the worker's <span class="Code">Makefile</span>.</p><h2 class="P412"><a id="a_9_1_RCC_Compiler_and_Linking_Options"><span class="heading_numbering">9.1</span></a><a id="__RefHeading___Toc9390_1192881656"/>RCC Compiler <span class="T552">and Linking </span>Options</h2><p class="P319">For most RCC workers, the built-in compiler options are suitable and no extra variables are needed.  In special cases, it may be useful to control these options for a given worker, library or project.</p><p class="P321"><span class="T546">Compiler and link option variables exist in several variants, with suffixes to indicate how narrowly to apply them.  For each such option variable mentioned in the table below, there are actually 6 potential variables with different suffixes.   In the suffixes:   </span><span class="Code"><span class="T33">&lt;language&gt;</span></span><span class="T546"> is </span><span class="Code">C</span><span class="T546"> or </span><span class="Code">CC</span><span class="T546"> for C or C++, </span><span class="Code"><span class="T33">&lt;os&gt;</span></span><span class="T546"> is the operating system of target (e.g. </span><span class="Code">linux</span><span class="T546"> or </span><span class="Code">macos</span><span class="T546">), and </span><span class="Code"><span class="T33">&lt;</span></span><span class="Code"><span class="T57">platform</span></span><span class="Code"><span class="T33">&gt;</span></span><span class="T546"> is the specific RCC target platform</span>.  <span class="T547">A typical example of the fully specific target is </span><span class="Code">linux-c7-x86_64</span><span class="T547">, indicating the CentOS7 distribution of linux, compiled for the </span><span class="Code">x86_64</span><span class="T547"> architecture.  E.g., for the </span><span class="Code">RccCompileWarnings</span><span class="T547"> variable (in the table below) the variations are:</span></p><p class="P154">RccCompileWarnings<br/>RccCompileWarnings<span class="T33">&lt;language&gt;</span><br/>RccCompileWarnings<span class="T74">_</span><span class="T33">&lt;os&gt;</span><br/>RccCompileWarnings<span class="T33">&lt;language&gt;_&lt;os&gt;</span><br/>RccCompileWarnings_<span class="T33">&lt;</span><span class="T57">platform</span><span class="T33">&gt;</span><br/>RccCompileWarnings<span class="T33">&lt;language&gt;</span>_<span class="T33">&lt;</span><span class="T57">platform</span><span class="T33">&gt;</span></p><p class="P318">The most specific one overrides <span class="T548">all the </span>less specific ones above it.  For example, s<span class="T547">pecifying:</span></p><p class="P154">RccCompileWarnings_linux=-Wabi</p><p class="P317">would indicate that you want <span class="Code">-Wabi</span> <span class="T548">to be the only warning </span>option <span class="T548">when building RCC workers for the linux OS.  If you also set:</span></p><p class="P154">RccCompileWarnings=-Wall</p><p class="P321"><span class="T548">then for all OSs other than linux, the warnings would be </span><span class="Code">-Wall</span>.  <span class="T548">If you wanted the default for all targets to be </span><span class="Code">-Wall</span><span class="T548">, but to </span><span class="T56">add</span><span class="T548"> </span><span class="Code">-Wabi</span><span class="T548"> for linux, you would specify:</span></p><p class="P154">RccCompileWarnings=-Wall<br/>RccCompileWarnings_linux=$(RccCompilerWarnings) -Wabi</p><p class="P325">For each variable, like the <span class="Code">RccCompileWarnings</span> example above, there are actually 2 variables that each use the suffixes scheme:</p><ul><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RccCompileWarnings</span> – which OpenCPI controls and sets as appropriate<span class="odfLiEnd"/> </p></li><li><p class="List_20_Bullet" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="Code">RccExtraCompileWarnings</span> – which OpenCPI never sets and <span class="T568">whose contents </span>is placed on the compil<span class="T568">e</span> or link command line <span class="T33">after</span> the one without “<span class="Code">Extra</span>”.<span class="odfLiEnd"/> </p></li></ul><p class="P322"><span class="T567">Thus it is strongly recommended to use the </span><span class="Code">Extra</span><span class="T567"> variants when possible.  </span>Specifying incorrect options for compilation and linking can easily result in errors.  There is no guarantee that any additional options will be compatible with OpenCPI or result in functional worker binary artifacts.  When changing these options, it is recommended to first run with default settings and <span class="T567">use the </span><span class="Code">showvars</span><span class="T567"> make target </span>on the <span class="Code">make</span> command line to see how the options are used, before and after modifying these variables.</p><p class="P358">Table <a id="refTable9"/>10:  <span class="T541">RCC make variables for inside RCC worker Makefiles</span></p><table border="0" cellspacing="0" cellpadding="0" class="Table12"><colgroup><col width="215"/><col width="506"/></colgroup><tr><td style="text-align:left;width:1.9396in; " class="Table12_A1"><p class="P91">Makefile Variable</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B1"><p class="P91">Description</p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P345">RccIncludeDirs<br/><span class="T542">IncludeDirs</span></p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P78">Directories to search for <span class="T550">C/C++ </span>header files outside OpenCPI.  <span class="T550">Either</span> <span class="Code">IncludeDirs</span> <span class="T550">or </span><span class="Code">RccIncludeDirs</span> <span class="T550">can be used in the worker Makefile, but </span> <span class="Code">RccIncludeDirs</span><span class="T550"> is </span>specific to RCC workers when specified at the library or project level.  <span class="T545">Can be relative or absolute pathnames. No </span><span class="Code">Extra</span><span class="T545"> or suffixes are used.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P349">RccCompileWarnings</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P83">For controlling compile warnings. <span class="T551">Uses option suffixes and </span><span class="Code">Extra</span><span class="T551">.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P349">RccCompileOptions</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P84">For controlling compil<span class="T568">e</span> options (not warnings). <span class="T551">Uses option suffixes and </span><span class="Code">Extra</span><span class="T551">.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P350">RccLinkOptions</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P83"><span class="T552">O</span>ptions <span class="T552">applied when creating the RCC worker shared object file</span>.  <span class="T552">Uses option suffixes and </span><span class="Code">Extra</span><span class="T552">.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P351">RccCustomLibs</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P85">Library options to specify libraries unknown to OpenCPI.  Uses option suffixes <span class="T575">but not </span><span class="Code">Extra</span>.  <span class="T576">OpenCPI never sets this.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P348">RccStaticPrereqLibs</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P79">Names of libraries installed as OpenCPI prerequisite libraries that this worker should link against, statically, which will incorporate (copy) any referenced objects in that library into the worker's binary artifact.  <span class="T544">This automatically puts the library's include directory in the search path for headers.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P348">RccDynamicPrereqLibs</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P80">Names of libraries installed as OpenCPI prerequisite libraries <span class="T550">to</span> link against, dynamically, which requires that the library be available at runtime.  <span class="T544">This automatically puts the library's include directory in the search path for headers.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P346">RccPlatform(s)<br/><span class="T554">OnlyPlatforms<br/>ExcludePlatforms</span></p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P81"><span class="T554">W</span>hich platform(s) should the RCC worker be built <span class="T568">for</span>?  <span class="T549">Only one of </span><span class="Code">RccPlatform</span><span class="T549"> or </span><span class="Code">RccPlatforms</span><span class="T549"> should be specified.  If none are specified, the development host running </span><span class="Code">make</span><span class="T549"> is assumed to be the target.  In a worker </span><span class="Code">Makefile</span><span class="T549">, </span><span class="Code">OnlyPlatforms</span><span class="T549"> and </span><span class="Code">ExcludePlatforms</span><span class="T549"> can be used to restrict which platforms the worker is built for, even when </span><span class="Code">RccPlatforms</span><span class="T549"> is set on the command line for many platforms.</span></p></td></tr><tr><td style="text-align:left;width:1.9396in; " class="Table12_A2"><p class="P347">RccHdlPlatform(s)</p></td><td style="text-align:left;width:4.5604in; " class="Table12_B2"><p class="P82">This option indirectly specifies the <span class="Code">RccPlatform(s)</span> in terms of its association with an HDL platform.  E.g. <span class="T566">setting </span><span class="Code">RccHdlPlatform=zed</span><span class="T566"> would specify the </span><span class="Code">RccPlatform</span><span class="T566"> currently associated with the </span><span class="Code">zed</span><span class="T566"> HDL platform, which may or may not be the same as used on other HDL Xilinx Zynq-based platforms</span>.</p></td></tr></table><p class="P320"> </p><h1 class="P362"><a id="a_10_Worker_Code_Examples"><span class="heading_numbering">10</span></a><a id="_Toc211780971"/><a id="_Toc211780997"/><a id="_Toc211781125"/><a id="_Toc211781797"/><a id="_Toc211783583"/><a id="_Toc211783582"/><a id="_Toc211780970"/><a id="_Toc211780996"/><a id="_Toc211781124"/><a id="_Toc211781796"/><a id="__RefHeading__10780_474132946"/>Worker <span class="T437">C</span>ode <span class="T437">E</span>xample<span class="T457">s</span></h1><h2 class="P411"><a id="a_10_1_C_Language_Examples"><span class="heading_numbering">10.1</span></a><a id="__RefHeading___Toc71735_1826048042"/>C Language Examples</h2><p class="P174">Here is a simple example of a <span class="T358">C-language</span> “Xyz” worker whose:</p><ul><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">I</span>nitial run condition was the default (condition == NULL, usecs == 0, run when all ports are ready, no timeout),<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="FirstEmphasis">start</span> <span class="T456">and </span><span class="FirstEmphasis">release</span> methods are <span class="T456">not needed or implemented.</span><span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne input port (0) with interface Xy<span class="T480">z</span>In,  and one output port (1) XyzOut<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne interface operation Op1 on input (i.e. can ignore “operation”), which is an array of 100 “shorts”.<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne interface operation Op2 on output<span class="odfLiEnd"/> </p></li><li><p class="P414" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne simple property, called center_frequency, of type float.<span class="odfLiEnd"/> </p></li></ul><p class="P174">The worker would have automatically generated types and structures like this (based on OCS and OWD), and put in a file called “<span class="T457">x</span>yz_Worker.h”:</p><p class="P111"><span class="T260">#include “RCC_Worker.h”</span><br/><span class="T260">typedef struct {        /* structure for defined properties /</span><br/><span class="T260">        RCCFloat center_frequency;</span><br/><span class="T260">} XyzProperties;</span><br/><span class="T260">typedef struct {        // structure for message for operation</span><br/><span class="T260">        int16_t ishorts[100];</span><br/><span class="T260">} XyzInOp1;</span><br/><br/><span class="T260">typedef struct {        // structure for message for operation</span><br/><span class="T260">        int16_t oshorts[100];</span><br/><span class="T260">} XyzOutOp2;</span><br/><br/><span class="T260">typedef enum { // port ordinals</span><br/><span class="T260">        XYZ_IN,</span><br/><span class="T260">        XYZ_OUT</span><br/><span class="T260">} XyzPort;</span><br/><br/><span class="T260">typedef enum { // operation ordinals</span><br/><span class="T260">        XYZ_OUT_OP2</span><br/><span class="T260">} XyzOutOperation;</span><br/><br/><span class="T260">typedef enum { // operation ordinals</span><br/><span class="T260">        XYZ_IN_OP1</span><br/><span class="T260">} XyzInOperation;</span></p><p class="P326">The actual code for the worker <span class="T569">is below.</span></p><h3 class="Heading_20_3"><a id="a_10_1_1_Worker_Using_the_Default_Run_Condition"><span class="heading_numbering">10.1.1</span></a><a id="__RefHeading___Toc158162_1192881656"/>Worker <span class="T488">U</span>sing <span class="T488">the Default Run Condition</span></h3><p class="P29">This C language worker uses the default run condition and thus has no checking for port readiness, but does set a default operation for output messages.  It always produces an output message for every input message, so <span class="T570">the run method</span> can simply return <span class="Code">RCC_ADVANCE</span>.</p><p class="P111"><span class="T260">#include “Xyz_Worker.h”</span><br/><br/><span class="T264">/* Define the initialize method, setting output operation to be a */</span><br/><span class="T264">/* constant, since it is the only one.*/</span><br/><span class="T260">static RCCResult</span><br/><span class="T260">initialize(RCCWorker *w) {</span><br/><span class="T260">        w-&gt;ports[XYZ_OUT].output.u.operation = XYZ_OUT_OP2;</span><br/><span class="T260">        return RCC_OK;</span><br/><span class="T260">}</span><br/><br/><span class="T264">/* Define run method to call the “compute” function, reading from */</span><br/><span class="T264">/* input buffer, writing to output, applying current value of the */</span><br/><span class="T264">/* “center frequency” property.*/</span><br/><span class="T260">static RCCResult</span><br/><span class="T260">run(RCCWorker *w, RCCBoolean timedout, RCCBoolean *newRunCondition)</span><br/><span class="T260">{</span><br/><span class="T260">        XyzProperties *p = w-&gt;properties;</span><br/><span class="T260">        XyzInOp1     *in = w-&gt;ports[XYZ_IN].current.data;</span><br/><span class="T260">        XyzOutOp2   *out = w-&gt;ports[XYZ_OUT].current.data;</span><br/><br/><span class="T260">        </span><span class="T264">/* Do computation based in ishorts, and frequency put results */</span><br/><span class="T260">        </span><span class="T264">/* in oshorts.  Extern is here simply for readability.</span><span class="T260"> */</span><br/><span class="T260">        extern void compute(int16_t *, int16_t *, float);</span><br/><br/><span class="T260">        compute(in-&gt;ishorts, out-&gt;oshorts, p-&gt;center_frequency);</span><br/><span class="T260">        </span><span class="T264">/* Ask container to get new input and output buffers *</span><span class="T265">/</span><br/><span class="T268">        </span><span class="T260">return RCC_ADVANCE;</span><br/><span class="T260">}</span><br/><br/><span class="T264">/* Initialize dispatch table for container, in a global symbol </span><span class="T265">/</span><br/><span class="T260">RCCDispatch Xyz = {</span><br/><span class="T265">        /*</span><span class="T264"> Consistency checking attributes */</span><br/><span class="T260">        RCC_VERSION, 1, 1, sizeof(XyzProperties), RCC_NULL, RCC_FALSE,</span><br/><span class="T264">        /* Methods */</span><br/><span class="T260">        initialize, RCC_NULL, RCC_NULL, RCC_NULL, RCC_NULL, RCC_NULL,</span><br/><span class="T260">        RCC_NULL, run,</span><br/><span class="T264">        /* Default run condition */</span><br/><span class="T260">        RCC_NULL</span><br/><span class="T260">};</span></p><p class="P174">Other than the compute function, the above example compiles to use less than 120 bytes on a<span class="T434">n</span> <span class="T434">ARM</span> processor.</p><h3 class="P368"><a id="a_10_1_2_Worker_Using_the_State-machine_Style"><span class="heading_numbering">10.1.2</span></a><a id="__RefHeading___Toc71739_1826048042"/><a id="_Toc211781128"/>Worker <span class="T488">U</span>sing <span class="T488">the S</span>tate-machine <span class="T488">S</span>tyle</h3><p class="P174">This illustrates a finite state machine coding style in a worker that maintains an internal state to simulate blocking on <span class="T359">a</span> two-way remote call until the response is received and processing can continue.</p><p class="P111"><span class="T260">#include "Xy</span><span class="T261">z</span><span class="T260">_Worker.h"</span><br/><span class="T264">/* Define two different run conditions to represent two states */</span><br/><span class="T260">static uint32_t</span><br/><span class="T260">  state1Ports[] = {1 &lt;&lt; XY</span><span class="T261">Z</span><span class="T260">_IN, </span><span class="T263">RCC_NO_PORTS</span><span class="T260">},</span><br/><span class="T260">  state2Ports[] = {1 &lt;&lt; XY</span><span class="T261">Z</span><span class="T260">_COMPUTE_REPLY_IN, </span><span class="T263">RCC_NO_PORTS</span><span class="T260">};</span><br/><span class="T260">static RCCRunCondition</span><br/><span class="T260">  awaitingInput = {state1Ports},</span><br/><span class="T260">  awaitingResponse = {state2Ports};</span><br/><br/><span class="T264">/* Define start method, set run condition, which is also state. </span><span class="T265">/</span><br/><span class="T260">static RCCResult</span><br/><span class="T260">initialize(RCCWorker *this)</span><br/><span class="T260">{</span><br/><span class="T260">        this-&gt;runCondition = &amp;awaitingInput;</span><br/><span class="T260">        return RCC_OK;</span><br/><span class="T260">}</span><br/><span class="T265">/</span><span class="T264">* Define run method to call the local "compute" function</span><br/><span class="T264"> * reading from input buffer, applying current value of the</span><br/><span class="T264"> * “center frequency” property, followed by remote two way</span><br/><span class="T264"> * “process” operation, finally writing result to output. */</span><br/><span class="T260">static RCCResult</span><br/><span class="T260">run(RCCWorker *this, RCCBoolean timedout, RCCBoolean *newRunCondition)</span><br/><span class="T268">{</span><br/><span class="T260">        RCCContainer *c = &amp;this-&gt;container;</span><br/><br/><span class="T264">        /* Use run condition as state indicator */ </span><br/><span class="T260">        if (this-&gt;runCondition == &amp;awaitingInput) {</span><br/><span class="T260">                RCCPort</span><br/><span class="T260">                        *inPort       = &amp;this-&gt;ports[XY</span><span class="T261">Z</span><span class="T260">_IN],</span><br/><span class="T260">                        *computeOut   = &amp;this-&gt;ports[XY</span><span class="T261">Z</span><span class="T260">_COMPUTE_REQUEST_OUT];</span><br/><span class="T260">                Xy</span><span class="T261">z</span><span class="T260">InOp1 *in     = inPort-&gt;current.data;</span><br/><span class="T260">                Xy</span><span class="T261">z</span><span class="T260">Properties *p = this-&gt;properties;</span><br/><br/><span class="T264">                /* do some computation based in ishorts, and frequency;</span><br/><span class="T264">                 * put results back in same buffer (in-place) */</span><br/><span class="T260">                extern void compute(int16_t *, int16_t *, float);</span><br/><span class="T260">                compute(in-&gt;ishorts, in-&gt;ishorts, p-&gt;center_frequency);</span><br/><br/><span class="T260">                /* Call Process op on user port - buffer ownership passes back</span><br/><span class="T260">                 * to container.  Input port is advanced by taking buffer away</span><br/><span class="T260">                 * from it. *</span><span class="T268">/</span><br/><span class="T260">                c-&gt;send(computeOut, &amp;inPort-&gt;current, XY</span><span class="T261">Z</span><span class="T260">_COMPUTE_PROCESS,</span><br/><span class="T260">                        inPort-&gt;input.length);        /* length of message */                                this-&gt;runCondition = &amp;awaitingResponse; /* update state */</span><br/><span class="T260">        } else {</span><br/><span class="T260">                RCCPort *computeIn = &amp;this-&gt;ports[XY</span><span class="T261">Z</span><span class="T260">_COMPUTE_REPLY_IN];</span><br/><span class="T260">                RCCPort *otherOut = &amp;this-&gt;ports[XY</span><span class="T261">Z</span><span class="T260">_OUT];</span><br/><br/><span class="T260">                if (computeIn-&gt;input.u.exception == 0)</span><br/><span class="T260">                        c-&gt;send(otherOut, &amp;computeIn-&gt;current, XY</span><span class="T261">Z</span><span class="T260">_OUT_OP2,</span><br/><span class="T260">                                computeIn-&gt;input.length);</span><br/><span class="T260">                else</span><br/><span class="T260">                        c-&gt;advance(computeIn, 0);</span><br/><span class="T260">                this-&gt;runCondition = &amp;awaitingInput; /* update state */</span><br/><span class="T260">        }</span><br/><span class="T260">        *newRunCondition = RCC_TRUE; /* to container: new runcondition </span><span class="T268">/</span><br/><span class="T268">        </span><span class="T260">return RCC_OK;</span><br/><span class="T268">}</span></p><p class="P111"><span class="T266">/* </span><span class="T267">continued on next page */</span><br/></p><p class="P56"><span class="T264">/* Initialize dispatch table provided to container. We only need the</span><br/><span class="T264"> * initialize method to register the callback.  No run method needed */</span><br/><span class="T260">RCCDispatch Xy</span><span class="T261">z</span><span class="T260"> = {</span><br/><span class="T264">        /* Consistency checking attributes */</span><br/><span class="T260">        RCC_VERSION, 1, 1, sizeof(Xy</span><span class="T261">z</span><span class="T260">Properties), RCC_NULL, RCC_FALSE,</span><br/><span class="T264">        /* Methods */</span><br/><span class="T260">        initialize, RCC_NULL, RCC_NULL, RCC_NULL, RCC_NULL, RCC_NULL,</span><br/><span class="T260">        RCC_NULL, run,</span><br/><span class="T264">        /* all remaining members zero/NULL */</span><br/><span class="T260">};</span></p><p class="P174">Other than the compute function, the above example compiles to use less than 330 bytes on a Pentium processor.</p><h2 class="P407"><a id="a_10_2_C___Language_Examples"><span class="heading_numbering">10.2</span></a><a id="__RefHeading___Toc71741_1826048042"/>C++ Language Examples</h2><p class="P285">Here is a simple example of a <span class="T358">C++ language</span> “<span class="T458">x</span>yz” worker whose:</p><ul><li><p class="P426" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">I</span>nitial run condition was the default (condition == NULL, usecs == 0, run when all ports are ready, no timeout),<span class="odfLiEnd"/> </p></li><li><p class="P426" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="FirstEmphasis"><span class="T458">initialize, </span></span><span class="FirstEmphasis">start</span> <span class="T456">and </span><span class="FirstEmphasis">release</span> methods are <span class="T456">not needed or implemented.</span><span class="odfLiEnd"/> </p></li><li><p class="P426" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne input port (<span class="Code">in</span>),  and one output port (<span class="Code">out</span>)<span class="odfLiEnd"/> </p></li><li><p class="P426" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne interface operation Op1 on input, which is an array of 100 “shorts”.<span class="odfLiEnd"/> </p></li><li><p class="P426" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne interface operation Op2 on output, <span class="T481">a sequence of shorts.</span><span class="odfLiEnd"/> </p></li><li><p class="P426" style="margin-left:1.016cm;"><span style="display:block;float:left;min-width:0.635cm;"></span><span class="T433">O</span>ne simple property, called center_frequency, of type float.<span class="odfLiEnd"/> </p></li></ul><p class="P290"><span class="T481">The OPS for the </span><span class="Code">in</span><span class="T481"> port would be (in the </span><span class="Code">shortarray-prot.xml</span><span class="T481"> file):</span></p><p class="P146">&lt;protocol&gt;<br/>  &lt;operation name='op1'&gt;<br/>    &lt;argument name='shorts' type='short' arraylength='10<span class="T482">0</span>'/&gt;<br/>  &lt;/operation&gt;<br/>&lt;/protocol&gt;</p><p class="P290"><span class="T481">The OPS for the output port would be (in the </span><span class="Code">shortseq-prot.xml</span><span class="T481"> file)</span></p><p class="P146">&lt;protocol&gt;<br/>  &lt;operation name='op2'&gt;<br/>    &lt;argument name='shorts' type='short' sequencelength='0'/&gt;<br/>  &lt;/operation&gt;<br/>&lt;/protocol&gt;</p><p class="P291">The OCS for the component would be (in the <span class="Code">xyz-spec.xml</span> file):</p><p class="P147">&lt;componentSpec&gt;<br/>  <span class="T571">&lt;property name='center_frequency' type='float' writable='true'/&gt;</span><br/>  &lt;port name='in' protocol='shortarray'/&gt;<br/>  &lt;port name='out' protocol='shortseq'/&gt;<br/>&lt;/componentSpec&gt;</p><p class="P291">The OWD would be (in the file <span class="Code">xyz.xml</span>):</p><p class="P147">&lt;RccWorker spec=”xyz-spec” language='c++'/&gt;</p><p class="P290">The worker would have automatically generated types and structures like this (based on OCS and OWD), and put in a file called <span class="Code">xyz-worker.hh</span>:</p><p class="Code"><span class="T260">#include </span><span class="T262">&lt;</span><span class="T402">RCC_Worker.h</span><span class="T262">&gt;<br/>namespace XyzWorkerTypes {</span><br/>  <span class="T260">struct </span><span class="T262">Properties </span><span class="T260">{                // structure for properties<br/>    // </span><span class="T262">internal stuff here</span><span class="T260"><br/>    </span><span class="T262">const </span><span class="T260">RCCFloat center_frequency; // </span><span class="T262">const since not volatile</span><br/>  <span class="T260">};<br/>  </span><span class="T262">class XyzWorkerBase {              // base class inherited by worker<br/>  // internal stuff here, including port members<br/>  };</span><br/><span class="T260">}</span></p><p class="P355">The actual code for the <span class="T458">C++</span>worker would look like this <span class="T482">(in the file </span><span class="Code">xyz.cc</span><span class="T482">)</span>:</p><p class="P148"><span class="T462">#include </span><span class="T467">"</span><span class="T462">xyz-worker.hh</span><span class="T467">"  // include generated declarations</span><span class="T462"><br/></span><span class="T459"><br/>using namespace OCPI::RCC; // for access to RCC data types and constants<br/>using namespace </span><span class="T461">Xyz</span><span class="T459">WorkerTypes;  // </span><span class="T460">for generated types</span><span class="T459"><br/><br/>struct XyzWorker : public XyzWorkerBase { // use struct to avoid </span><span class="T467">"</span><span class="T459">public</span><span class="T467">"</span><span class="T459"><br/>  </span><span class="T462">// In constructor, set output operation to be a constant,<br/>  // since it is the only one used, but not the default (0)</span><span class="T459"><br/>  </span><span class="T462">XyzWorker() {</span><span class="T459"><br/>    </span><span class="T462">out.setDefaultOpCode(ProtOp2_OPERATION);</span><span class="T459"><br/>  </span><span class="T462">}</span><span class="T459"><br/>  </span><span class="T462">void<br/>  compute(int16_t *in, int16_t *out, size_t n, float freq) { ... }</span><span class="T459"><br/>  </span><span class="T462">// Define run method to call the “compute” function, reading from</span><span class="T459"><br/>  </span><span class="T462">// input buffer, writing to output, applying current value of the</span><span class="T459"><br/>  </span><span class="T462">// centerFrequency” property</span><span class="T459"><br/>  </span><span class="T462">RCCResult</span><span class="T459"><br/>  </span><span class="T462">run(RCCBoolean /* timedout */) {</span><span class="T459"><br/></span><span class="T462">    // Do computation </span><span class="T463">from</span><span class="T462"> in.op0.shorts(), </span><span class="T463">using</span><span class="T462"> frequency, put results</span><span class="T459"><br/></span><span class="T462">    // in out.op2.shorts().<br/>    </span><span class="T464">out.op2().shorts().resize(in.op0().shorts</span><span class="T465">()</span><span class="T464">.size());</span><span class="T459"><br/>    </span><span class="T462">compute(in.op0().shorts().data(), out.op2().shorts().data(),<br/>            in.op0().shorts().size(), properties().center_frequency);</span><span class="T459"><br/>    </span><span class="T462">// Ask container to </span><span class="T465">send output and </span><span class="T462">get new input/output buffers */</span><span class="T459"><br/>    </span><span class="T462">return RCC_ADVANCE;</span><span class="T459"><br/>  </span><span class="T462">}<br/></span><span class="T463">};</span></p><h3 class="P395"><a id="a_10_2_1_Worker_Using_the_State-machine_Style"><span class="heading_numbering">10.2.1</span></a><a id="__RefHeading___Toc71743_1826048042"/><a id="_Toc2117811281"/>Worker <span class="T488">U</span>sing the <span class="T488">S</span>tate-machine <span class="T488">S</span>tyle</h3><p class="P355">This illustrates a finite state machine coding style in a <span class="T466">C++ </span>worker that maintains an internal state to simulate blocking on <span class="T359">a</span> two-way remote call until the response is received and processing can continue.  <span class="T468">It accepts data on its </span><span class="Code">in</span><span class="T468"> port, performs computation in-place (in the input buffer), then sends this buffer to an </span><span class="Code">out</span><span class="T468"> port, and starts awaiting a response from a </span><span class="Code">response</span><span class="T468"> input port.  When the response arrives, it sends the response to an </span><span class="Code">other</span><span class="T468"> output port, and reverts to its original condition, waiting for input.</span></p><p class="P145"><span class="T402">#include "xyz-worker.hh"  // include generated declarations<br/><br/>using namespace OCPI::RCC; // for access to RCC data types and constants<br/>using namespace </span><span class="T405">Xyz</span><span class="T402">WorkerTypes;  // for </span><span class="T404">this worker's </span><span class="T402">generated types<br/><br/>struct XyzWorker : public XyzWorkerBase { // use struct to avoid "public"</span><br/>  <span class="T402">// Define two different run conditions to represent two states<br/>  // These could be static and initialized outside the class too.</span><br/>  <span class="T402">RCCRunCondition m_awaitingInput, m_awaitingResponse;<br/>  XyzWorker()<br/>  : m_awaitingInput(1 &lt;&lt; XYZ_IN, </span><span class="T406">RCC_NO_PORTS</span><span class="T402">),</span><br/><span class="T402">    m_waitingResponse(1 &lt;&lt; XYZ_</span><span class="T404">RESPONSE</span><span class="T402">, </span><span class="T406">RCC_NO_PORTS</span><span class="T402">) {<br/>    setRunCondition(&amp;m_awaitingInput);<br/>  }</span><br/><span class="T402">  RCCResult</span><br/>  <span class="T402">run(RCCBoolean /* timedout */) {</span><br/>    <span class="T402">// Use run condition as state indicator</span><br/>    <span class="T402">if (getRunCondition() == &amp;m_awaitingInput) {</span><br/>      <span class="T402">// do some computation based in in.op0().shorts(), and frequency;</span><br/>      //<span class="T402"> put results back in same buffer (in-place)</span><br/>      <span class="T402">compute(in.</span><span class="T403">op0().</span><span class="T402">shorts</span><span class="T403">().data()</span><span class="T402">, </span><span class="T403">in.op0().shorts().data(),<br/>             </span><span class="T402"> in.</span><span class="T403">op0().</span><span class="T402">shorts</span><span class="T403">().size(), properties().</span><span class="T402">center_frequency);</span><br/>      // <span class="T402">Input port is advanced by taking buffer away from it.<br/>      </span><span class="T403">out.</span><span class="T402">send(in</span><span class="T403">);  // send input buffer to output, same op and length</span><span class="T402">,<br/>      </span><span class="T403">setR</span><span class="T402">unCondition</span><span class="T403">(</span><span class="T402">&amp;</span><span class="T403">m_</span><span class="T402">awaitingResponse</span><span class="T403">)</span><span class="T402">; //</span><span class="T404"> await response</span><br/>    <span class="T402">} else {</span><br/>      <span class="T468">other.</span><span class="T402">send(</span><span class="T404">response</span><span class="T402">);                 // </span><span class="T404">got response, send to other</span><br/>      <span class="T468">setR</span><span class="T402">unCondition</span><span class="T404">(</span><span class="T402">&amp;awaitingInput</span><span class="T404">)</span><span class="T402">;      // </span><span class="T404">change state to await input</span><br/>    <span class="T402">}</span><br/>    <span class="T402">return RCC_OK;</span><br/>  <span class="T402">}<br/></span><span class="T404">};</span></p><h1 class="P365"><a id="a_11_Glossary"><span class="heading_numbering">11</span></a><a id="__RefHeading__11907_1972665394"/>Glossary</h1><p class="P174"><span class="T3">Configuration Properties</span> – Named values associated with a worker that may be read or written by the control application and/or the worker. Their values indicate or control aspects of the worker’s operation. Reading and writing these property values may or may not have side effects on the operation of the worker. Configuration properties with side effects can be used for custom worker control. Each worker may have its own, possibly unique, set of configuration properties.  Some properties come from the OCS; they are common to all implementations that implement that OCS.  Other properties can be added in the OWD that are specific to that particular worker implementation.</p><p class="P174"><span class="T3">Container</span> – An OpenCPI infrastructure element that “contains”, manages and executes a set of application workers.  Logi<span class="T269">c</span>ally, the container “surrounds” the workers, mediating all interactions between the worker and the rest of the system.</p><p class="P174"><span class="T107">Worker</span><span class="T106"> Attribute</span><span class="T101"> – An attribute related to a particular implementation (design) of a worker.  I.e. one that is not necessarily common across a set of implementations of the same high level component definition (OCS).</span></p><p class="P160"><span class="T3">Worker</span> – A concrete implementation <span class="T398">of a component.  Also, a</span> runtime instance of a <span class="T398">worker source code implementation</span>, generally existing within a container.  A worker is implemented consistent with its <span class="T398">authoring model and its </span>OWD.</p><h1 class="P367"><a id="a_12_List_of_Abbreviations_and_Acronyms"><span class="heading_numbering">12</span></a><a id="_Toc270018464"/><a id="__RefHeading__10658_140039662"/>List of Abbreviations and Acronyms</h1><table border="0" cellspacing="0" cellpadding="0" class="Table10"><colgroup><col width="138"/><col width="536"/></colgroup><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A1"><p class="P75">ACI</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A1"><p class="P75">Application Control Interface</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A1"><p class="P75">API</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A1"><p class="P75">Application Programming Interface</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A1"><p class="P73">CDG</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A1"><p class="P73">OpenCPI Component Development Guide</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A4"><p class="P75">CDK</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A4"><p class="P75">Component Developer’s Kit</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A1"><p class="P73">OCS</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A1"><p class="P73">OpenCPI Component Specification</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A4"><p class="P75">OpenCPI</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A4"><p class="P75">Open-Source Component Portability Infrastructure</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A4"><p class="P73">OWD</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A4"><p class="P73">OpenCPI Worker Description</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A1"><p class="P74">RCC</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A1"><p class="P74">Resource Constrained C/<span class="T540">C++ </span>Language</p></td></tr><tr class="Table101"><td style="text-align:left;width:1.2472in; " class="Table10_A1"><p class="P75">XML</p></td><td style="text-align:left;width:4.8326in; " class="Table10_A1"><p class="P75">Extensible Markup Langua<span class="T270">ge</span></p></td></tr></table><p class="P19"/></body></html>