<!-- Lime Myriad RF on Zipper HSMC
     This card definition maps the devices' signals to the slot's signals
     This "card" is actually a daughter card (Myriad_RF) on a Zipper interposer card that can act as FMC or HSMC.
     This "card" results from the Myriad RF plugged into to the HSMC configuration on Zipper
     There is another "card" that results from the Myriad RF plugged into the FMC configuration on the Zipper

     In addition to the Lime rx and lime tx devices, this "card" also is able to
     program the:
     - SI5351C clockgen chip on zipper: via 2 completely separate SPI-ish output-only pins
     - ADF4002 PLL chip on zipperf      via a separate chip-select pin, and sharing the SPI_CLK and SPI_SDIO pins with the lime
     - PE42422 chip on MyriadRF:        via a GPIO2 to select between 2 lime RF outputs for the RF output connector
     - PE42440 chip on MyriadRF:        via a GPIO0:1 to switch the RF input connector among 3 lime RF inputs

     NF means Not Fabricated
-->

<card type="hsmc">
  <device worker='lime_adc'>
    <property name='use_clk_out_p' value='0'/>
    <property name='use_clk_in_p' value='1'/>
    <Signal name="rx_clk"     slot=''   />  <!-- lime pin 17 <- myriad net RXCLK <- myriad FX10 connector pin 59 <- zipper net RXCLK      <- zipper buffer <- zipper net RXCLK_BUFF -< zipper 5351 pin CLK2         -->
                                            <!-- (the above rx_clk has no HSMC slot because it is a lime input that is generated by the zipper board, i.e. it does not need an input from the HSMC card)            -->
    <Signal name="rx_clk_out" slot=''   />  <!-- lime pin 40 <-.................- myriad RF no connection                                                                                                           -->
    <Signal name='rx_clk_in'  slot='D39_OR_LVDS_CLKIN1n'/>  <!--                                            zipper 5351 pin CLK3 -> zipper net RXCLK_C    -> zipper buffer -> zipper net RXCLK_C   -> zipper HSMC pin 98 (HSMC-D39) -->
    <Signal name="rx_iq_sel"  slot='D26_OR_LVDS_TXn5'/>     <!-- lime pin 16 -> myriad net RXIQSEL->myriad FX10 connector pin 39 -> zipper net RXIQSEL_HM -> zipper buffer -> zipper net RXIQSEL_H -> zipper HSMC pin 79 (HSMC-D26) -->
    <Signal name="rxd(0)"     slot='D2' />                  <!-- lime pin 15 -> myriad net RXD0  -> myriad FX10 connector pin 43 -> zipper net RXD0_HM    -> zipper buffer -> zipper net RXD0_H    -> zipper HSMC pin 43 (HSMC-D2 ) -->
    <Signal name="rxd(1)"     slot='D0' />                  <!-- lime pin 14 -> myriad net RXD1  -> myriad FX10 connector pin 44 -> zipper net RXD1_HM    -> zipper buffer -> zipper net RXD1_H    -> zipper HSMC pin 41 (HSMC-D0 ) -->
    <Signal name="rxd(2)"     slot='D6_OR_LVDS_TXn0' />     <!-- lime pin 13 -> myriad net RXD2  -> myriad FX10 connector pin 45 -> zipper net RXD2_HM    -> zipper buffer -> zipper net RXD2_H    -> zipper HSMC pin 49 (HSMC-D6 ) -->
    <Signal name="rxd(3)"     slot='D4_OR_LVDS_TXp0' />     <!-- lime pin 10 -> myriad net RXD3  -> myriad FX10 connector pin 46 -> zipper net RXD3_HM    -> zipper buffer -> zipper net RXD3_H    -> zipper HSMC pin 47 (HSMC-D4 ) -->
    <Signal name="rxd(4)"     slot='D10_OR_LVDS_TXn1'/>     <!-- lime pin 11 -> myriad net RXD4  -> myriad FX10 connector pin 49 -> zipper net RXD4_HM    -> zipper buffer -> zipper net RXD4_H    -> zipper HSMC pin 55 (HSMC-D10) -->
    <Signal name="rxd(5)"     slot='D8_OR_LVDS_TXp1' />     <!-- lime pin 8  -> myriad net RXD5  -> myriad FX10 connector pin 50 -> zipper net RXD5_HM    -> zipper buffer -> zipper net RXD5_H    -> zipper HSMC pin 53 (HSMC-D8 ) -->
    <Signal name="rxd(6)"     slot='D14_OR_LVDS_TXn2'/>     <!-- lime pin 9  -> myriad net RXD6  -> myriad FX10 connector pin 51 -> zipper net RXD6_HM    -> zipper buffer -> zipper net RXD6_H    -> zipper HSMC pin 61 (HSMC-D14) -->
    <Signal name="rxd(7)"     slot='D12_OR_LVDS_TXp2'/>     <!-- lime pin 6  -> myriad net RXD7  -> myriad FX10 connector pin 52 -> zipper net RXD7_HM    -> zipper buffer -> zipper net RXD7_H    -> zipper HSMC pin 59 (HSMC-D12) -->
    <Signal name="rxd(8)"     slot='D18_OR_LVDS_TXn3'/>     <!-- lime pin 5  -> myriad net RXD8  -> myriad FX10 connector pin 53 -> zipper net RXD8_HM    -> zipper buffer -> zipper net RXD8_H    -> zipper HSMC pin 67 (HSMC-D18) -->
    <Signal name="rxd(9)"     slot='D16_OR_LVDS_TXp3'/>     <!-- lime pin 4  -> myriad net RXD9  -> myriad FX10 connector pin 54 -> zipper net RXD9_HM    -> zipper buffer -> zipper net RXD9_H    -> zipper HSMC pin 65 (HSMC-D16) -->
    <Signal name="rxd(10)"    slot='D22_OR_LVDS_TXn4'/>     <!-- lime pin 3  -> myriad net RXD10 -> myriad FX10 connector pin 55 -> zipper net RXD10_HM   -> zipper buffer -> zipper net RXD10_H   -> zipper HSMC pin 73 (HSMC-D22) -->
    <Signal name="rxd(11)"    slot='D20_OR_LVDS_TXp4'/>     <!-- lime pin 2  -> myriad net RXD11 -> myriad FX10 connector pin 56 -> zipper net RXD11_HM   -> zipper buffer -> zipper net RXD11_H   -> zipper HSMC pin 71 (HSMC-D20) -->
  </device>
  <device worker='lime_dac'>
    <Signal name="tx_clk"    slot=''    />  <!-- lime pin 19 <- myriad net TXCLK <- myriad FX10 connector pin 60 <- zipper net TXCLK  <- ... <- zipper 5351 CLK4 (default manuf HWconfig) (R44   , R27 NF,                          )-->
                                            <!-- lime pin 19 <- myriad net TXCLK <- myriad FX10 connector pin 75 -< zipper net CLK_IN <- ... <- zipper CDCV304PW pin5                     (R44 NF, R27   ,R4   ,R49 NF, R2   , R5 NF)-->
                                            <!-- lime pin 19 <- myriad net TXCLK <- myriad FX10 connector pin 75 -< zipper net CLK_IN <- ... <- zipper 5351 CLK0                          (R44 NF, R27   ,R4   ,R49 NF, R2 NF, R5   )-->
                                            <!-- lime pin 19 <- myriad net TXCLK <- myriad X8 connector                                                                                   (R44 NF, R27   ,R4 NF,R49  ,              )-->
                                            <!-- (the above tx_clk has no HSMC slot because it is a lime input that is generated by the zipper board or some other config, none of which require an input from the HSMC card)        -->
    <Signal name='tx_clk_in' slot='D38_OR_LVDS_CLKOUT1n' />  <!-- zipper 5351 pin CLK5 -> zipper net TXCLK_C_BUFF> zipper buffer -> zipper net TXCLK_C   -> zipper HSMC pin 97(HSMC-D38)(default R88NF,R89)-->
                                                             <!-- zipper 5351 pin CLK4 -> zipper net TXCLK_BUFF -> zipper buffer -> zipper net TXCLK_C   -> zipper HSMC pin 97(HSMC-D38)       (R88,R89 NF)-->
    <Signal name="tx_iq_sel" slot='D27_OR_LVDS_RXn5' />  <!-- lime pin 20 -> myriad net TXIQSEL> myriad FX10 connector pin 19 -> zipper net TXIQSEL_HM -> zipper buffer -> zipper net TXIQSEL_H -> zipper HSMC pin 80 (HSMC-D27) -->
    <Signal name="txd(0)"    slot='D1'  />               <!-- lime pin 21 -> myriad net TXD0  -> myriad FX10 connector pin 23 -> zipper net TXD0_HM    -> zipper buffer -> zipper net TXD0_H    -> zipper HSMC pin 42 (HSMC-D1 ) -->
    <Signal name="txd(1)"    slot='D3'  />               <!-- lime pin 22 -> myriad net TXD1  -> myriad FX10 connector pin 24 -> zipper net TXD1_HM    -> zipper buffer -> zipper net TXD1_H    -> zipper HSMC pin 44 (HSMC-D3 ) -->
    <Signal name="txd(2)"    slot='D5_OR_LVDS_RXp0'  />  <!-- lime pin 23 -> myriad net TXD2  -> myriad FX10 connector pin 25 -> zipper net TXD2_HM    -> zipper buffer -> zipper net TXD2_H    -> zipper HSMC pin 48 (HSMC-D5 ) -->
    <Signal name="txd(3)"    slot='D7_OR_LVDS_RXn0'  />  <!-- lime pin 24 -> myriad net TXD3  -> myriad FX10 connector pin 26 -> zipper net TXD3_HM    -> zipper buffer -> zipper net TXD3_H    -> zipper HSMC pin 50 (HSMC-D7 ) -->
    <Signal name="txd(4)"    slot='D9_OR_LVDS_RXp1'  />  <!-- lime pin 25 -> myriad net TXD4  -> myriad FX10 connector pin 29 -> zipper net TXD4_HM    -> zipper buffer -> zipper net TXD4_H    -> zipper HSMC pin 54 (HSMC-D9 ) -->
    <Signal name="txd(5)"    slot='D11_OR_LVDS_RXn1' />  <!-- lime pin 26 -> myriad net TXD5  -> myriad FX10 connector pin 30 -> zipper net TXD5_HM    -> zipper buffer -> zipper net TXD5_H    -> zipper HSMC pin 56 (HSMC-D11) -->
    <Signal name="txd(6)"    slot='D13_OR_LVDS_RXp2' />  <!-- lime pin 27 -> myriad net TXD6  -> myriad FX10 connector pin 31 -> zipper net TXD6_HM    -> zipper buffer -> zipper net TXD6_H    -> zipper HSMC pin 60 (HSMC-D13) -->
    <Signal name="txd(7)"    slot='D15_OR_LVDS_RXn2' />  <!-- lime pin 28 -> myriad net TXD7  -> myriad FX10 connector pin 32 -> zipper net TXD7_HM    -> zipper buffer -> zipper net TXD7_H    -> zipper HSMC pin 62 (HSMC-D15) -->
    <Signal name="txd(8)"    slot='D17_OR_LVDS_RXp3' />  <!-- lime pin 29 -> myriad net TXD8  -> myriad FX10 connector pin 33 -> zipper net TXD8_HM    -> zipper buffer -> zipper net TXD8_H    -> zipper HSMC pin 66 (HSMC-D17) -->
    <Signal name="txd(9)"    slot='D19_OR_LVDS_RXn3' />  <!-- lime pin 30 -> myriad net TXD9  -> myriad FX10 connector pin 34 -> zipper net TXD9_HM    -> zipper buffer -> zipper net TXD9_H    -> zipper HSMC pin 68 (HSMC-D19) -->
    <Signal name="txd(10)"   slot='D21_OR_LVDS_RXp4' />  <!-- lime pin 31 -> myriad net TXD10 -> myriad FX10 connector pin 35 -> zipper net TXD10_HM   -> zipper buffer -> zipper net TXD10_H   -> zipper HSMC pin 72 (HSMC-D21) -->
    <Signal name="txd(11)"   slot='D23_OR_LVDS_RXn4' />  <!-- lime pin 32 -> myriad net TXD11 -> myriad FX10 connector pin 36 -> zipper net TXD11_HM   -> zipper buffer -> zipper net TXD11_H   -> zipper HSMC pin 74 (HSMC-D23) -->
  </device>

  <device worker='lime_spi'>
                                                        <!--  lime lime       myriad          myriad                           zipper                                                           -->
                                                        <!--  pin  name       name            RF pin                           net                                                              -->
    <!--Signal name='reset'     slot=''/-->             <!--  75   reset      reset           66   RESE      <- MCU                                  (default manuf HW config) (R60   , R24 NF) -->
    <!--Signal name='sdo'       slot=''/-->             <!--  68   sdo        sado(spi_miso)  70   SPI_MISO  <- MCU                                  (default manuf HW config  (R61   , R54 NF) -->
    <!--Signal name='sclk'      slot=''/-->             <!--  70   sclk       saclk(spi_clk)  72   SPI_CLK   <- MCU                                  (default manuf HW config  (R63   , R56 NF) -->
    <!--Signal name='sen'       slot=''/-->             <!--  67   sen        saen(spi_ncs0)  74   SPI_NCS0  <- MCU                                  (default manuf HW config  (R64   , R57 NF) -->
    <!--Signal name='sdio'      slot=''/-->             <!--  69   sdio       sadio(spi_mosi) 68   SPI_MOSI  <- MCU                                  (default manuf HW config  (R62   , R55 NF) -->
    <Signal name='reset'     slot='D28_OR_LVDS_TXp6'/>  <!--  75   reset      reset           66   RESET     <- RESET_C     <- zipper HSMC pin 83 (HSMC-D28)                   (R60 NF, R24   ) -->
    <Signal name='sdo'       slot='D30_OR_LVDS_TXn6'/>  <!--  68   sdo        sado(spi_miso)  70   SPI_MISO  <- SPI_MISO_C  <- zipper HSMC pin 85 (HSMC-D30)                   (R61 NF, R54   ) -->
    <Signal name='sclk'      slot='D33_OR_LVDS_RXp7'/>  <!--  70   sclk       saclk(spi_clk)  72   SPI_CLK   <- SPI_CLK_C   <- zipper HSMC pin 90 (HSMC-D33)                   (R63 NF, R56   ) -->
    <Signal name='sen'       slot='D29_OR_LVDS_RXp6'/>  <!--  67   sen        saen(spi_ncs0)  74   SPI_NCS_0 <- SPI_NCS_0_C <- zipper HSMC pin 84 (HSMC-D29)                   (R64 NF, R57   ) -->
    <Signal name='sdio'      slot='D31_OR_LVDS_RXn6'/>  <!--  69   sdio       sadio(spi_mosi) 68   SPI_MOSI  <- SPI_MOSI_C  <- zipper HSMC pin 86 (HSMC-D31)                   (R62 NF, R55   ) -->
  </device>
  <device worker='lime_rx'>
    <Signal name="rxen"       slot='D24_OR_LVDS_TXp5'/> <!--  76   rxen       rxen            80     zipper HSMC pin 77 (HSMC-D24) -->
  </device>
  <device worker='lime_tx'>
    <Signal name="txen"      slot='D25_OR_LVDS_RXp5'/>  <!--  66   txen       txen            79     zipper HSMC pin 78 (HSMC-D25) -->
  </device>
  <device worker='si5351'>
    <Signal name='intr'      slot=''/>           <!--  si5351 pin 3 not connected on zipper -->
    <Signal name='oeb'       slot=''/>           <!--  si5351 pin 7 tied to ground on zipper -->
  </device>
  <device worker='zipper_i2c'>
    <!--Signal name='scl'       slot=''/-->                    <!--                  scl_c                  (default manuf HW config)      (R74 NF, R76   ) -->
    <Signal name='scl'       slot='D48_OR_LVDS_TXp10'/>        <!--                  scl_c                  zipper HSMC pin 113 (HSMC-D48) (R74   , R76 NF) -->
    <!--Signal name='sda'       slot=''/-->                    <!--                  sda_c                  zipper HSMC pin 111 (HSMC- power  )                           (R75   , R77 NF)-->
                                                               <!--                  sda_c                  zipper HSMC pin 111 (HSMC- power  ) (default manuf HW config) (R75 NF, R77   )-->
    <Signal name='sda'       slot='D79_OR_CLKIN2n'/>           <!--                  sda_c                  zipper HSMC pin 158 ( ****CUSTOM HW MODIFICATION****                         )-->
  </device>
</card>
